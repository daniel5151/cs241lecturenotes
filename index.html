<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>cs241lecturenotes.html</title>
  <meta name="generator" content="Haroopad 0.13.1" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>div.oembedall-githubrepos{border:1px solid #DDD;border-radius:4px;list-style-type:none;margin:0 0 10px;padding:8px 10px 0;font:13.34px/1.4 helvetica,arial,freesans,clean,sans-serif;width:452px;background-color:#fff}div.oembedall-githubrepos .oembedall-body{background:-moz-linear-gradient(center top,#FAFAFA,#EFEFEF);background:-webkit-gradient(linear,left top,left bottom,from(#FAFAFA),to(#EFEFEF));border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-top:1px solid #EEE;margin-left:-10px;margin-top:8px;padding:5px 10px;width:100%}div.oembedall-githubrepos h3{font-size:14px;margin:0;padding-left:18px;white-space:nowrap}div.oembedall-githubrepos p.oembedall-description{color:#444;font-size:12px;margin:0 0 3px}div.oembedall-githubrepos p.oembedall-updated-at{color:#888;font-size:11px;margin:0}div.oembedall-githubrepos ul.oembedall-repo-stats{border:none;float:right;font-size:11px;font-weight:700;padding-left:15px;position:relative;z-index:5;margin:0}div.oembedall-githubrepos ul.oembedall-repo-stats li{border:none;color:#666;display:inline-block;list-style-type:none;margin:0!important}div.oembedall-githubrepos ul.oembedall-repo-stats li a{background-color:transparent;border:none;color:#666!important;background-position:5px -2px;background-repeat:no-repeat;border-left:1px solid #DDD;display:inline-block;height:21px;line-height:21px;padding:0 5px 0 23px}div.oembedall-githubrepos ul.oembedall-repo-stats li:first-child a{border-left:medium none;margin-right:-3px}div.oembedall-githubrepos ul.oembedall-repo-stats li a:hover{background:5px -27px no-repeat #4183C4;color:#FFF!important;text-decoration:none}div.oembedall-githubrepos ul.oembedall-repo-stats li:first-child a:hover{border-bottom-left-radius:3px;border-top-left-radius:3px}ul.oembedall-repo-stats li:last-child a:hover{border-bottom-right-radius:3px;border-top-right-radius:3px}span.oembedall-closehide{background-color:#aaa;border-radius:2px;cursor:pointer;margin-right:3px}div.oembedall-container{margin-top:5px;text-align:left}.oembedall-ljuser{font-weight:700}.oembedall-ljuser img{vertical-align:bottom;border:0;padding-right:1px}.oembedall-stoqembed{border-bottom:1px dotted #999;float:left;overflow:hidden;width:730px;line-height:1;background:#FFF;color:#000;font-family:Arial,Liberation Sans,DejaVu Sans,sans-serif;font-size:80%;text-align:left;margin:0;padding:0}.oembedall-stoqembed a{color:#07C;text-decoration:none;margin:0;padding:0}.oembedall-stoqembed a:hover{text-decoration:underline}.oembedall-stoqembed a:visited{color:#4A6B82}.oembedall-stoqembed h3{font-family:Trebuchet MS,Liberation Sans,DejaVu Sans,sans-serif;font-size:130%;font-weight:700;margin:0;padding:0}.oembedall-stoqembed .oembedall-reputation-score{color:#444;font-size:120%;font-weight:700;margin-right:2px}.oembedall-stoqembed .oembedall-user-info{height:35px;width:185px}.oembedall-stoqembed .oembedall-user-info .oembedall-user-gravatar32{float:left;height:32px;width:32px}.oembedall-stoqembed .oembedall-user-info .oembedall-user-details{float:left;margin-left:5px;overflow:hidden;white-space:nowrap;width:145px}.oembedall-stoqembed .oembedall-question-hyperlink{font-weight:700}.oembedall-stoqembed .oembedall-stats{background:#EEE;margin:0 0 0 7px;padding:4px 7px 6px;width:58px}.oembedall-stoqembed .oembedall-statscontainer{float:left;margin-right:8px;width:86px}.oembedall-stoqembed .oembedall-votes{color:#555;padding:0 0 7px;text-align:center}.oembedall-stoqembed .oembedall-vote-count-post{font-size:240%;color:#808185;display:block;font-weight:700}.oembedall-stoqembed .oembedall-views{color:#999;padding-top:4px;text-align:center}.oembedall-stoqembed .oembedall-status{margin-top:-3px;padding:4px 0;text-align:center;background:#75845C;color:#FFF}.oembedall-stoqembed .oembedall-status strong{color:#FFF;display:block;font-size:140%}.oembedall-stoqembed .oembedall-summary{float:left;width:635px}.oembedall-stoqembed .oembedall-excerpt{line-height:1.2;margin:0;padding:0 0 5px}.oembedall-stoqembed .oembedall-tags{float:left;line-height:18px}.oembedall-stoqembed .oembedall-tags a:hover{text-decoration:none}.oembedall-stoqembed .oembedall-post-tag{background-color:#E0EAF1;border-bottom:1px solid #3E6D8E;border-right:1px solid #7F9FB6;color:#3E6D8E;font-size:90%;line-height:2.4;margin:2px 2px 2px 0;padding:3px 4px;text-decoration:none;white-space:nowrap}.oembedall-stoqembed .oembedall-post-tag:hover{background-color:#3E6D8E;border-bottom:1px solid #37607D;border-right:1px solid #37607D;color:#E0EAF1}.oembedall-stoqembed .oembedall-fr{float:right}.oembedall-stoqembed .oembedall-statsarrow{background-image:url(http://cdn.sstatic.net/stackoverflow/img/sprites.png?v=3);background-repeat:no-repeat;overflow:hidden;background-position:0 -435px;float:right;height:13px;margin-top:12px;width:7px}.oembedall-facebook1{border:1px solid #1A3C6C;padding:0;font:13.34px/1.4 verdana;width:500px}.oembedall-facebook2{background-color:#627add}.oembedall-facebook2 a{color:#e8e8e8;text-decoration:none}.oembedall-facebookBody{background-color:#fff;vertical-align:top;padding:5px}.oembedall-facebookBody .contents{display:inline-block;width:100%}.oembedall-facebookBody div img{float:left;margin-right:5px}div.oembedall-lanyard{-webkit-box-shadow:none;-webkit-transition-delay:0s;-webkit-transition-duration:.4000000059604645s;-webkit-transition-property:width;-webkit-transition-timing-function:cubic-bezier(0.42,0,.58,1);background-attachment:scroll;background-clip:border-box;background-color:transparent;background-image:none;background-origin:padding-box;border-width:0;box-shadow:none;color:#112644;display:block;float:left;font-family:'Trebuchet MS',Trebuchet,sans-serif;font-size:16px;height:253px;line-height:19px;margin:0;max-width:none;min-height:0;outline:#112644 0;overflow-x:visible;overflow-y:visible;padding:0;position:relative;text-align:left;vertical-align:baseline;width:804px}div.oembedall-lanyard .tagline{font-size:1.5em}div.oembedall-lanyard .wrapper{overflow:hidden;clear:both}div.oembedall-lanyard .split{float:left;display:inline}div.oembedall-lanyard .prominent-place .flag:active,div.oembedall-lanyard .prominent-place .flag:focus,div.oembedall-lanyard .prominent-place .flag:hover,div.oembedall-lanyard .prominent-place .flag:link,div.oembedall-lanyard .prominent-place .flag:visited{float:left;display:block;width:48px;height:48px;position:relative;top:-5px;margin-right:10px}div.oembedall-lanyard .place-context{font-size:.889em}div.oembedall-lanyard .prominent-place .sub-place{display:block}div.oembedall-lanyard .prominent-place{font-size:1.125em;line-height:1.1em;font-weight:400}div.oembedall-lanyard .main-date{color:#8CB4E0;font-weight:700;line-height:1.1}div.oembedall-lanyard .first{width:48.57%;margin:0 0 0 2.857%}.mermaid .label{color:#333}.node circle,.node polygon,.node rect{fill:#cde498;stroke:#13540c;stroke-width:1px}.edgePath .path{stroke:green;stroke-width:1.5px}.cluster rect{fill:#cdffb2;rx:40;stroke:#6eaa49;stroke-width:1px}.cluster text{fill:#333}.actor{stroke:#13540c;fill:#cde498}text.actor{fill:#000;stroke:none}.actor-line{stroke:grey}.messageLine0{stroke-width:1.5;stroke-dasharray:"2 2";marker-end:"url(#arrowhead)";stroke:#333}.messageLine1{stroke-width:1.5;stroke-dasharray:"2 2";stroke:#333}#arrowhead{fill:#333}#crosshead path{fill:#333!important;stroke:#333!important}.messageText{fill:#333;stroke:none}.labelBox{stroke:#326932;fill:#cde498}.labelText,.loopText{fill:#000;stroke:none}.loopLine{stroke-width:2;stroke-dasharray:"2 2";marker-end:"url(#arrowhead)";stroke:#326932}.note{stroke:#6eaa49;fill:#fff5ad}.noteText{fill:#000;stroke:none;font-family:'trebuchet ms',verdana,arial;font-size:14px}.section{stroke:none;opacity:.2}.section0,.section2{fill:#6eaa49}.section1,.section3{fill:#fff;opacity:.2}.sectionTitle0,.sectionTitle1,.sectionTitle2,.sectionTitle3{fill:#333}.sectionTitle{text-anchor:start;font-size:11px;text-height:14px}.grid .tick{stroke:lightgrey;opacity:.3;shape-rendering:crispEdges}.grid path{stroke-width:0}.today{fill:none;stroke:red;stroke-width:2px}.task{stroke-width:2}.taskText{text-anchor:middle;font-size:11px}.taskTextOutsideRight{fill:#000;text-anchor:start;font-size:11px}.taskTextOutsideLeft{fill:#000;text-anchor:end;font-size:11px}.taskText0,.taskText1,.taskText2,.taskText3{fill:#fff}.task0,.task1,.task2,.task3{fill:#487e3a;stroke:#13540c}.taskTextOutside0,.taskTextOutside1,.taskTextOutside2,.taskTextOutside3{fill:#000}.active0,.active1,.active2,.active3{fill:#cde498;stroke:#13540c}.activeText0,.activeText1,.activeText2,.activeText3{fill:#000!important}.done0,.done1,.done2,.done3{stroke:grey;fill:lightgrey;stroke-width:2}.doneText0,.doneText1,.doneText2,.doneText3{fill:#000!important}.crit0,.crit1,.crit2,.crit3{stroke:#f88;fill:red;stroke-width:2}.activeCrit0,.activeCrit1,.activeCrit2,.activeCrit3{stroke:#f88;fill:#cde498;stroke-width:2}.doneCrit0,.doneCrit1,.doneCrit2,.doneCrit3{stroke:#f88;fill:lightgrey;stroke-width:2;cursor:pointer;shape-rendering:crispEdges}.activeCritText0,.activeCritText1,.activeCritText2,.activeCritText3,.doneCritText0,.doneCritText1,.doneCritText2,.doneCritText3{fill:#000!important}.titleText{text-anchor:middle;font-size:18px;fill:#000}text{font-family:'trebuchet ms',verdana,arial;font-size:14px}html{height:100%}body{margin:0!important;padding:5px 20px 26px!important;background-color:#fff;font-family:"Lucida Grande","Segoe UI","Apple SD Gothic Neo","Malgun Gothic","Lucida Sans Unicode",Helvetica,Arial,sans-serif;font-size:.9em;overflow-x:hidden;overflow-y:auto}br,h1,h2,h3,h4,h5,h6{clear:both}hr.page{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxAEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC) repeat-x;border:0;height:3px;padding:0}hr.underscore{border-top-style:dashed!important}body >:first-child{margin-top:0!important}img.plugin{box-shadow:0 1px 3px rgba(0,0,0,.1);border-radius:3px}iframe{border:0}figure{-webkit-margin-before:0;-webkit-margin-after:0;-webkit-margin-start:0;-webkit-margin-end:0}kbd{border:1px solid #aaa;-moz-border-radius:2px;-webkit-border-radius:2px;border-radius:2px;-moz-box-shadow:1px 2px 2px #ddd;-webkit-box-shadow:1px 2px 2px #ddd;box-shadow:1px 2px 2px #ddd;background-color:#f9f9f9;background-image:-moz-linear-gradient(top,#eee,#f9f9f9,#eee);background-image:-o-linear-gradient(top,#eee,#f9f9f9,#eee);background-image:-webkit-linear-gradient(top,#eee,#f9f9f9,#eee);background-image:linear-gradient(top,#eee,#f9f9f9,#eee);padding:1px 3px;font-family:inherit;font-size:.85em}.oembeded .oembed_photo{display:inline-block}img[data-echo]{margin:25px 0;width:100px;height:100px;background:url(../img/ajax.gif) center center no-repeat #fff}.spinner{display:inline-block;width:10px;height:10px;margin-bottom:-.1em;border:2px solid rgba(0,0,0,.5);border-top-color:transparent;border-radius:100%;-webkit-animation:spin 1s infinite linear;animation:spin 1s infinite linear}.spinner:after{content:'';display:block;width:0;height:0;position:absolute;top:-6px;left:0;border:4px solid transparent;border-bottom-color:rgba(0,0,0,.5);-webkit-transform:rotate(45deg);transform:rotate(45deg)}@-webkit-keyframes spin{to{-webkit-transform:rotate(360deg)}}@keyframes spin{to{transform:rotate(360deg)}}p.toc{margin:0!important}p.toc ul{padding-left:10px}p.toc>ul{padding:10px;margin:0 10px;display:inline-block;border:1px solid #ededed;border-radius:5px}p.toc li,p.toc ul{list-style-type:none}p.toc li{width:100%;padding:0;overflow:hidden}p.toc li a::after{content:"."}p.toc li a:before{content:"• "}p.toc h5{text-transform:uppercase}p.toc .title{float:left;padding-right:3px}p.toc .number{margin:0;float:right;padding-left:3px;background:#fff;display:none}input.task-list-item{margin-left:-1.62em}.markdown{font-family:"Hiragino Sans GB","Microsoft YaHei",STHeiti,SimSun,"Lucida Grande","Lucida Sans Unicode","Lucida Sans",'Segoe UI',AppleSDGothicNeo-Medium,'Malgun Gothic',Verdana,Tahoma,sans-serif;padding:20px}.markdown a{text-decoration:none;vertical-align:baseline}.markdown a:hover{text-decoration:underline}.markdown h1{font-size:2.2em;font-weight:700;margin:1.5em 0 1em}.markdown h2{font-size:1.8em;font-weight:700;margin:1.275em 0 .85em}.markdown h3{font-size:1.6em;font-weight:700;margin:1.125em 0 .75em}.markdown h4{font-size:1.4em;font-weight:700;margin:.99em 0 .66em}.markdown h5{font-size:1.2em;font-weight:700;margin:.855em 0 .57em}.markdown h6{font-size:1em;font-weight:700;margin:.75em 0 .5em}.markdown h1+p,.markdown h1:first-child,.markdown h2+p,.markdown h2:first-child,.markdown h3+p,.markdown h3:first-child,.markdown h4+p,.markdown h4:first-child,.markdown h5+p,.markdown h5:first-child,.markdown h6+p,.markdown h6:first-child{margin-top:0}.markdown hr{border:1px solid #ccc}.markdown p{margin:1em 0;word-wrap:break-word}.markdown ol{list-style-type:decimal}.markdown li{display:list-item;line-height:1.4em}.markdown blockquote{margin:1em 20px}.markdown blockquote>:first-child{margin-top:0}.markdown blockquote>:last-child{margin-bottom:0}.markdown blockquote cite:before{content:'\2014 \00A0'}.markdown .code{border-radius:3px;word-wrap:break-word}.markdown pre{border-radius:3px;word-wrap:break-word;border:1px solid #ccc;overflow:auto;padding:.5em}.markdown pre code{border:0;display:block}.markdown pre>code{font-family:Consolas,Inconsolata,Courier,monospace;font-weight:700;white-space:pre;margin:0}.markdown code{border-radius:3px;word-wrap:break-word;border:1px solid #ccc;padding:0 5px;margin:0 2px}.markdown img{max-width:100%}.markdown mark{color:#000;background-color:#fcf8e3}.markdown table{padding:0;border-collapse:collapse;border-spacing:0;margin-bottom:16px}.markdown table tr td,.markdown table tr th{border:1px solid #ccc;margin:0;padding:6px 13px}.markdown table tr th{font-weight:700}.markdown table tr th>:first-child{margin-top:0}.markdown table tr th>:last-child{margin-bottom:0}.markdown table tr td>:first-child{margin-top:0}.markdown table tr td>:last-child{margin-bottom:0}.github{padding:20px;font-family:"Helvetica Neue",Helvetica,"Hiragino Sans GB","Microsoft YaHei",STHeiti,SimSun,"Segoe UI",AppleSDGothicNeo-Medium,'Malgun Gothic',Arial,freesans,sans-serif;font-size:15px;background:#fff;line-height:1.6;-webkit-font-smoothing:antialiased}.github a{color:#3269a0}.github a:hover{color:#4183c4}.github h2{border-bottom:1px solid #e6e6e6;line-height:1.6}.github h6{color:#777}.github hr{border:1px solid #e6e6e6}.github pre>code{font-size:.9em;font-family:Consolas,Inconsolata,Courier,monospace}.github blockquote>code,.github h1>code,.github h2>code,.github h3>code,.github h4>code,.github h5>code,.github h6>code,.github li>code,.github p>code,.github td>code{background-color:rgba(0,0,0,.07);font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;font-size:85%;padding:.2em .5em;border:0}.github blockquote{border-left:4px solid #e6e6e6;padding:0 15px;font-style:italic}.github table{background-color:#fafafa}.github table tr td,.github table tr th{border:1px solid #e6e6e6}.github table tr:nth-child(2n){background-color:#f2f2f2}.hljs{display:block;overflow-x:auto;padding:.5em;background:#fdf6e3;color:#657b83;-webkit-text-size-adjust:none}.diff .hljs-header,.hljs-comment,.hljs-doctype,.hljs-javadoc,.hljs-pi,.lisp .hljs-string{color:#93a1a1}.css .hljs-tag,.hljs-addition,.hljs-keyword,.hljs-request,.hljs-status,.hljs-winutils,.method,.nginx .hljs-title{color:#859900}.hljs-command,.hljs-dartdoc,.hljs-hexcolor,.hljs-link_url,.hljs-number,.hljs-phpdoc,.hljs-regexp,.hljs-rules .hljs-value,.hljs-string,.hljs-tag .hljs-value,.tex .hljs-formula{color:#2aa198}.css .hljs-function,.hljs-built_in,.hljs-chunk,.hljs-decorator,.hljs-id,.hljs-identifier,.hljs-localvars,.hljs-title,.vhdl .hljs-literal{color:#268bd2}.hljs-attribute,.hljs-class .hljs-title,.hljs-constant,.hljs-link_reference,.hljs-parent,.hljs-type,.hljs-variable,.lisp .hljs-body,.smalltalk .hljs-number{color:#b58900}.css .hljs-pseudo,.diff .hljs-change,.hljs-attr_selector,.hljs-cdata,.hljs-header,.hljs-pragma,.hljs-preprocessor,.hljs-preprocessor .hljs-keyword,.hljs-shebang,.hljs-special,.hljs-subst,.hljs-symbol,.hljs-symbol .hljs-string{color:#cb4b16}.hljs-deletion,.hljs-important{color:#dc322f}.hljs-link_label{color:#6c71c4}.tex .hljs-formula{background:#eee8d5}.MathJax_Hover_Frame{border-radius:.25em;-webkit-border-radius:.25em;-moz-border-radius:.25em;-khtml-border-radius:.25em;box-shadow:0 0 15px #83A;-webkit-box-shadow:0 0 15px #83A;-moz-box-shadow:0 0 15px #83A;-khtml-box-shadow:0 0 15px #83A;border:1px solid #A6D!important;display:inline-block;position:absolute}.MathJax_Hover_Arrow{position:absolute;width:15px;height:11px;cursor:pointer}#MathJax_About{position:fixed;left:50%;width:auto;text-align:center;border:3px outset;padding:1em 2em;background-color:#DDD;color:#000;cursor:default;font-family:message-box;font-size:120%;font-style:normal;text-indent:0;text-transform:none;line-height:normal;letter-spacing:normal;word-spacing:normal;word-wrap:normal;white-space:nowrap;float:none;z-index:201;border-radius:15px;-webkit-border-radius:15px;-moz-border-radius:15px;-khtml-border-radius:15px;box-shadow:0 10px 20px gray;-webkit-box-shadow:0 10px 20px gray;-moz-box-shadow:0 10px 20px gray;-khtml-box-shadow:0 10px 20px gray;filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}.MathJax_Menu{position:absolute;background-color:#fff;color:#000;width:auto;padding:5px 0;border:1px solid #CCC;margin:0;cursor:default;font:menu;text-align:left;text-indent:0;text-transform:none;line-height:normal;letter-spacing:normal;word-spacing:normal;word-wrap:normal;white-space:nowrap;float:none;z-index:201;border-radius:5px;-webkit-border-radius:5px;-moz-border-radius:5px;-khtml-border-radius:5px;box-shadow:0 10px 20px gray;-webkit-box-shadow:0 10px 20px gray;-moz-box-shadow:0 10px 20px gray;-khtml-box-shadow:0 10px 20px gray;filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}.MathJax_MenuItem{padding:1px 2em;background:0 0}.MathJax_MenuArrow{position:absolute;right:.5em;color:#666}.MathJax_MenuActive .MathJax_MenuArrow{color:#fff}.MathJax_MenuArrow.RTL{left:.5em;right:auto}.MathJax_MenuCheck{position:absolute;left:.7em}.MathJax_MenuCheck.RTL{right:.7em;left:auto}.MathJax_MenuRadioCheck{position:absolute;left:.7em}.MathJax_MenuRadioCheck.RTL{right:.7em;left:auto}.MathJax_MenuLabel{padding:1px 2em 3px 1.33em;font-style:italic}.MathJax_MenuRule{border-top:1px solid #DDD;margin:4px 3px}.MathJax_MenuDisabled{color:GrayText}.MathJax_MenuActive{background-color:#606872;color:#fff}.MathJax_Menu_Close{position:absolute;width:31px;height:31px;top:-15px;left:-15px}#MathJax_Zoom{position:absolute;background-color:#F0F0F0;overflow:auto;display:block;z-index:301;padding:.5em;border:1px solid #000;margin:0;font-weight:400;font-style:normal;text-align:left;text-indent:0;text-transform:none;line-height:normal;letter-spacing:normal;word-spacing:normal;word-wrap:normal;white-space:nowrap;float:none;box-shadow:5px 5px 15px #AAA;-webkit-box-shadow:5px 5px 15px #AAA;-moz-box-shadow:5px 5px 15px #AAA;-khtml-box-shadow:5px 5px 15px #AAA;filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}#MathJax_ZoomOverlay{position:absolute;left:0;top:0;z-index:300;display:inline-block;width:100%;height:100%;border:0;padding:0;margin:0;background-color:#fff;opacity:0;filter:alpha(opacity=0)}#MathJax_ZoomFrame{position:relative;display:inline-block;height:0;width:0}#MathJax_ZoomEventTrap{position:absolute;left:0;top:0;z-index:302;display:inline-block;border:0;padding:0;margin:0;background-color:#fff;opacity:0;filter:alpha(opacity=0)}.MathJax_Preview{color:#888}#MathJax_Message{position:fixed;left:1px;bottom:2px;background-color:#E6E6E6;border:1px solid #959595;margin:0;padding:2px 8px;z-index:102;color:#000;font-size:80%;width:auto;white-space:nowrap}#MathJax_MSIE_Frame{position:absolute;top:0;left:0;width:0;z-index:101;border:0;margin:0;padding:0}.MathJax_Error{color:#C00;font-style:italic}.MathJax_Display{text-align:center;margin:1em 0;position:relative;display:block!important;text-indent:0;max-width:none;max-height:none;min-width:0;min-height:0;width:100%}.MathJax .merror{background-color:#FF8;color:#C00;border:1px solid #C00;padding:1px 3px;font-style:normal;font-size:90%}.MathJax .MJX-monospace{font-family:monospace}.MathJax .MJX-sans-serif{font-family:sans-serif}#MathJax_Tooltip{background-color:InfoBackground;color:InfoText;border:1px solid #000;box-shadow:2px 2px 5px #AAA;-webkit-box-shadow:2px 2px 5px #AAA;-moz-box-shadow:2px 2px 5px #AAA;-khtml-box-shadow:2px 2px 5px #AAA;filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true');padding:3px 4px;z-index:401;position:absolute;left:0;top:0;width:auto;height:auto;display:none}.MathJax{display:inline;font-style:normal;font-weight:400;line-height:normal;font-size:100%;font-size-adjust:none;text-indent:0;text-align:left;text-transform:none;letter-spacing:normal;word-spacing:normal;word-wrap:normal;white-space:nowrap;float:none;direction:ltr;max-width:none;max-height:none;min-width:0;min-height:0;border:0;padding:0;margin:0}.MathJax a,.MathJax img,.MathJax nobr{border:0;padding:0;margin:0;max-width:5000em;max-height:5000em;min-width:0;min-height:0;vertical-align:0;line-height:normal;text-decoration:none}img.MathJax_strut{border:0!important;padding:0!important;margin:0!important;vertical-align:0!important}.MathJax span{display:inline;position:static;border:0;padding:0;margin:0;vertical-align:0;line-height:normal;text-decoration:none}.MathJax nobr{white-space:nowrap!important}.MathJax img{display:inline!important;float:none!important}.MathJax *{transition:none;-webkit-transition:none;-moz-transition:none;-ms-transition:none;-o-transition:none}.MathJax_Processing{visibility:hidden;position:fixed;width:0;height:0;overflow:hidden}.MathJax_Processed{display:none!important}.MathJax_ExBox{display:block!important;overflow:hidden;width:1px;height:60ex;min-height:0;max-height:none}.MathJax .MathJax_EmBox{display:block!important;overflow:hidden;width:1px;height:60em;min-height:0;max-height:none}.MathJax .MathJax_HitBox{cursor:text;background:#fff;opacity:0;filter:alpha(opacity=0)}#MathJax_Tooltip *,.MathJax .MathJax_HitBox *{filter:none;opacity:1;background:0 0}@font-face{font-family:MathJax_Blank;src:url(about:blank)}.MathJax .noError{font-size:90%;text-align:left;color:#000;padding:1px 3px;border:1px solid}footer{position:fixed;font-size:.8em;text-align:right;bottom:0;margin-left:-25px;height:20px;width:100%}</style>
</head>
<body class="markdown github">
<h1 id="cs-241---foundation-of-sequential-programs"><a name="cs-241---foundation-of-sequential-programs" href="#cs-241---foundation-of-sequential-programs"></a>CS-241 - Foundation of Sequential Programs</h1><h2 id="fall-2016"><a name="fall-2016" href="#fall-2016"></a>Fall 2016</h2><h3 id="notes-by-daniel-prilik---se-2020"><a name="notes-by-daniel-prilik---se-2020" href="#notes-by-daniel-prilik---se-2020"></a>Notes by Daniel Prilik - SE 2020</h3><h2 id="disclaimer"><a name="disclaimer" href="#disclaimer"></a>DISCLAIMER</h2><p>These notes are <strong>far from complete</strong> and are <strong>quite porous</strong> compared to what’s been covered in class.<br>Copying code and diagrams off of powerpoints is hard in and of itself, but when the powerpoint slides start flying by, it becomes an impossible task.<br>Use these as a super rough outline of what we may have possibly covered in class, but <strong>do not use these as a primary set of study notes.</strong></p><p>That said, the section regarding <strong>Formal Languages</strong> might be more complete.</p><p>Yours,<br>- Daniel Prilik</p><p class="toc" style="undefined"></p><ul>
<li><ul>
<li><span class="title">
<a href="#fall-2016" title="Fall 2016">Fall 2016</a>
</span>
<!--span class="number">
0
</span-->
<ul>
<li><span class="title">
<a href="#notes-by-daniel-prilik---se-2020" title="Notes by Daniel Prilik - SE 2020">Notes by Daniel Prilik - SE 2020</a>
</span>
<!--span class="number">
1
</span-->
</li>
</ul>
</li>
<li><span class="title">
<a href="#disclaimer" title="DISCLAIMER">DISCLAIMER</a>
</span>
<!--span class="number">
2
</span-->
</li>
<li><span class="title">
<a href="#bookeeping" title="Bookeeping">Bookeeping</a>
</span>
<!--span class="number">
3
</span-->
</li>
<li><span class="title">
<a href="#idyllic-intro" title="Idyllic Intro">Idyllic Intro</a>
</span>
<!--span class="number">
4
</span-->
</li>
<li><span class="title">
<a href="#technical-intro" title="Technical Intro">Technical Intro</a>
</span>
<!--span class="number">
5
</span-->
</li>
<li><span class="title">
<a href="#binary-data" title="Binary Data">Binary Data</a>
</span>
<!--span class="number">
6
</span-->
</li>
<li><span class="title">
<a href="#machine-language" title="Machine Language">Machine Language</a>
</span>
<!--span class="number">
7
</span-->
</li>
<li><span class="title">
<a href="#assembly" title="Assembly">Assembly</a>
</span>
<!--span class="number">
8
</span-->
</li>
<li><span class="title">
<a href="#assembler" title="Assembler">Assembler</a>
</span>
<!--span class="number">
9
</span-->
</li>
<li><span class="title">
<a href="#back-to-the-basics:-bits" title="Back to the Basics: Bits">Back to the Basics: Bits</a>
</span>
<!--span class="number">
10
</span-->
<ul>
<li><span class="title">
<a href="#integers" title="Integers">Integers</a>
</span>
<!--span class="number">
11
</span-->
<ul>
<li><span class="title">
<a href="#unsigned-integers" title="Unsigned integers">Unsigned integers</a>
</span>
<!--span class="number">
12
</span-->
</li>
<li><span class="title">
<a href="#two's-compliment" title="Two’s Compliment">Two’s Compliment</a>
</span>
<!--span class="number">
13
</span-->
</li>
<li><span class="title">
<a href="#characters" title="Characters">Characters</a>
</span>
<!--span class="number">
14
</span-->
</li>
</ul>
</li>
</ul>
</li>
<li><span class="title">
<a href="#hexadecimal" title="Hexadecimal">Hexadecimal</a>
</span>
<!--span class="number">
15
</span-->
</li>
<li><span class="title">
<a href="#grouping-of-bits" title="Grouping of Bits">Grouping of Bits</a>
</span>
<!--span class="number">
16
</span-->
</li>
<li><span class="title">
<a href="#files" title="Files">Files</a>
</span>
<!--span class="number">
17
</span-->
</li>
<li><span class="title">
<a href="#words" title="Words">Words</a>
</span>
<!--span class="number">
18
</span-->
</li>
<li><span class="title">
<a href="#our-machine" title="Our Machine">Our Machine</a>
</span>
<!--span class="number">
19
</span-->
</li>
<li><span class="title">
<a href="#cpu" title="CPU">CPU</a>
</span>
<!--span class="number">
20
</span-->
</li>
<li><span class="title">
<a href="#memory-(ram)" title="Memory (RAM)">Memory (RAM)</a>
</span>
<!--span class="number">
21
</span-->
</li>
<li><span class="title">
<a href="#mips" title="MIPS">MIPS</a>
</span>
<!--span class="number">
22
</span-->
</li>
<li><span class="title">
<a href="#loading-and-storing-values-to-/-from-ram" title="Loading and Storing values to / from RAM">Loading and Storing values to / from RAM</a>
</span>
<!--span class="number">
23
</span-->
</li>
<li><span class="title">
<a href="#main-machine-cycle" title="Main Machine Cycle">Main Machine Cycle</a>
</span>
<!--span class="number">
24
</span-->
</li>
<li><span class="title">
<a href="#special-registers" title="Special Registers">Special Registers</a>
</span>
<!--span class="number">
25
</span-->
</li>
<li><span class="title">
<a href="#assembly-code" title="Assembly Code">Assembly Code</a>
</span>
<!--span class="number">
26
</span-->
</li>
<li><span class="title">
<a href="#labels" title="Labels">Labels</a>
</span>
<!--span class="number">
27
</span-->
</li>
<li><span class="title">
<a href="#storing-and-restoring-registers" title="Storing and Restoring Registers">Storing and Restoring Registers</a>
</span>
<!--span class="number">
28
</span-->
</li>
<li><span class="title">
<a href="#recursion" title="Recursion">Recursion</a>
</span>
<!--span class="number">
29
</span-->
</li>
<li><span class="title">
<a href="#assembler-stages" title="Assembler Stages">Assembler Stages</a>
</span>
<!--span class="number">
30
</span-->
</li>
<li><span class="title">
<a href="#syntax-and-semantics" title="Syntax and Semantics">Syntax and Semantics</a>
</span>
<!--span class="number">
31
</span-->
</li>
<li><span class="title">
<a href="#first-pass---analysis" title="First Pass - Analysis">First Pass - Analysis</a>
</span>
<!--span class="number">
32
</span-->
<ul>
<li><span class="title">
<a href="#intermediate-representation-(ir)" title="Intermediate Representation (IR)">Intermediate Representation (IR)</a>
</span>
<!--span class="number">
33
</span-->
</li>
<li><span class="title">
<a href="#symbol-table-(st)" title="Symbol Table (ST)">Symbol Table (ST)</a>
</span>
<!--span class="number">
34
</span-->
</li>
</ul>
</li>
<li><span class="title">
<a href="#second-pass---synthesis" title="Second Pass - Synthesis">Second Pass - Synthesis</a>
</span>
<!--span class="number">
35
</span-->
</li>
<li><span class="title">
<a href="#example:-encoding-a-beq-instruction" title="Example: Encoding a beq instruction">Example: Encoding a beq instruction</a>
</span>
<!--span class="number">
36
</span-->
</li>
<li><span class="title">
<a href="#advice-for-making-an-assembler" title="Advice for making an assembler">Advice for making an assembler</a>
</span>
<!--span class="number">
37
</span-->
</li>
<li><span class="title">
<a href="#efficieny-of-the-symbol-table" title="Efficieny of the Symbol Table">Efficieny of the Symbol Table</a>
</span>
<!--span class="number">
38
</span-->
</li>
<li><span class="title">
<a href="#error-checking-in-pass-1" title="Error Checking in Pass 1">Error Checking in Pass 1</a>
</span>
<!--span class="number">
39
</span-->
</li>
<li><span class="title">
<a href="#error-checking-in-pass-2" title="Error Checking in Pass 2">Error Checking in Pass 2</a>
</span>
<!--span class="number">
40
</span-->
</li>
<li><span class="title">
<a href="#error-checking-philosophy" title="Error Checking Philosophy">Error Checking Philosophy</a>
</span>
<!--span class="number">
41
</span-->
<ul>
<li><span class="title">
<a href="#accept-valid-instructions,-reject-everything-else." title="Accept valid instructions, reject everything else.">Accept valid instructions, reject everything else.</a>
</span>
<!--span class="number">
42
</span-->
</li>
</ul>
</li>
<li><span class="title">
<a href="#a-note-on-what-the-assembler-will-output" title="A note on what the Assembler will output">A note on what the Assembler will output</a>
</span>
<!--span class="number">
43
</span-->
</li>
<li><span class="title">
<a href="#a-gift" title="A Gift">A Gift</a>
</span>
<!--span class="number">
44
</span-->
</li>
<li><span class="title">
<a href="#how-to-write-an-assembler" title="How to Write an Assembler">How to Write an Assembler</a>
</span>
<!--span class="number">
45
</span-->
</li>
<li><span class="title">
<a href="#correctness" title="Correctness">Correctness</a>
</span>
<!--span class="number">
46
</span-->
</li>
<li><span class="title">
<a href="#loaders" title="Loaders">Loaders</a>
</span>
<!--span class="number">
47
</span-->
</li>
<li><span class="title">
<a href="#chickens-and-eggs" title="Chickens and Eggs">Chickens and Eggs</a>
</span>
<!--span class="number">
48
</span-->
<ul>
<li><span class="title">
<a href="#note" title="NOTE">NOTE</a>
</span>
<!--span class="number">
49
</span-->
</li>
</ul>
</li>
<li><span class="title">
<a href="#merl-format" title="MERL Format">MERL Format</a>
</span>
<!--span class="number">
50
</span-->
</li>
<li><span class="title">
<a href="#a-merl-assembler-(for-a5)" title="A MERL Assembler (for A5)">A MERL Assembler (for A5)</a>
</span>
<!--span class="number">
51
</span-->
</li>
<li><span class="title">
<a href="#relocating-loader-pseudocode" title="Relocating Loader Pseudocode">Relocating Loader Pseudocode</a>
</span>
<!--span class="number">
52
</span-->
</li>
<li><span class="title">
<a href="#merl-file-for-example-code" title="MERL file for example code">MERL file for example code</a>
</span>
<!--span class="number">
53
</span-->
</li>
<li><span class="title">
<a href="#linkers" title="Linkers">Linkers</a>
</span>
<!--span class="number">
54
</span-->
</li>
<li><span class="title">
<a href="#missed-a-lot-about-esd-and-esrs" title="Missed a lot about ESD and ESRs">Missed a lot about ESD and ESRs</a>
</span>
<!--span class="number">
55
</span-->
</li>
<li><span class="title">
<a href="#linker-pseudocode" title="Linker Pseudocode">Linker Pseudocode</a>
</span>
<!--span class="number">
56
</span-->
</li>
<li><span class="title">
<a href="#static-linking-vs-dynamic-linking" title="Static Linking vs Dynamic Linking">Static Linking vs Dynamic Linking</a>
</span>
<!--span class="number">
57
</span-->
</li>
<li><span class="title">
<a href="#motivation" title="Motivation">Motivation</a>
</span>
<!--span class="number">
58
</span-->
</li>
<li><span class="title">
<a href="#terminology" title="Terminology">Terminology</a>
</span>
<!--span class="number">
59
</span-->
</li>
<li><span class="title">
<a href="#use-of-formal-languages-specification" title="Use of Formal Languages Specification">Use of Formal Languages Specification</a>
</span>
<!--span class="number">
60
</span-->
</li>
<li><span class="title">
<a href="#wlp4" title="WLP4">WLP4</a>
</span>
<!--span class="number">
61
</span-->
</li>
<li><span class="title">
<a href="#language-classes" title="Language Classes">Language Classes</a>
</span>
<!--span class="number">
62
</span-->
</li>
<li><span class="title">
<a href="#use-of-formal-languages---organization-of-compilation" title="Use of Formal Languages - Organization of Compilation">Use of Formal Languages - Organization of Compilation</a>
</span>
<!--span class="number">
63
</span-->
</li>
<li><span class="title">
<a href="#which-language-level-is-it?" title="Which Language Level is it?">Which Language Level is it?</a>
</span>
<!--span class="number">
64
</span-->
</li>
<li><span class="title">
<a href="#specifying-regular-languages" title="Specifying Regular Languages">Specifying Regular Languages</a>
</span>
<!--span class="number">
65
</span-->
<ul>
<li><span class="title">
<a href="#finite-languages" title="Finite languages">Finite languages</a>
</span>
<!--span class="number">
66
</span-->
</li>
<li><span class="title">
<a href="#union" title="Union">Union</a>
</span>
<!--span class="number">
67
</span-->
</li>
<li><span class="title">
<a href="#concatenation" title="Concatenation">Concatenation</a>
</span>
<!--span class="number">
68
</span-->
</li>
<li><span class="title">
<a href="#repetition" title="Repetition">Repetition</a>
</span>
<!--span class="number">
69
</span-->
</li>
</ul>
</li>
<li><span class="title">
<a href="#dfas-(deterministic-finite-automata)" title="DFAs (Deterministic Finite Automata)">DFAs (Deterministic Finite Automata)</a>
</span>
<!--span class="number">
70
</span-->
<ul>
<li><span class="title">
<a href="#observations-about-dfas" title="Observations about DFAs">Observations about DFAs</a>
</span>
<!--span class="number">
71
</span-->
</li>
</ul>
</li>
<li><span class="title">
<a href="#formal-definition-of-dfas" title="Formal Definition of DFAs">Formal Definition of DFAs</a>
</span>
<!--span class="number">
72
</span-->
</li>
<li><span class="title">
<a href="#dfa-interpreter-algorithm" title="DFA Interpreter Algorithm">DFA Interpreter Algorithm</a>
</span>
<!--span class="number">
73
</span-->
</li>
<li><span class="title">
<a href="#implementing-dfas" title="Implementing DFAs">Implementing DFAs</a>
</span>
<!--span class="number">
74
</span-->
</li>
<li><span class="title">
<a href="#where-are-dfas-used?" title="Where are DFAs used?">Where are DFAs used?</a>
</span>
<!--span class="number">
75
</span-->
</li>
<li><span class="title">
<a href="#non-deterministic-finite-automa-(nfas)" title="Non-deterministic Finite Automa (NFAs)">Non-deterministic Finite Automa (NFAs)</a>
</span>
<!--span class="number">
76
</span-->
</li>
<li><span class="title">
<a href="#nfa-definition" title="NFA Definition">NFA Definition</a>
</span>
<!--span class="number">
77
</span-->
</li>
<li><span class="title">
<a href="#nfa-interpreter" title="NFA interpreter">NFA interpreter</a>
</span>
<!--span class="number">
78
</span-->
</li>
<li><span class="title">
<a href="#implementing-an-nfa-interpreter" title="Implementing an NFA interpreter">Implementing an NFA interpreter</a>
</span>
<!--span class="number">
79
</span-->
</li>
<li><span class="title">
<a href="#differences-b/w-nfas-and-dfas" title="Differences b/w NFAs and DFAs">Differences b/w NFAs and DFAs</a>
</span>
<!--span class="number">
80
</span-->
</li>
<li><span class="title">
<a href="#killer-app-for-finite-automa" title="Killer app for Finite Automa">Killer app for Finite Automa</a>
</span>
<!--span class="number">
81
</span-->
</li>
<li><span class="title">
<a href="#$\epsilon$-nfas" title="$\epsilon$-NFAs">$\epsilon$-NFAs</a>
</span>
<!--span class="number">
82
</span-->
</li>
<li><span class="title">
<a href="#converting-$\epsilon$-nfas-to-nfas" title="Converting $\epsilon$-NFAs to NFAs">Converting $\epsilon$-NFAs to NFAs</a>
</span>
<!--span class="number">
83
</span-->
</li>
<li><span class="title">
<a href="#definition" title="Definition">Definition</a>
</span>
<!--span class="number">
84
</span-->
</li>
<li><span class="title">
<a href="#re-examples" title="RE examples">RE examples</a>
</span>
<!--span class="number">
85
</span-->
</li>
<li><span class="title">
<a href="#unix-shorthands-and-extensions" title="Unix Shorthands and Extensions">Unix Shorthands and Extensions</a>
</span>
<!--span class="number">
86
</span-->
</li>
<li><span class="title">
<a href="#re-to-$\epsilon$-nfa" title="RE to $\epsilon$-NFA">RE to $\epsilon$-NFA</a>
</span>
<!--span class="number">
87
</span-->
</li>
<li><span class="title">
<a href="#regular-languages" title="Regular Languages">Regular Languages</a>
</span>
<!--span class="number">
88
</span-->
</li>
<li><span class="title">
<a href="#practical-application-of-dfas" title="Practical Application of DFAs">Practical Application of DFAs</a>
</span>
<!--span class="number">
89
</span-->
</li>
<li><span class="title">
<a href="#transducers" title="Transducers">Transducers</a>
</span>
<!--span class="number">
90
</span-->
</li>
<li><span class="title">
<a href="#the-scanning-problem" title="The Scanning Problem">The Scanning Problem</a>
</span>
<!--span class="number">
91
</span-->
</li>
<li><span class="title">
<a href="#simplified-maximal-munch" title="Simplified Maximal Munch">Simplified Maximal Munch</a>
</span>
<!--span class="number">
92
</span-->
<ul>
<li><span class="title">
<a href="#midterm-material-ends-here" title="MIDTERM MATERIAL ENDS HERE">MIDTERM MATERIAL ENDS HERE</a>
</span>
<!--span class="number">
93
</span-->
</li>
</ul>
</li>
<li><span class="title">
<a href="#big-picture-of-compilation" title="Big picture of Compilation">Big picture of Compilation</a>
</span>
<!--span class="number">
94
</span-->
</li>
<li><span class="title">
<a href="#non-regular-languages" title="Non-Regular Languages">Non-Regular Languages</a>
</span>
<!--span class="number">
95
</span-->
</li>
<li><span class="title">
<a href="#context-free-langauges" title="Context-Free Langauges">Context-Free Langauges</a>
</span>
<!--span class="number">
96
</span-->
</li>
<li><span class="title">
<a href="#context-free-grammars" title="Context-Free Grammars">Context-Free Grammars</a>
</span>
<!--span class="number">
97
</span-->
</li>
<li><span class="title">
<a href="#terminology-1" title="Terminology">Terminology</a>
</span>
<!--span class="number">
98
</span-->
</li>
<li><span class="title">
<a href="#formal-definition" title="Formal Definition">Formal Definition</a>
</span>
<!--span class="number">
99
</span-->
</li>
<li><span class="title">
<a href="#example---balanced-parentheses" title="Example - Balanced Parentheses">Example - Balanced Parentheses</a>
</span>
<!--span class="number">
100
</span-->
</li>
<li><span class="title">
<a href="#example---binary-expressions-g~1~" title="Example - Binary Expressions G1">Example - Binary Expressions G1</a>
</span>
<!--span class="number">
101
</span-->
</li>
<li><span class="title">
<a href="#formal-definitions" title="Formal Definitions">Formal Definitions</a>
</span>
<!--span class="number">
102
</span-->
</li>
<li><span class="title">
<a href="#derivations-as-proofs" title="Derivations as Proofs">Derivations as Proofs</a>
</span>
<!--span class="number">
103
</span-->
</li>
<li><span class="title">
<a href="#parse-trees" title="Parse Trees">Parse Trees</a>
</span>
<!--span class="number">
104
</span-->
</li>
<li><span class="title">
<a href="#meaning-of-the-parse-tree" title="Meaning of the Parse Tree">Meaning of the Parse Tree</a>
</span>
<!--span class="number">
105
</span-->
</li>
<li><span class="title">
<a href="#problem:-grammars-can-encounter-ambiguity" title="Problem: Grammars can encounter Ambiguity">Problem: Grammars can encounter Ambiguity</a>
</span>
<!--span class="number">
106
</span-->
</li>
<li><span class="title">
<a href="#fixing-ambiguity-in-g~2~" title="Fixing ambiguity in G2">Fixing ambiguity in G2</a>
</span>
<!--span class="number">
107
</span-->
</li>
<li><span class="title">
<a href="#associativity" title="Associativity">Associativity</a>
</span>
<!--span class="number">
108
</span-->
<ul>
<li><span class="title">
<a href="#fix" title="Fix">Fix</a>
</span>
<!--span class="number">
109
</span-->
</li>
</ul>
</li>
<li><span class="title">
<a href="#precedence-problems" title="Precedence Problems">Precedence Problems</a>
</span>
<!--span class="number">
110
</span-->
<ul>
<li><span class="title">
<a href="#fix-1" title="Fix">Fix</a>
</span>
<!--span class="number">
111
</span-->
</li>
</ul>
</li>
<li><span class="title">
<a href="#regular-languages-are-context-free-langauges" title="Regular Languages are Context-Free Langauges">Regular Languages are Context-Free Langauges</a>
</span>
<!--span class="number">
112
</span-->
</li>
<li><span class="title">
<a href="#parsing" title="Parsing">Parsing</a>
</span>
<!--span class="number">
113
</span-->
</li>
<li><span class="title">
<a href="#parsing-algorithm---backtracking" title="Parsing Algorithm - Backtracking">Parsing Algorithm - Backtracking</a>
</span>
<!--span class="number">
114
</span-->
</li>
<li><span class="title">
<a href="#parsing-algorithm---stack-based-parsing" title="Parsing Algorithm - Stack Based Parsing">Parsing Algorithm - Stack Based Parsing</a>
</span>
<!--span class="number">
115
</span-->
</li>
<li><span class="title">
<a href="#augmenting-grammars" title="Augmenting Grammars">Augmenting Grammars</a>
</span>
<!--span class="number">
116
</span-->
</li>
<li><span class="title">
<a href="#top-down-parsing-with-a-stack" title="Top-Down parsing with a Stack">Top-Down parsing with a Stack</a>
</span>
<!--span class="number">
117
</span-->
</li>
<li><span class="title">
<a href="#ll(1)-parsing" title="LL(1) Parsing">LL(1) Parsing</a>
</span>
<!--span class="number">
118
</span-->
</li>
<li><span class="title">
<a href="#constructing-a-predictor-rable-from-search-trees" title="Constructing a Predictor Rable from Search Trees">Constructing a Predictor Rable from Search Trees</a>
</span>
<!--span class="number">
119
</span-->
</li>
<li><span class="title">
<a href="#algorithm-for-constructing-a-predictor-table" title="Algorithm for constructing a Predictor Table">Algorithm for constructing a Predictor Table</a>
</span>
<!--span class="number">
120
</span-->
</li>
<li><span class="title">
<a href="#ll(1)-parsing-algorithm" title="LL(1) Parsing Algorithm">LL(1) Parsing Algorithm</a>
</span>
<!--span class="number">
121
</span-->
</li>
<li><span class="title">
<a href="#non-ll(1)-grammars:" title="Non LL(1) Grammars:">Non LL(1) Grammars:</a>
</span>
<!--span class="number">
122
</span-->
</li>
<li><span class="title">
<a href="#non-ll(1)-language" title="Non LL(1) Language">Non LL(1) Language</a>
</span>
<!--span class="number">
123
</span-->
</li>
<li><span class="title">
<a href="#bottom-up-parsing-(lr-parsing)" title="Bottom-up parsing (LR parsing)">Bottom-up parsing (LR parsing)</a>
</span>
<!--span class="number">
124
</span-->
</li>
<li><span class="title">
<a href="#a-trace-of-`abywz`" title="A Trace of <START>abywz<END>">A Trace of <start>abywz<end></end></start></a>
</span>
<!--span class="number">
125
</span-->
</li>
<li><span class="title">
<a href="#shift/reduce" title="Shift/Reduce">Shift/Reduce</a>
</span>
<!--span class="number">
126
</span-->
</li>
<li><span class="title">
<a href="#constructing-a-dfa-oracle-for-lr(1)-grammars" title="Constructing a DFA Oracle for LR(1) Grammars">Constructing a DFA Oracle for LR(1) Grammars</a>
</span>
<!--span class="number">
127
</span-->
</li>
<li><span class="title">
<a href="#building-an-lr(0)-automaton" title="Building an LR(0) Automaton">Building an LR(0) Automaton</a>
</span>
<!--span class="number">
128
</span-->
</li>
<li><span class="title">
<a href="#example:" title="Example:">Example:</a>
</span>
<!--span class="number">
129
</span-->
<ul>
<li><ul>
<li><span class="title">
<a href="#image-brought-to-you-by:-james-hageman" title="Image brought to you by: James Hageman">Image brought to you by: James Hageman</a>
</span>
<!--span class="number">
130
</span-->
</li>
</ul>
</li>
</ul>
</li>
<li><span class="title">
<a href="#using-the-automaton" title="Using the Automaton">Using the Automaton</a>
</span>
<!--span class="number">
131
</span-->
</li>
<li><span class="title">
<a href="#using-the-transducer-example-`id+id+id`" title="Using the Transducer Example <START>id+id+id<END>">Using the Transducer Example <start>id+id+id<end></end></start></a>
</span>
<!--span class="number">
132
</span-->
</li>
<li><span class="title">
<a href="#what-can-go-wrong?-a-problem..." title="What can go wrong? A Problem…">What can go wrong? A Problem…</a>
</span>
<!--span class="number">
133
</span-->
</li>
<li><span class="title">
<a href="#example-with-conflicts" title="Example with Conflicts">Example with Conflicts</a>
</span>
<!--span class="number">
134
</span-->
</li>
<li><span class="title">
<a href="#parsing-with-conflicts" title="Parsing with Conflicts">Parsing with Conflicts</a>
</span>
<!--span class="number">
135
</span-->
</li>
<li><span class="title">
<a href="#slr(1)-parser" title="SLR(1) Parser">SLR(1) Parser</a>
</span>
<!--span class="number">
136
</span-->
</li>
<li><span class="title">
<a href="#making-this-more-efficient" title="Making this more efficient">Making this more efficient</a>
</span>
<!--span class="number">
137
</span-->
</li>
<li><span class="title">
<a href="#outputting-a-derivation" title="Outputting a Derivation">Outputting a Derivation</a>
</span>
<!--span class="number">
138
</span-->
</li>
<li><span class="title">
<a href="#outputting-the-parse-tree" title="Outputting the Parse Tree">Outputting the Parse Tree</a>
</span>
<!--span class="number">
139
</span-->
</li>
<li><span class="title">
<a href="#going-back" title="Going Back">Going Back</a>
</span>
<!--span class="number">
140
</span-->
</li>
<li><span class="title">
<a href="#fun-facts" title="Fun Facts">Fun Facts</a>
</span>
<!--span class="number">
141
</span-->
</li>
<li><span class="title">
<a href="#big-picture-of-wlp4-compilation" title="Big Picture of WLP4 Compilation">Big Picture of WLP4 Compilation</a>
</span>
<!--span class="number">
142
</span-->
<ul>
<li><ul>
<li><span class="title">
<a href="#zooming-into-the-compiler:" title="Zooming into the compiler:">Zooming into the compiler:</a>
</span>
<!--span class="number">
143
</span-->
</li>
</ul>
</li>
</ul>
</li>
<li><span class="title">
<a href="#example:-1" title="Example:">Example:</a>
</span>
<!--span class="number">
144
</span-->
</li>
<li><span class="title">
<a href="#context-sensitive-analysis" title="Context Sensitive Analysis">Context Sensitive Analysis</a>
</span>
<!--span class="number">
145
</span-->
</li>
<li><span class="title">
<a href="#possible-errors:" title="Possible Errors:">Possible Errors:</a>
</span>
<!--span class="number">
146
</span-->
</li>
<li><span class="title">
<a href="#solving-the-" title="Solving the “Variable Declaration” Problems">Solving the “Variable Declaration” Problems</a>
</span>
<!--span class="number">
147
</span-->
</li>
<li><span class="title">
<a href="#procedures-bite-us" title="Procedures Bite Us">Procedures Bite Us</a>
</span>
<!--span class="number">
148
</span-->
</li>
<li><span class="title">
<a href="#solving-" title="Solving “Duplicate / Undeclared” Procedures &amp; Variables At the Same Time">Solving “Duplicate / Undeclared” Procedures &amp; Variables At the Same Time</a>
</span>
<!--span class="number">
149
</span-->
</li>
<li><span class="title">
<a href="#obtaining-signatures" title="Obtaining Signatures">Obtaining Signatures</a>
</span>
<!--span class="number">
150
</span-->
</li>
<li><span class="title">
<a href="#why-types-matter" title="Why Types Matter">Why Types Matter</a>
</span>
<!--span class="number">
151
</span-->
</li>
<li><span class="title">
<a href="#solving-the--1" title="Solving the “Type Mismatch” Problems">Solving the “Type Mismatch” Problems</a>
</span>
<!--span class="number">
152
</span-->
</li>
<li><span class="title">
<a href="#types-of-indentifiers" title="Types of Indentifiers">Types of Indentifiers</a>
</span>
<!--span class="number">
153
</span-->
</li>
<li><span class="title">
<a href="#addition-and-subtraction-are-hard" title="Addition and Subtraction are Hard">Addition and Subtraction are Hard</a>
</span>
<!--span class="number">
154
</span-->
</li>
<li><span class="title">
<a href="#follow-the-spec-to-the-tee!" title="Follow the spec to the tee!">Follow the spec to the tee!</a>
</span>
<!--span class="number">
155
</span-->
</li>
<li><span class="title">
<a href="#more-advanced-context-sensitive-analysis" title="More advanced context-sensitive analysis">More advanced context-sensitive analysis</a>
</span>
<!--span class="number">
156
</span-->
</li>
<li><span class="title">
<a href="#code-generation-for-wlp4mpmp" title="Code Generation for WLP4MPMP">Code Generation for WLP4MPMP</a>
</span>
<!--span class="number">
157
</span-->
</li>
<li><span class="title">
<a href="#code-generation-(a9,-a10)" title="Code Generation (A9, A10)">Code Generation (A9, A10)</a>
</span>
<!--span class="number">
158
</span-->
</li>
<li><span class="title">
<a href="#code-generation-issues" title="Code Generation Issues">Code Generation Issues</a>
</span>
<!--span class="number">
159
</span-->
</li>
<li><span class="title">
<a href="#syntax-directed-translation" title="Syntax Directed Translation">Syntax Directed Translation</a>
</span>
<!--span class="number">
160
</span-->
</li>
<li><span class="title">
<a href="#first-rule" title="First Rule">First Rule</a>
</span>
<!--span class="number">
161
</span-->
</li>
<li><span class="title">
<a href="#three-more-simple-rules" title="Three more simple rules">Three more simple rules</a>
</span>
<!--span class="number">
162
</span-->
</li>
<li><span class="title">
<a href="#a9p1" title="A9P1">A9P1</a>
</span>
<!--span class="number">
163
</span-->
</li>
<li><span class="title">
<a href="#changes-to-the-symbol-table" title="Changes to the symbol table">Changes to the symbol table</a>
</span>
<!--span class="number">
164
</span-->
</li>
<li><span class="title">
<a href="#how-to-store-variables" title="How to store variables">How to store variables</a>
</span>
<!--span class="number">
165
</span-->
</li>
<li><span class="title">
<a href="#the-best-way-to-store-variables" title="The best way to store variables">The best way to store variables</a>
</span>
<!--span class="number">
166
</span-->
</li>
<li><span class="title">
<a href="#some-conventions" title="Some conventions">Some conventions</a>
</span>
<!--span class="number">
167
</span-->
</li>
<li><span class="title">
<a href="#code-structure" title="Code Structure">Code Structure</a>
</span>
<!--span class="number">
168
</span-->
</li>
<li><span class="title">
<a href="#one-more-rule-(a9p2)" title="One More Rule (A9P2)">One More Rule (A9P2)</a>
</span>
<!--span class="number">
169
</span-->
</li>
<li><span class="title">
<a href="#a9p3---full-expressions" title="A9P3 - Full Expressions">A9P3 - Full Expressions</a>
</span>
<!--span class="number">
170
</span-->
</li>
<li><span class="title">
<a href="#sidenote:-where-is-print?" title="Sidenote: Where is print?">Sidenote: Where is print?</a>
</span>
<!--span class="number">
171
</span-->
</li>
<li><span class="title">
<a href="#how-do-we-not-destroy-\$1" title="How do we not destroy $1">How do we not destroy $1</a>
</span>
<!--span class="number">
172
</span-->
</li>
<li><span class="title">
<a href="#a-special-note-about-parameters-in-\$1-and-\$2" title="A special note about parameters in $1 and $2">A special note about parameters in $1 and $2</a>
</span>
<!--span class="number">
173
</span-->
<ul>
<li><span class="title">
<a href="#they-are-not-special." title="They are not special.">They are not special.</a>
</span>
<!--span class="number">
174
</span-->
</li>
</ul>
</li>
<li><span class="title">
<a href="#other-advice-about-a9" title="Other Advice about A9">Other Advice about A9</a>
</span>
<!--span class="number">
175
</span-->
</li>
<li><span class="title">
<a href="#declarations-(a9p5)" title="Declarations (A9P5)">Declarations (A9P5)</a>
</span>
<!--span class="number">
176
</span-->
</li>
<li><span class="title">
<a href="#giving-variables-values" title="Giving variables values">Giving variables values</a>
</span>
<!--span class="number">
177
</span-->
</li>
<li><span class="title">
<a href="#booleans-(a9p6)" title="Booleans (A9P6)">Booleans (A9P6)</a>
</span>
<!--span class="number">
178
</span-->
</li>
<li><span class="title">
<a href="#while-loop-(a9p6)" title="While loop (A9P6)">While loop (A9P6)</a>
</span>
<!--span class="number">
179
</span-->
</li>
<li><span class="title">
<a href="#if-statement-(a9p8)" title="If statement (A9P8)">If statement (A9P8)</a>
</span>
<!--span class="number">
180
</span-->
</li>
<li><span class="title">
<a href="#back-to-booleans-(a9p7)" title="Back to booleans (A9P7)">Back to booleans (A9P7)</a>
</span>
<!--span class="number">
181
</span-->
</li>
<li><span class="title">
<a href="#finishing-booleans-(a9p7)" title="Finishing Booleans (A9P7)">Finishing Booleans (A9P7)</a>
</span>
<!--span class="number">
182
</span-->
</li>
<li><span class="title">
<a href="#pointer-basics-(a10p1)" title="Pointer Basics (A10P1)">Pointer Basics (A10P1)</a>
</span>
<!--span class="number">
183
</span-->
</li>
<li><span class="title">
<a href="#using-address-of-(&amp;)" title="Using Address-of (&amp;)">Using Address-of (&amp;)</a>
</span>
<!--span class="number">
184
</span-->
</li>
<li><span class="title">
<a href="#code-for-&amp;" title="Code for &amp;">Code for &amp;</a>
</span>
<!--span class="number">
185
</span-->
</li>
<li><span class="title">
<a href="#assignment-to-pointer-dereference" title="Assignment to pointer dereference">Assignment to pointer dereference</a>
</span>
<!--span class="number">
186
</span-->
</li>
<li><span class="title">
<a href="#a-" title="A “simple” WLP4 Program">A “simple” WLP4 Program</a>
</span>
<!--span class="number">
187
</span-->
</li>
<li><span class="title">
<a href="#what-mips.array-is-doing" title="What mips.array is doing">What mips.array is doing</a>
</span>
<!--span class="number">
188
</span-->
</li>
<li><span class="title">
<a href="#a-second-example" title="A Second Example">A Second Example</a>
</span>
<!--span class="number">
189
</span-->
</li>
<li><span class="title">
<a href="#back-to-compilation-(a10p2)" title="Back to Compilation (A10P2)">Back to Compilation (A10P2)</a>
</span>
<!--span class="number">
190
</span-->
</li>
<li><span class="title">
<a href="#pointer-arithmetic" title="Pointer Arithmetic">Pointer Arithmetic</a>
</span>
<!--span class="number">
191
</span-->
</li>
</ul>
</li>

</ul>
<p></p><h1 id="instructor-info"><a name="instructor-info" href="#instructor-info"></a>Instructor info</h1><ul>
<li>Matt Crane<ul>
<li>Email: matt.crane@uwaterloo.ca</li><li>Office Hours: DC2555F 3:00 - 4:00pm Tues / Thurs</li></ul>
</li><li>Troy Vasiga<ul>
<li>Email: troy.vasiga@uwaterloo.ca</li><li>Office Hours: DC3112 12:00 - 1:30pm Tues / Thurs</li></ul>
</li><li>ISA: Max Bardakov <ul>
<li>Email: cs241@uwaterloo.ca</li></ul>
</li></ul><h1 id="lecture-1"><a name="lecture-1" href="#lecture-1"></a>Lecture 1</h1><p>Oh boy! Here we go again!</p><h2 id="bookeeping"><a name="bookeeping" href="#bookeeping"></a>Bookeeping</h2><p>The course website is www.student.cs.uwaterloo.ca/~cs241/</p><ul>
<li>Syllabus</li><li>Announcements</li><li>Everyhing else!</li></ul><p>A note about Assignments:</p><ul>
<li>Start early!</li><li>Don’t fall behind!</li><li>In total, there are 10 assignments, each with ~9 subparts, so ~100 things to submit</li></ul><p>The course uses our favorite program: <em>Marmoset!</em></p><ul>
<li>This time around though, there are Release Tokens, that give you 3 attempts per 12h to test your programs</li></ul><p>Marking breakdown:</p><ul>
<li>25% Assignments - Due Thursdays at 7:00pm</li><li>25% Midterm - Wed Oct. 26th from 7:00-8:50pm</li><li>50% Final (must pass) - 2.5h sometime in December</li></ul><h2 id="idyllic-intro"><a name="idyllic-intro" href="#idyllic-intro"></a>Idyllic Intro</h2><p>So what is the purpose of this course:</p><ul>
<li>To learn</li><li>To Meta-think</li><li>To write a program, that reads a program, that outputs a program.<ul>
<li>Inception. BWUHHH</li></ul>
</li></ul><p>By the end of this course, we will know what <em>really</em> happens when you compile and run a program, and there will be little to no mystery about what happens when you run a program.</p><h2 id="technical-intro"><a name="technical-intro" href="#technical-intro"></a>Technical Intro</h2><p>In this course, all a computer is a <strong>CPU</strong> and <strong>RAM</strong>.</p><p>A CPU <strong>Controls and Manipulates the Data</strong>, and the RAM is just a bunch of <strong>addressed “boxes” that store Data</strong>.</p><h2 id="binary-data"><a name="binary-data" href="#binary-data"></a>Binary Data</h2><p>All data is at a basic level is a sequence of 1s and 0s, or Bits</p><p>There are many interpretations for what a specific sequence of bits means (i.e: numbers, ascii, etc…), and there is no one “correct” interpretation.</p><h2 id="machine-language"><a name="machine-language" href="#machine-language"></a>Machine Language</h2><p>There are certain sequences of bits that do in-fact have one specific meaning, or at least they do when it comes to how the machine interprets them. Depending on the Achitecture of the machine (i.e: Intel/Motorola, 32/64bit, etc…) there may be different bit sequences that mean the same things.</p><p>These codes are great for machines, super easy, just 0 = off, 1 = off, but they SUCKS for humans.</p><h2 id="assembly"><a name="assembly" href="#assembly"></a>Assembly</h2><p><strong>Assembly</strong> on the other hand, sucks less for Humans.</p><p>It is a simple, textual representation of machine language. It is more human readable, and makes development less, shall we say, absolutely terrible.</p><p>A big plus of assembly is that is it pretty easy to translate Assembly to Machine Code. Assembly is just an <em>Abstraction</em>.</p><h2 id="assembler"><a name="assembler" href="#assembler"></a>Assembler</h2><p>The <strong>Assembler</strong> is the program that preforms the translation from Assembly to Machine Code. </p><h2 id="back-to-the-basics:-bits"><a name="back-to-the-basics:-bits" href="#back-to-the-basics:-bits"></a>Back to the Basics: Bits</h2><p>What is a Bit exactly?</p><p>Well, it is just a value that can have 2 states, either 1, or 0. That’s it.</p><p>The nice thing is that a <strong>sequence of bits</strong> can describle a lot of different value.</p><ul>
<li>2 bits can have 4 arrangements</li><li>3 bits can have 8 arrangements</li><li>n bits can have 2^n arrangements!</li></ul><p>We can use Bits to describle certain useful “types”:</p><h3 id="integers"><a name="integers" href="#integers"></a>Integers</h3><h4 id="unsigned-integers"><a name="unsigned-integers" href="#unsigned-integers"></a>Unsigned integers</h4><p>Each sequence is just a direct representation of a number in base 2.</p><h4 id="two's-compliment"><a name="two's-compliment" href="#two's-compliment"></a>Two’s Compliment</h4><p>What if we want Negative Numbers? Well, then we have to use a more complicated code, called 2s compliemnt.</p><p>To get 2s compliemnt, we</p><ol>
<li>write the absolute value of a number in banary</li><li>Negate the bits (to get 1s compliment)</li><li>Add 1</li></ol><p><strong>So, With 3 bits, we can have the following interpretations for integers…</strong> </p><table>
<thead>
<tr>
<th>Binary</th>
<th>Decimal</th>
<th>2’s compliment</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>000</code></td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td><code>001</code></td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td><code>010</code></td>
<td>2</td>
<td>2</td>
</tr>
<tr>
<td><code>011</code></td>
<td>3</td>
<td>3 </td>
</tr>
<tr>
<td><code>100</code></td>
<td>4</td>
<td>-4</td>
</tr>
<tr>
<td><code>101</code></td>
<td>5</td>
<td>-3</td>
</tr>
<tr>
<td><code>110</code></td>
<td>6</td>
<td>-2</td>
</tr>
<tr>
<td><code>111</code></td>
<td>7</td>
<td>-1</td>
</tr>
</tbody>
</table><p>** Notice that in 2s compliment, the left-most bit tells us if it is negative or not…</p><p>To hammer in this point, consider <code>1010</code>.<br>What does it mean?<br>Well, nothing really, not until we know what type is should represent.<br>It is <code>10</code> if it’s an unsigned number, but it’s <code>-6</code> in 2s compliment </p><h4 id="characters"><a name="characters" href="#characters"></a>Characters</h4><p>Typically represented with <strong>8 Bits</strong></p><p>Eg: <code>00001010</code> is <code>\n</code> in ASCII (use the linux command <code>man ascii</code> for a full table)</p><h2 id="hexadecimal"><a name="hexadecimal" href="#hexadecimal"></a>Hexadecimal</h2><p>In general, binary SUCKS to work with. Hexadecimal sucks less.</p><p>Essentially, we can represent numbers with 16 symbols, instead of just 1 and 0</p><p>We use the digits 0-9, A, B, C, D, E, and F.</p><p>A nice property of Hexadecimal is that it is easy to convert into Binary, and vice versa.<br>You just split the binary number into chunks of 4 bits, and then write the digit associated with each chunk.</p><p>Eg: <code>1010 1111 1001 1001</code> = <code>xAF99</code></p><h1 id="lecture-2"><a name="lecture-2" href="#lecture-2"></a>Lecture 2</h1><h2 id="grouping-of-bits"><a name="grouping-of-bits" href="#grouping-of-bits"></a>Grouping of Bits</h2><p>The most common grouping of bits is in a <strong>byte</strong>, or a group of <strong>8 bits</strong></p><p>There are <strong>256</strong> possible values that can be encoded by 8 bits. What to encode however, is up to interpretation (see above)</p><h2 id="files"><a name="files" href="#files"></a>Files</h2><p>Files are just long sequences of bytes, and it is up to a program to determine what the byte sequences actually mean.</p><p>The command <code>cat</code> for example, will interpret any file thrown at it as Text, and print out each byte as a ASCII char.</p><p>The command <code>xxd</code> on the other hand, will print the file’s bits as hexadecimal values (alongside an ascii interpretation of the bits)</p><p>So, for example, if there is a file <code>hasY</code> with string <code>Y\n</code>, then the output of <code>xxd</code> would be something like:</p><pre><code data-origin="<pre><code>#Addr     #Hex   #Ascii
00000000: 590a   Y.
</code></pre>">#Addr     #Hex   #Ascii
00000000: 590a   Y.
</code></pre><p><code>59</code> is the hex code for <code>Y</code> in ascii, and <code>0a</code> is the hex code for the Newline Char in ascii</p><h2 id="words"><a name="words" href="#words"></a>Words</h2><p>A <strong>Word</strong> is a grouping a bits that a specific CPU “likes” (i.e: can easily do math on, execute ops, etc…)</p><p>Words can be any number of bits… from <strong>8 bit</strong> in the 80s, all the way to <strong>64 bit</strong> nowadays.</p><p>NOTE: a CPU’s specific word-size will limit the total ammount of memory a CPU can ever see! For example, 32 bit CPUs could only address ~3.5gigs of memory, so until the switch to 64 bit CPUS, no matter how much RAM you shoved in a PC, if the OS was 32bit, it couldn’t see more than 3.5gigs</p><h2 id="our-machine"><a name="our-machine" href="#our-machine"></a>Our Machine</h2><p>The machine we are using in cs241 is a <strong>Stored Program Computer</strong></p><p>What this means is that the CPU is connected to the Memory (via a “mem bus”) not just to use the memory as a place to store data, but also as a place to store actual program code.</p><p>To run a program, the CPU calls the memory for an instruction, and the memory returns a string of bits that (should) correspond to a instruction that the CPU can execute.</p><h2 id="cpu"><a name="cpu" href="#cpu"></a>CPU</h2><p>CPUs are not actually just magic boxes. They have things within them that make them work…</p><p>There are several places to Store things</p><ul>
<li><strong>Program Counter (PC)</strong>- Where in memory to load new instructions from</li><li><strong>Instruction Register (IR)</strong>- Chunk of memory that holds the instruction to run</li><li><strong>Registers 0-31 ($0 -&gt; $31)</strong> - “boxes” that can store words of information (think superfast ram)</li></ul><p>And there are other places that Do things</p><ul>
<li><strong>Control Unit</strong> - reads the PC, retrieves the instruction from memory, puts that instruction in the IR, and then executes the instruction</li><li><strong>Arithmetic Logic Unit (ALU)</strong> - Can do maths on given bits. Things like adding, subtracting, AND / OR / NOTs, etc…</li></ul><h2 id="memory-(ram)"><a name="memory-(ram)" href="#memory-(ram)"></a>Memory (RAM)</h2><p>RAM is really just a giant block of “boxes” that can store bytes, starting from 0 to denote the 1st byte, 4 to denote the 5th byte, etc…</p><p>On a MIPS machine, words are 4 bytes, and as such, when addressing the RAM to ask for instructions, we must ask for words, so we address RAM in increments of 4.</p><h2 id="mips"><a name="mips" href="#mips"></a>MIPS</h2><p>MIPS is a set of instructions that our processor understands. </p><p>In this course, there are <strong>18</strong> different <strong> 32-bit (4 byte)</strong> instructions encoded in 2 basic instruction formats.</p><p><strong>MIPS assembler</strong> is the <strong>Assembly Language</strong> that translates human-readable instructions into the actual 32-bit / 1 word instructions that the CPU can read.</p><p>For example:</p><ul>
<li><code>add $1, $2, $3</code> are <strong>MIPS instructions</strong> that correspond to…</li><li><code>0000 0000 0100 0011 0000 1000 0010 0000</code> when converted to <strong>Binary</strong>, or </li><li><code>0x00430820</code> when written in <strong>Hex</strong></li></ul><p>That binary actually means the following…</p><pre><code data-origin="<pre><code>000000      ; Call the ALU
00010       ; $2
00011       ; $3
00001       ; $1
00000100000 ; Add
</code></pre>">000000      ; Call the ALU
00010       ; $2
00011       ; $3
00001       ; $1
00000100000 ; Add
</code></pre><p>A full list of MIPS instructions can be found here: <a href="https://www.student.cs.uwaterloo.ca/~cs241/mips/mipsref.pdf">https://www.student.cs.uwaterloo.ca/~cs241/mips/mipsref.pdf</a></p><h2 id="loading-and-storing-values-to-/-from-ram"><a name="loading-and-storing-values-to-/-from-ram" href="#loading-and-storing-values-to-/-from-ram"></a>Loading and Storing values to / from RAM</h2><p>The instruction <code>lw</code> loads a word from memory, and <code>sw</code> stores a word to memory</p><p>Eg: <code>lw $7, 0($3)</code> will load the value at MEM[$3] into register $7<br>Eg: <code>sw $8, 4($3)</code> will load the value from $8 to MEM[$3+4] (that +4 is needed since we store Words in memory, and Words are 4 bytes each)</p><h2 id="main-machine-cycle"><a name="main-machine-cycle" href="#main-machine-cycle"></a>Main Machine Cycle</h2><p>Every single clock cycle, the following happens:</p><p>1) Fetch a word from RAM whose address is in the PC (the PC is initialized to 0 on power-on)<br>2) Place that word in the IR<br>3) Increment the PC by 4<br>4) Decode and Execute the instruction that is in the IR</p><h1 id="lecture-3"><a name="lecture-3" href="#lecture-3"></a>Lecture 3</h1><h2 id="special-registers"><a name="special-registers" href="#special-registers"></a>Special Registers</h2><table>
<thead>
<tr>
<th>Register</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>$0</code></td>
<td>Constant <strong>value 0</strong></td>
</tr>
<tr>
<td><code>$29 and $30</code></td>
<td><strong>Stack</strong> (see below…)</td>
</tr>
<tr>
<td><code>$31</code></td>
<td>The <strong>Return Address (RA)</strong></td>
</tr>
</tbody>
</table><h2 id="assembly-code"><a name="assembly-code" href="#assembly-code"></a>Assembly Code</h2><p>There is a 1 to 1 correspondance b/w Assembly Language and Machine Language. It translates human-friendlier mnemonic instructions like <code>add $3, $1, $2</code> to their related bit form. The <strong>Assembler</strong> is the program that does this automatic translation.</p><p>For some example of Assembly Code and the Machine Language equivilents, see the cs241 website.</p><h1 id="lecture-4"><a name="lecture-4" href="#lecture-4"></a>Lecture 4</h1><h2 id="labels"><a name="labels" href="#labels"></a>Labels</h2><p>Labels identify an address.</p><pre><code class="language" data-origin="<pre><code class=&quot;language&quot;>; some stuff

loop: add ...
; more instructions...
bne $2, $0, loop ;using label

X: Y: ; can have 2 labels on the same line
</code></pre>">; some stuff

loop: add ...
; more instructions...
bne $2, $0, loop ;using label

X: Y: ; can have 2 labels on the same line
</code></pre><h2 id="storing-and-restoring-registers"><a name="storing-and-restoring-registers" href="#storing-and-restoring-registers"></a>Storing and Restoring Registers</h2><p>What happens if we call a subroutine where it uses some registers, that you need! We only have $32 registers after all!</p><p>Consider this example below</p><pre><code data-origin="<pre><code>; Example 6a: Calling a procedure
sw $31, −4($30)        ; save $31 on stack
lis $31
.word 4
sub $30, $30, $31
lis $1                 ; call sumOneToN(13)
.word sumOneToN
lis $2
.word 13
jalr $1
lis $31                ; restore $31 from stack
.word 4
add $30, $30, $31
lw $31, −4($30)
jr $31                 ; return to OS

;------------------------

; Example 6b: A procedure
; sumOneToN: sum the integers from 1 to N
; input: $2 is N
; output: $3 is the sum

sumOneToN:
sw $1, −4($30)         ; save $1 on stack
sw $2, −8($30)         ; save $2 on stack
lis $1
.word 8
sub $30, $30, $1
add $3, $0, $0         ; clear $3
beginLoop:
add $3, $3, $2         ; add $2 to $3
lis $1                 ; decrement $2
.word −1
add $2, $2, $1
bne $2, $0, beginLoop
lis $1
.word 8
add $30, $30, $1
lw $1, −4($30)         ; restore $1 from stack
lw $2, −8($30)         ; restore $2 from stack
jr $31                 ; return from sumOneToN
</code></pre>">; Example 6a: Calling a procedure
sw $31, −4($30)        ; save $31 on stack
lis $31
.word 4
sub $30, $30, $31
lis $1                 ; call sumOneToN(13)
.word sumOneToN
lis $2
.word 13
jalr $1
lis $31                ; restore $31 from stack
.word 4
add $30, $30, $31
lw $31, −4($30)
jr $31                 ; return to OS

;------------------------

; Example 6b: A procedure
; sumOneToN: sum the integers from 1 to N
; input: $2 is N
; output: $3 is the sum

sumOneToN:
sw $1, −4($30)         ; save $1 on stack
sw $2, −8($30)         ; save $2 on stack
lis $1
.word 8
sub $30, $30, $1
add $3, $0, $0         ; clear $3
beginLoop:
add $3, $3, $2         ; add $2 to $3
lis $1                 ; decrement $2
.word −1
add $2, $2, $1
bne $2, $0, beginLoop
lis $1
.word 8
add $30, $30, $1
lw $1, −4($30)         ; restore $1 from stack
lw $2, −8($30)         ; restore $2 from stack
jr $31                 ; return from sumOneToN
</code></pre><p>In general, Stack usage rules are:</p><pre><code data-origin="<pre><code>sw
sw
...
sub $30, $30, 4.n
[body]
add $30, $30, 4.n
lw
lw
jr $31
</code></pre>">sw
sw
...
sub $30, $30, 4.n
[body]
add $30, $30, 4.n
lw
lw
jr $31
</code></pre><h2 id="recursion"><a name="recursion" href="#recursion"></a>Recursion</h2><p>Here is an example of recursion</p><pre><code class="assembly" data-origin="<pre><code class=&quot;Assembly&quot;>; Save $31 on the stack
sw $31, -4($30)
lis $31
.word 4
sub $30, $30, $31

; Call recSum(13)
lis $4
.word recSum
lis $1
.word 13
jalr $4

; Restore $31 from the stack
lis $31
.word 4
add $30, $30, $31
lw $31, -4($30)

; Return to OS
jr $31

;-----------------------

; recursively sum up the integers from 1 to N
; assume that input (N) is in $1
; output is returned in $3
recSum:
; Save registers on the stack
sw $1, -4($30)
sw $2, -8($30)
sw $4, -12($30)
sw $31, -16($30)
lis $4
.word 16
sub $30, $30, $4
; Initialize sum so far
add $3, $0, $0
; Check to see if we are in the base case (N=0)
beq $1, $0, done
; Otherwise, we must compute the sum of the current N
; and the sum of the rest
; keep a copy of the current value of N
add $2, $1, $0
; put N-1 into register $1
lis $4
.word 1
sub $1, $1, $4
; get ready to call routine (i.e., ourself)
lis $4
.word recSum
jalr $4
; add the value we got back to the current value of N (in $2)
add $3, $3, $2
done:
; restore registers
lis $4
.word 16
add $30, $30, $4
lw $1, -4($30)
lw $2, -8($30)
lw $4, -12($30)
lw $31, -16($30)
jr $31
</code></pre>">; Save $31 on the stack
sw $31, -4($30)
lis $31
.word 4
sub $30, $30, $31

; Call recSum(13)
lis $4
.word recSum
lis $1
.word 13
jalr $4

; Restore $31 from the stack
lis $31
.word 4
add $30, $30, $31
lw $31, -4($30)

; Return to OS
jr $31

;-----------------------

; recursively sum up the integers from 1 to N
; assume that input (N) is in $1
; output is returned in $3
recSum:
; Save registers on the stack
sw $1, -4($30)
sw $2, -8($30)
sw $4, -12($30)
sw $31, -16($30)
lis $4
.word 16
sub $30, $30, $4
; Initialize sum so far
add $3, $0, $0
; Check to see if we are in the base case (N=0)
beq $1, $0, done
; Otherwise, we must compute the sum of the current N
; and the sum of the rest
; keep a copy of the current value of N
add $2, $1, $0
; put N-1 into register $1
lis $4
.word 1
sub $1, $1, $4
; get ready to call routine (i.e., ourself)
lis $4
.word recSum
jalr $4
; add the value we got back to the current value of N (in $2)
add $3, $3, $2
done:
; restore registers
lis $4
.word 16
add $30, $30, $4
lw $1, -4($30)
lw $2, -8($30)
lw $4, -12($30)
lw $31, -16($30)
jr $31
</code></pre><p>In general, the template for recursion in MIPS is roughly:</p><ul>
<li>Save registers ($31 in particular)</li><li>Check base case</li><li>Recursive case:<ul>
<li>Compute next value</li><li>Call self</li><li>Compute return value</li></ul>
</li><li>Restore registers</li></ul><h1 id="lectures-5"><a name="lectures-5" href="#lectures-5"></a>Lectures 5</h1><h2 id="assembler-stages"><a name="assembler-stages" href="#assembler-stages"></a>Assembler Stages</h2><p>First pass = make an intermediate representation<br>Second pass = make actual ML code</p><h2 id="syntax-and-semantics"><a name="syntax-and-semantics" href="#syntax-and-semantics"></a>Syntax and Semantics</h2><p><strong>Syntax</strong> = form / structure (col 2 of MIPS ref sheet)<br>Asm lang syntax goes in, ML lang syntax comes out</p><p><strong>Semantics</strong> = “meaning” (col 3 of MIPS ref sheet)<br>What do instructions actually “do”</p><p><strong>Location</strong> and <strong>Labels</strong> (col 4 of MIPS ref sheet)<br>Location = “where I am”<br>Label = “where I want to be”</p><h2 id="first-pass---analysis"><a name="first-pass---analysis" href="#first-pass---analysis"></a>First Pass - Analysis</h2><p>Must generate<br>1) an intermediate representation<br>2) a symbol table</p><p>Tokenization (not neccesary, but probably the best intermediate representation</p><ul>
<li>A <strong>Tokenizer</strong> is a program that<ul>
<li>takes an <strong>Input</strong> of ASCII chars</li><li><strong>Outputs</strong> a sequence of Tokens</li><li>e.g: <code>add $3, $1, $7</code> =&gt; <code>&lt;ADD&gt;&lt;REG&gt;&lt;COMMA&gt;&lt;REG&gt;&lt;COMMA&gt;&lt;REG&gt;</code></li></ul>
</li></ul><h3 id="intermediate-representation-(ir)"><a name="intermediate-representation-(ir)" href="#intermediate-representation-(ir)"></a>Intermediate Representation (IR)</h3><p>There is no “hard and fast” rules for what a IR can be.<br>It can be anywhere from </p><ul>
<li>Just the raw ASCII minus comments</li><li>A series of tekens</li><li>Perliminary binary translation</li><li>Or really anywhere inbetween</li></ul><h3 id="symbol-table-(st)"><a name="symbol-table-(st)" href="#symbol-table-(st)"></a>Symbol Table (ST)</h3><p>Stores the address and the name of each label definition</p><p>The following code has the following Symbol table</p><pre><code data-origin="<pre><code>0x00 misery: beq $0, $7, happy
...
0x0C         beq $7, $12, misery
...
0x1C happy:  add $3, $3, $3
</code></pre>">0x00 misery: beq $0, $7, happy
...
0x0C         beq $7, $12, misery
...
0x1C happy:  add $3, $3, $3
</code></pre><table>
<thead>
<tr>
<th>name</th>
<th>address</th>
</tr>
</thead>
<tbody>
<tr>
<td>misery</td>
<td>0x00</td>
</tr>
<tr>
<td>happy</td>
<td>0x1c</td>
</tr>
</tbody>
</table><h2 id="second-pass---synthesis"><a name="second-pass---synthesis" href="#second-pass---synthesis"></a>Second Pass - Synthesis</h2><p>Takes the IR and ST, and combines them into valid machine code</p><h2 id="example:-encoding-a-beq-instruction"><a name="example:-encoding-a-beq-instruction" href="#example:-encoding-a-beq-instruction"></a>Example: Encoding a beq instruction</h2><p>Given <code>0x0C beq $7, $12, misery</code>, and that <code>misery</code> is at <code>0x00</code></p><p>from the MIPS reference sheet, we know <code>beq</code> has format <code>0001 00ss ssst tttt iiii iiii iiii iiii</code>, where i is an <strong>Offset</strong> from the current PC!</p><p>Thus, we must encode those <code>i</code>‘s to have a value of <code>-16</code>, to move the PC back to 16</p><h2 id="advice-for-making-an-assembler"><a name="advice-for-making-an-assembler" href="#advice-for-making-an-assembler"></a>Advice for making an assembler</h2><p>Look for patterns!</p><p>For example: ADD and SUB have instructions that are almost the same! They only differ by 1 bit!</p><p>There are plenty of these, so don’t forget to write DRY code</p><h2 id="efficieny-of-the-symbol-table"><a name="efficieny-of-the-symbol-table" href="#efficieny-of-the-symbol-table"></a>Efficieny of the Symbol Table</h2><p>For large programs, there will be a huge symbol table, and there must be a way to have quick and efficient access to it.</p><p>Symbol Tables are just (key, val) pairs, with the key being the label string, and the value being an integer representing the address of the label</p><p>So, TL;DR, use a Hash Map / Dictionary</p><ul>
<li>Supports quick insert (Pass 1)</li><li>Supports quick remove (not that we will be doing any removes)</li><li>Supports quick finds (Pass 2 AND Pass 1 - Check for same label, 2 addr)</li></ul><h2 id="error-checking-in-pass-1"><a name="error-checking-in-pass-1" href="#error-checking-in-pass-1"></a>Error Checking in Pass 1</h2><p>Check for Duplicate Label Definitions (i.e: same label for 2 different addresses)</p><p>Check for Label Syntax</p><ul>
<li>Must start with an alphabetic char (so 123fred: is bad, $54: is bad)</li><li>Must have only alphanumeric chars</li></ul><p>Check basic Syntax</p><ul>
<li>Eg: <code>asddsa fgdfg ,,;</code> is invalid</li></ul><h2 id="error-checking-in-pass-2"><a name="error-checking-in-pass-2" href="#error-checking-in-pass-2"></a>Error Checking in Pass 2</h2><p>Consider <code>beq $3, $4, notALabel</code></p><p>We can’t jsut throw this instruction out in Pass 1, as notALabel might be defined later. Only in Pass 2 can we throw a “label undefined” error<br>This is a <em>Semantic</em> Error</p><p>Consider <code>lw $3 4($30)</code></p><p>This will throw a <em>Syntax</em> error</p><p>Consider <code>lw $3, 4($30</code><br>Consider <code>lw lw $3, 4($30)</code></p><p>These will all throw <em>Syntax</em> error</p><p>Consider <code>lv $3, 4($30)</code></p><p>This will thow either a “invalid instruction” error, or a “Syntax error”</p><p>Consider <code>lw $3, 4($32)</code></p><p>This will throw a <em>Semantic</em> error, since register $32 doesn’t exist</p><p>Consider <code>lw $3, 44444444444444($30)</code></p><p>This will throw a <em>Semantic</em> error, since that number is out of the 16 bit bound, and can’t be encoded in the instruction</p><p>Consider <code>$3, 5($30)</code></p><p>This might throw a <em>Semantic</em> error, since 5 is not a multiple of 4 (but i might not, if the multiplication between $30 and 5 is actuall a multiple of 4)</p><h2 id="error-checking-philosophy"><a name="error-checking-philosophy" href="#error-checking-philosophy"></a>Error Checking Philosophy</h2><h3 id="accept-valid-instructions,-reject-everything-else."><a name="accept-valid-instructions,-reject-everything-else." href="#accept-valid-instructions,-reject-everything-else."></a>Accept valid instructions, reject everything else.</h3><p>Easier to check validity of instruction, than the invalidity of the instructions.</p><h2 id="a-note-on-what-the-assembler-will-output"><a name="a-note-on-what-the-assembler-will-output" href="#a-note-on-what-the-assembler-will-output"></a>A note on what the Assembler will output</h2><p>The assembeler we write will <strong>output literal bits, NOT ASCII chars!!</strong></p><p>That means that the assembler will make heavy use of the bitwise operators, like <code>&amp;, |, &lt;&lt;, &gt;&gt;</code>, etc…</p><p>Output is still to STDOUT, but use <code>putchar</code></p><h2 id="a-gift"><a name="a-gift" href="#a-gift"></a>A Gift</h2><p>On the Assignment 3/4 page, you can download <code>asm.c / asm.cc / asm.rkt</code>, that will provide a significant ammount of helpful boilerplate code to jumpstart your assembler development.</p><h2 id="how-to-write-an-assembler"><a name="how-to-write-an-assembler" href="#how-to-write-an-assembler"></a>How to Write an Assembler</h2><p>Slowly.</p><p>With a lot of tests.<br>Like, a LOT of tests.<br>Like a SHITTON of tests.<br>Like an UNREASONABLE AMMOUT of tests.</p><p>Test your assembler against cs241.binasm.</p><h2 id="correctness"><a name="correctness" href="#correctness"></a>Correctness</h2><ul>
<li>Read the spec carefully, or, RTFM</li><li>Think reasonably, and unreasonably</li><li>Remember memory: O(n)</li><li>Running times DO matter: O(n)</li><li><em>Dont’t use Marmoset as your only testing tool!</em></li></ul><h1 id="lecture-6"><a name="lecture-6" href="#lecture-6"></a>Lecture 6</h1><h2 id="loaders"><a name="loaders" href="#loaders"></a>Loaders</h2><p>Generally, we don’t run our programs by loading them at addr. 0. Usually, we have an OS loaded before us that then<br>a) delegates RAM to programs,<br>b) copies those programs to that point in ram,<br>c) executes them.</p><p>In pseudocode, the loader does the following:</p><pre><code data-origin="<pre><code>loop
 decide what program to run
 figure out the length of the program (n)
 find n words of storage at some address (a)
 read program into memory at a
 set up program (e.g: mipstwoints)
 put a into a register (say $19)
 jalr $19
end loop
</code></pre>">loop
 decide what program to run
 figure out the length of the program (n)
 find n words of storage at some address (a)
 read program into memory at a
 set up program (e.g: mipstwoints)
 put a into a register (say $19)
 jalr $19
end loop
</code></pre><h2 id="chickens-and-eggs"><a name="chickens-and-eggs" href="#chickens-and-eggs"></a>Chickens and Eggs</h2><p>To get the size of the program we want to load, we actually have to store the size of our program with our program (this is because of the chicken and egg problem of having to load a program into RAM to find it’s size, but we need it’s size to load it into RAM)</p><p>Another issue is that the loader itself is a program, so who loads the loader?<br>Well, a Microloader loads the loader.<br>Who loads the Microloader?<br>The Firmware / BIOS</p><p>It’s turtles all the way down.</p><p>(this is called Bootstrapping)</p><h3 id="note"><a name="note" href="#note"></a>NOTE</h3><p>I missed the next bit of the lecture, so get ready for some pretty disjointed notes.</p><h2 id="merl-format"><a name="merl-format" href="#merl-format"></a>MERL Format</h2><p>Header cookie (1 word: <code>beq $0, $0, 2 (0x10000002)</code>)<br>Length of the .merl file (1 word)<br>Length of program + header (1 word)<br>Program code (A3 + A4)<br>Notes of what to change (Relocation entries: <code>.word 1</code> <code>.word &lt;loc&gt;</code>)<br>- i.e: which registers link to other registers that would have to have a mem-offset added to them</p><p>See full description on the CS241 website</p><h2 id="a-merl-assembler-(for-a5)"><a name="a-merl-assembler-(for-a5)" href="#a-merl-assembler-(for-a5)"></a>A MERL Assembler (for A5)</h2><ul>
<li>Pass 1 changes<ul>
<li>Start counting at 0xc to account for the 3 word MERL header</li><li>If you see a <code>.word &lt;label&gt;</code> instruction, write down it’s location in the relocation table</li></ul>
</li><li>Pass 2 changes<ul>
<li>Output the header (the coockie, the size of the .merl file, the size of the program + header)</li><li>Output notes:<ul>
<li>Relocation table entries</li></ul>
</li></ul>
</li></ul><h2 id="relocating-loader-pseudocode"><a name="relocating-loader-pseudocode" href="#relocating-loader-pseudocode"></a>Relocating Loader Pseudocode</h2><pre><code data-origin="<pre><code>read header
a = findFreeRAM(codeLength)
for each instruction:
    MEM[a + i] = instruction
for each relocation entry
    MEM[a + location] += a
place a into $19
jalr $19
</code></pre>">read header
a = findFreeRAM(codeLength)
for each instruction:
    MEM[a + i] = instruction
for each relocation entry
    MEM[a + location] += a
place a into $19
jalr $19
</code></pre><h1 id="lecture-7"><a name="lecture-7" href="#lecture-7"></a>Lecture 7</h1><h2 id="merl-file-for-example-code"><a name="merl-file-for-example-code" href="#merl-file-for-example-code"></a>MERL file for example code</h2><p><strong>Code</strong></p><pre><code data-origin="<pre><code>A: .word B
B: .word 7
C: .word 0xA
D: .word C
</code></pre>">A: .word B
B: .word 7
C: .word 0xA
D: .word C
</code></pre><p><strong>Symbol Table</strong></p><table>
<thead>
<tr>
<th>Symbol</th>
<th>Address</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>0x0C</td>
</tr>
<tr>
<td>B</td>
<td>0x10</td>
</tr>
<tr>
<td>C</td>
<td>0x14</td>
</tr>
<tr>
<td>D</td>
<td>0x18</td>
</tr>
</tbody>
</table><p><strong>Relocation Table</strong></p><table>
<thead>
<tr>
<th>Relocations</th>
</tr>
</thead>
<tbody>
<tr>
<td>0x0C</td>
</tr>
<tr>
<td>0x18</td>
</tr>
</tbody>
</table><p><strong>The Merl File:</strong></p><pre><code data-origin="<pre><code>; Header
0x10000002
0x0000002C
0x0000001C

; Program Code
0x00000010
0x00000007
0x0000000A
0x00000014

; Relocation Entries
0x00000001
0x0000000C
0x00000001
0x00000018
</code></pre>">; Header
0x10000002
0x0000002C
0x0000001C

; Program Code
0x00000010
0x00000007
0x0000000A
0x00000014

; Relocation Entries
0x00000001
0x0000000C
0x00000001
0x00000018
</code></pre><h2 id="linkers"><a name="linkers" href="#linkers"></a>Linkers</h2><p>Linkers take distinct programs, and smush them together into one package.<br>This is useful to create reusable components of code, and allow other code to to them.</p><p><a href="https://www.student.cs.uwaterloo.ca/~cs241/slides/LinkerHandout.pdf">https://www.student.cs.uwaterloo.ca/~cs241/slides/LinkerHandout.pdf</a></p><p><a href="https://www.student.cs.uwaterloo.ca/~cs241/slides/LoaderHandout.pdf">https://www.student.cs.uwaterloo.ca/~cs241/slides/LoaderHandout.pdf</a></p><h2 id="missed-a-lot-about-esd-and-esrs"><a name="missed-a-lot-about-esd-and-esrs" href="#missed-a-lot-about-esd-and-esrs"></a>Missed a lot about ESD and ESRs</h2><h2 id="linker-pseudocode"><a name="linker-pseudocode" href="#linker-pseudocode"></a>Linker Pseudocode</h2><pre><code data-origin="<pre><code>concatenate the (merl) programs
construct the ESD
use ESR
Relocate (internally)
</code></pre>">concatenate the (merl) programs
construct the ESD
use ESR
Relocate (internally)
</code></pre><h1 id="lecture-8"><a name="lecture-8" href="#lecture-8"></a>Lecture 8</h1><h2 id="static-linking-vs-dynamic-linking"><a name="static-linking-vs-dynamic-linking" href="#static-linking-vs-dynamic-linking"></a>Static Linking vs Dynamic Linking</h2><p>Static Linking Example</p><ul>
<li>Assemble and combine all code into one large, self contained, executable</li></ul><p>Dynamic linking example</p><ul>
<li>Done at execution time</li><li>Essentially, you call a “system subroutine” with the argument being a string of the subroutine you actually want to find, and the system will then redirect you to the code you want.</li><li>Results in smaller file-sizes</li><li>Multiple programs reuse the same subroutines</li></ul><p>That’s all for MIPS btw</p><hr class="page"><h1 id="an-introduction-to-formal-languages"><a name="an-introduction-to-formal-languages" href="#an-introduction-to-formal-languages"></a>An Introduction to Formal Languages</h1><h2 id="motivation"><a name="motivation" href="#motivation"></a>Motivation</h2><ul>
<li>Precision of specification and recognition</li><li>Importance of this: every assignment past A5 will use these concepts</li><li>Benefits of theory:<ul>
<li>Means ofcommunication</li><li>Determine the power and limits of communication (what we can / can’t express)</li><li>Guides the design and structure of a compiler</li></ul>
</li></ul><h2 id="terminology"><a name="terminology" href="#terminology"></a>Terminology</h2><ul>
<li>Rooted in set theory <code>{}</code></li><li>Alphabet: a finite set of symbols<br><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-1-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1" style="width: 6.817em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.574em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.612em 1000em 2.804em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-2"><span class="msubsup" id="MathJax-Span-3"><span style="display: inline-block; position: relative; width: 1.113em; height: 0px;"><span style="position: absolute; clip: rect(1.633em 1000em 2.623em -0.462em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4" style="font-family: STIXGeneral;">Σ</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.656em;"><span class="mn" id="MathJax-Span-5" style="font-size: 70.7%; font-family: STIXGeneral;">1</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-6" style="font-family: STIXGeneral; padding-left: 0.313em;">=</span><span class="mo" id="MathJax-Span-7" style="font-family: STIXGeneral; padding-left: 0.313em;">{</span><span class="mi" id="MathJax-Span-8" style="font-family: STIXGeneral; font-style: italic;">a</span><span class="mo" id="MathJax-Span-9" style="font-family: STIXGeneral;">,</span><span class="mi" id="MathJax-Span-10" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.188em;">b</span><span class="mo" id="MathJax-Span-11" style="font-family: STIXGeneral;">,</span><span class="mi" id="MathJax-Span-12" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.188em;">c</span><span class="mo" id="MathJax-Span-13" style="font-family: STIXGeneral;">}</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.187em; vertical-align: -0.287em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-1"> \Sigma_1 = \{a, b, c\} </script></span><br><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-2-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-14" style="width: 11.883em; display: inline-block;"><span style="display: inline-block; position: relative; width: 9.727em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.612em 1000em 2.804em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-15"><span class="msubsup" id="MathJax-Span-16"><span style="display: inline-block; position: relative; width: 1.113em; height: 0px;"><span style="position: absolute; clip: rect(1.633em 1000em 2.623em -0.462em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-17" style="font-family: STIXGeneral;">Σ</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.656em;"><span class="mn" id="MathJax-Span-18" style="font-size: 70.7%; font-family: STIXGeneral;">2</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-19" style="font-family: STIXGeneral; padding-left: 0.313em;">=</span><span class="mo" id="MathJax-Span-20" style="font-family: STIXGeneral; padding-left: 0.313em;">{</span><span class="mi" id="MathJax-Span-21" style="font-family: STIXGeneral;">Δ</span><span class="mo" id="MathJax-Span-22" style="font-family: STIXGeneral;">,</span><span class="mi" id="MathJax-Span-23" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.188em;">c</span><span class="mi" id="MathJax-Span-24" style="font-family: STIXGeneral; font-style: italic;">a</span><span class="mi" id="MathJax-Span-25" style="font-family: STIXGeneral; font-style: italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.018em;"></span></span><span class="mo" id="MathJax-Span-26" style="font-family: STIXGeneral;">,</span><span class="mi" id="MathJax-Span-27" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.188em;">b</span><span class="mi" id="MathJax-Span-28" style="font-family: STIXGeneral; font-style: italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span><span class="mi" id="MathJax-Span-29" style="font-family: STIXGeneral; font-style: italic;">u</span><span class="mi" id="MathJax-Span-30" style="font-family: STIXGeneral; font-style: italic;">e</span><span class="mo" id="MathJax-Span-31" style="font-family: STIXGeneral;">,</span><span class="mn" id="MathJax-Span-32" style="font-family: STIXGeneral; padding-left: 0.188em;">123</span><span class="mo" id="MathJax-Span-33" style="font-family: STIXGeneral;">}</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.187em; vertical-align: -0.287em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-2"> \Sigma_2 = \{\Delta, cat, blue, 123\} </script></span></li><li><p>Word (aka strin, sentance): a finite sequence of symbols from the alphabet</p>
<ul>
<li>Words over <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-34" style="width: 20.217em; display: inline-block;"><span style="display: inline-block; position: relative; width: 16.557em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.612em 1000em 2.8em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-35"><span class="msubsup" id="MathJax-Span-36"><span style="display: inline-block; position: relative; width: 1.113em; height: 0px;"><span style="position: absolute; clip: rect(1.633em 1000em 2.623em -0.462em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-37" style="font-family: STIXGeneral;">Σ</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.656em;"><span class="mn" id="MathJax-Span-38" style="font-size: 70.7%; font-family: STIXGeneral;">1</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-39" style="font-family: STIXGeneral; padding-left: 0.313em;">:</span><span class="msubsup" id="MathJax-Span-40" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.313em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.641em -0.421em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-41" style="font-family: STIXGeneral; font-style: italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.073em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.856em;"><span class="mn" id="MathJax-Span-42" style="font-size: 70.7%; font-family: STIXGeneral;">1</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-43" style="font-family: STIXGeneral; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-44" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.313em;">b</span><span class="mi" id="MathJax-Span-45" style="font-family: STIXGeneral; font-style: italic;">a</span><span class="mi" id="MathJax-Span-46" style="font-family: STIXGeneral; font-style: italic;">a</span><span class="mi" id="MathJax-Span-47" style="font-family: STIXGeneral; font-style: italic;">b</span><span class="mtext" id="MathJax-Span-48" style="font-family: STIXGeneral;">&nbsp;</span><span class="mtext" id="MathJax-Span-49" style="font-family: STIXGeneral;">&nbsp;</span><span class="msubsup" id="MathJax-Span-50"><span style="display: inline-block; position: relative; width: 1.313em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.641em -0.421em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-51" style="font-family: STIXGeneral; font-style: italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.073em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.856em;"><span class="mn" id="MathJax-Span-52" style="font-size: 70.7%; font-family: STIXGeneral;">2</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-53" style="font-family: STIXGeneral; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-54" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.313em;">a</span><span class="mi" id="MathJax-Span-55" style="font-family: STIXGeneral; font-style: italic;">a</span><span class="mi" id="MathJax-Span-56" style="font-family: STIXGeneral; font-style: italic;">a</span><span class="mtext" id="MathJax-Span-57" style="font-family: STIXGeneral;">&nbsp;</span><span class="mtext" id="MathJax-Span-58" style="font-family: STIXGeneral;">&nbsp;</span><span class="msubsup" id="MathJax-Span-59"><span style="display: inline-block; position: relative; width: 1.313em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.641em -0.421em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-60" style="font-family: STIXGeneral; font-style: italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.073em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.856em;"><span class="mn" id="MathJax-Span-61" style="font-size: 70.7%; font-family: STIXGeneral;">3</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-62" style="font-family: STIXGeneral; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-63" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.313em;">ϵ</span><span class="mo" id="MathJax-Span-64" style="font-family: STIXGeneral;">(</span><span class="mi" id="MathJax-Span-65" style="font-family: STIXGeneral; font-style: italic;">o</span><span class="mi" id="MathJax-Span-66" style="font-family: STIXGeneral; font-style: italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span class="mi" id="MathJax-Span-67" style="font-family: STIXGeneral; font-style: italic;">λ</span><span class="mo" id="MathJax-Span-68" style="font-family: STIXGeneral;">)</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.183em; vertical-align: -0.283em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-3">\Sigma_1: W_1=baab\ \ W_2 = aaa\ \ W_3=\epsilon(or \lambda)</script></span></li><li>Note that no symbols is totally okay.</li></ul>
</li><li><p>Language: a set of words</p>
<ul>
<li>Languages over <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-4-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-69" style="width: 2.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.694em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.633em 1000em 2.773em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-70"><span class="msubsup" id="MathJax-Span-71"><span style="display: inline-block; position: relative; width: 1.113em; height: 0px;"><span style="position: absolute; clip: rect(1.633em 1000em 2.623em -0.462em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-72" style="font-family: STIXGeneral;">Σ</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.656em;"><span class="mn" id="MathJax-Span-73" style="font-size: 70.7%; font-family: STIXGeneral;">1</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-74" style="font-family: STIXGeneral; padding-left: 0.313em;">:</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.124em; vertical-align: -0.25em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-4">\Sigma_1:</script></span><ul>
<li><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-75" style="width: 11.017em; display: inline-block;"><span style="display: inline-block; position: relative; width: 9.016em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.612em 1000em 2.804em -0.5em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-76"><span class="msubsup" id="MathJax-Span-77"><span style="display: inline-block; position: relative; width: 1.056em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.623em -0.5em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-78" style="font-family: STIXGeneral; font-style: italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.598em;"><span class="mn" id="MathJax-Span-79" style="font-size: 70.7%; font-family: STIXGeneral;">1</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-80" style="font-family: STIXGeneral; padding-left: 0.313em;">=</span><span class="mo" id="MathJax-Span-81" style="font-family: STIXGeneral; padding-left: 0.313em;">{</span><span class="mi" id="MathJax-Span-82" style="font-family: STIXGeneral; font-style: italic;">a</span><span class="mo" id="MathJax-Span-83" style="font-family: STIXGeneral;">,</span><span class="mi" id="MathJax-Span-84" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.188em;">a</span><span class="mi" id="MathJax-Span-85" style="font-family: STIXGeneral; font-style: italic;">a</span><span class="mo" id="MathJax-Span-86" style="font-family: STIXGeneral;">,</span><span class="mi" id="MathJax-Span-87" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.188em;">a</span><span class="mi" id="MathJax-Span-88" style="font-family: STIXGeneral; font-style: italic;">a</span><span class="mi" id="MathJax-Span-89" style="font-family: STIXGeneral; font-style: italic;">b</span><span class="mo" id="MathJax-Span-90" style="font-family: STIXGeneral;">,</span><span class="mi" id="MathJax-Span-91" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.188em;">b</span><span class="mi" id="MathJax-Span-92" style="font-family: STIXGeneral; font-style: italic;">a</span><span class="mi" id="MathJax-Span-93" style="font-family: STIXGeneral; font-style: italic;">a</span><span class="mo" id="MathJax-Span-94" style="font-family: STIXGeneral;">}</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.187em; vertical-align: -0.287em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5"> L_1 = \{a,aa,aab,baa\}</script></span></li><li><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-6-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-95" style="width: 13.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.148em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.615em 1000em 2.804em -0.5em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-96"><span class="msubsup" id="MathJax-Span-97"><span style="display: inline-block; position: relative; width: 1.056em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.623em -0.5em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-98" style="font-family: STIXGeneral; font-style: italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.598em;"><span class="mn" id="MathJax-Span-99" style="font-size: 70.7%; font-family: STIXGeneral;">2</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-100" style="font-family: STIXGeneral; padding-left: 0.313em;">=</span><span class="mo" id="MathJax-Span-101" style="font-family: STIXGeneral; padding-left: 0.313em;">{</span><span class="mi" id="MathJax-Span-102" style="font-family: STIXGeneral; font-style: italic;">a</span><span class="mo" id="MathJax-Span-103" style="font-family: STIXGeneral;">,</span><span class="mi" id="MathJax-Span-104" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.188em;">a</span><span class="mi" id="MathJax-Span-105" style="font-family: STIXGeneral; font-style: italic;">a</span><span class="mo" id="MathJax-Span-106" style="font-family: STIXGeneral;">,</span><span class="mi" id="MathJax-Span-107" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.188em;">a</span><span class="mi" id="MathJax-Span-108" style="font-family: STIXGeneral; font-style: italic;">a</span><span class="mi" id="MathJax-Span-109" style="font-family: STIXGeneral; font-style: italic;">a</span><span class="mo" id="MathJax-Span-110" style="font-family: STIXGeneral;">,</span><span class="mi" id="MathJax-Span-111" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.188em;">a</span><span class="mi" id="MathJax-Span-112" style="font-family: STIXGeneral; font-style: italic;">a</span><span class="mi" id="MathJax-Span-113" style="font-family: STIXGeneral; font-style: italic;">a</span><span class="mi" id="MathJax-Span-114" style="font-family: STIXGeneral; font-style: italic;">a</span><span class="mo" id="MathJax-Span-115" style="font-family: STIXGeneral;">,</span><span class="mo" id="MathJax-Span-116" style="font-family: STIXGeneral; padding-left: 0.188em;">.</span><span class="mo" id="MathJax-Span-117" style="font-family: STIXGeneral; padding-left: 0.188em;">.</span><span class="mo" id="MathJax-Span-118" style="font-family: STIXGeneral; padding-left: 0.188em;">.</span><span class="mo" id="MathJax-Span-119" style="font-family: STIXGeneral; padding-left: 0.188em;">}</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.184em; vertical-align: -0.287em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-6"> L_2 = \{a,aa,aaa,aaaa,...\}</script></span></li><li><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-7-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-120" style="width: 4.017em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.279em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.615em 1000em 2.804em -0.5em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-121"><span class="msubsup" id="MathJax-Span-122"><span style="display: inline-block; position: relative; width: 1.056em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.623em -0.5em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-123" style="font-family: STIXGeneral; font-style: italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.598em;"><span class="mn" id="MathJax-Span-124" style="font-size: 70.7%; font-family: STIXGeneral;">3</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-125" style="font-family: STIXGeneral; padding-left: 0.313em;">=</span><span class="mo" id="MathJax-Span-126" style="font-family: STIXGeneral; padding-left: 0.313em;">{</span><span class="mo" id="MathJax-Span-127" style="font-family: STIXGeneral;">}</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.184em; vertical-align: -0.287em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-7"> L_3 = \{\}</script></span></li><li><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-8-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-128" style="width: 4.55em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.716em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.615em 1000em 2.804em -0.5em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-129"><span class="msubsup" id="MathJax-Span-130"><span style="display: inline-block; position: relative; width: 1.056em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.623em -0.5em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-131" style="font-family: STIXGeneral; font-style: italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.598em;"><span class="mn" id="MathJax-Span-132" style="font-size: 70.7%; font-family: STIXGeneral;">4</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-133" style="font-family: STIXGeneral; padding-left: 0.313em;">=</span><span class="mo" id="MathJax-Span-134" style="font-family: STIXGeneral; padding-left: 0.313em;">{</span><span class="mi" id="MathJax-Span-135" style="font-family: STIXGeneral; font-style: italic;">ϵ</span><span class="mo" id="MathJax-Span-136" style="font-family: STIXGeneral;">}</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.184em; vertical-align: -0.287em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-8"> L_4 = \{\epsilon\}</script></span></li></ul>
</li></ul>
</li><li><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-9-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-137" style="width: 1.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.311em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.619em 1000em 2.641em -0.425em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-138"><span class="texatom" id="MathJax-Span-139"><span class="mrow" id="MathJax-Span-140"><span class="mo" id="MathJax-Span-141" style="font-family: STIXGeneral;">|</span></span></span><span class="mi" id="MathJax-Span-142" style="font-family: STIXGeneral; font-style: italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.073em;"></span></span><span class="texatom" id="MathJax-Span-143"><span class="mrow" id="MathJax-Span-144"><span class="mo" id="MathJax-Span-145" style="font-family: STIXGeneral;">|</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.98em; vertical-align: -0.089em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-9">|W|</script></span>: the size of <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-10-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-146" style="width: 1.15em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.929em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.642em 1000em 2.641em -0.421em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-147"><span class="mi" id="MathJax-Span-148" style="font-family: STIXGeneral; font-style: italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.073em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.952em; vertical-align: -0.089em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-10">W</script></span> (Where <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-11-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-149" style="width: 1.15em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.929em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.642em 1000em 2.641em -0.421em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-150"><span class="mi" id="MathJax-Span-151" style="font-family: STIXGeneral; font-style: italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.073em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.952em; vertical-align: -0.089em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-11">W</script></span> is a word or language)<ul>
<li><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-12-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-152" style="width: 1.817em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.475em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.619em 1000em 2.773em -0.425em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-153"><span class="texatom" id="MathJax-Span-154"><span class="mrow" id="MathJax-Span-155"><span class="mo" id="MathJax-Span-156" style="font-family: STIXGeneral;">|</span></span></span><span class="msubsup" id="MathJax-Span-157"><span style="display: inline-block; position: relative; width: 1.056em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.623em -0.5em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-158" style="font-family: STIXGeneral; font-style: italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.598em;"><span class="mn" id="MathJax-Span-159" style="font-size: 70.7%; font-family: STIXGeneral;">1</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="texatom" id="MathJax-Span-160"><span class="mrow" id="MathJax-Span-161"><span class="mo" id="MathJax-Span-162" style="font-family: STIXGeneral;">|</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.141em; vertical-align: -0.25em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-12"> |L_1| </script></span> = 4</li><li><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-13-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-163" style="width: 1.817em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.475em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.619em 1000em 2.773em -0.425em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-164"><span class="texatom" id="MathJax-Span-165"><span class="mrow" id="MathJax-Span-166"><span class="mo" id="MathJax-Span-167" style="font-family: STIXGeneral;">|</span></span></span><span class="msubsup" id="MathJax-Span-168"><span style="display: inline-block; position: relative; width: 1.056em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.623em -0.5em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-169" style="font-family: STIXGeneral; font-style: italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.598em;"><span class="mn" id="MathJax-Span-170" style="font-size: 70.7%; font-family: STIXGeneral;">2</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="texatom" id="MathJax-Span-171"><span class="mrow" id="MathJax-Span-172"><span class="mo" id="MathJax-Span-173" style="font-family: STIXGeneral;">|</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.141em; vertical-align: -0.25em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-13"> |L_2| </script></span> = infinite</li><li><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-14-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-174" style="width: 1.817em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.475em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.619em 1000em 2.783em -0.425em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-175"><span class="texatom" id="MathJax-Span-176"><span class="mrow" id="MathJax-Span-177"><span class="mo" id="MathJax-Span-178" style="font-family: STIXGeneral;">|</span></span></span><span class="msubsup" id="MathJax-Span-179"><span style="display: inline-block; position: relative; width: 1.056em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.623em -0.5em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-180" style="font-family: STIXGeneral; font-style: italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.598em;"><span class="mn" id="MathJax-Span-181" style="font-size: 70.7%; font-family: STIXGeneral;">3</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="texatom" id="MathJax-Span-182"><span class="mrow" id="MathJax-Span-183"><span class="mo" id="MathJax-Span-184" style="font-family: STIXGeneral;">|</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.153em; vertical-align: -0.262em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-14"> |L_3| </script></span> = 0</li><li><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-15-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-185" style="width: 1.817em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.475em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.619em 1000em 2.773em -0.425em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-186"><span class="texatom" id="MathJax-Span-187"><span class="mrow" id="MathJax-Span-188"><span class="mo" id="MathJax-Span-189" style="font-family: STIXGeneral;">|</span></span></span><span class="msubsup" id="MathJax-Span-190"><span style="display: inline-block; position: relative; width: 1.056em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.623em -0.5em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-191" style="font-family: STIXGeneral; font-style: italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.598em;"><span class="mn" id="MathJax-Span-192" style="font-size: 70.7%; font-family: STIXGeneral;">4</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="texatom" id="MathJax-Span-193"><span class="mrow" id="MathJax-Span-194"><span class="mo" id="MathJax-Span-195" style="font-family: STIXGeneral;">|</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.141em; vertical-align: -0.25em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-15"> |L_4| </script></span> = 1</li><li><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-16-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-196" style="width: 5.683em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.645em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.612em 1000em 2.8em -0.425em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-197"><span class="texatom" id="MathJax-Span-198"><span class="mrow" id="MathJax-Span-199"><span class="mo" id="MathJax-Span-200" style="font-family: STIXGeneral;">|</span></span></span><span class="msubsup" id="MathJax-Span-201"><span style="display: inline-block; position: relative; width: 1.313em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.641em -0.421em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-202" style="font-family: STIXGeneral; font-style: italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.073em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.856em;"><span class="mn" id="MathJax-Span-203" style="font-size: 70.7%; font-family: STIXGeneral;">1</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="texatom" id="MathJax-Span-204"><span class="mrow" id="MathJax-Span-205"><span class="mo" id="MathJax-Span-206" style="font-family: STIXGeneral;">|</span></span></span><span class="mtext" id="MathJax-Span-207" style="font-family: STIXGeneral;">&nbsp;</span><span class="mo" id="MathJax-Span-208" style="font-family: STIXGeneral;">(</span><span class="mi" id="MathJax-Span-209" style="font-family: STIXGeneral; font-style: italic;">b</span><span class="mi" id="MathJax-Span-210" style="font-family: STIXGeneral; font-style: italic;">a</span><span class="mi" id="MathJax-Span-211" style="font-family: STIXGeneral; font-style: italic;">a</span><span class="mi" id="MathJax-Span-212" style="font-family: STIXGeneral; font-style: italic;">b</span><span class="mo" id="MathJax-Span-213" style="font-family: STIXGeneral;">)</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.183em; vertical-align: -0.283em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-16"> |W_1|\ (baab) </script></span> = 4</li></ul>
</li></ul><h2 id="use-of-formal-languages-specification"><a name="use-of-formal-languages-specification" href="#use-of-formal-languages-specification"></a>Use of Formal Languages Specification</h2><p>A statement of what a language is should be</p><ul>
<li>precise (no ambiguity)</li><li>easy to express</li><li>Automatable</li></ul><p>We can use these specifications to Determine if a word is in a language</p><ul>
<li>Formally: given language <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-17-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-214" style="width: 0.75em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.601em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.642em 1000em 2.623em -0.5em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-215"><span class="mi" id="MathJax-Span-216" style="font-family: STIXGeneral; font-style: italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.93em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-17">L</script></span> and a word <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-18-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-217" style="width: 0.883em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.71em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.641em -0.477em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-218"><span class="mi" id="MathJax-Span-219" style="font-family: STIXGeneral; font-style: italic;">w</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.693em; vertical-align: -0.089em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-18">w</script></span>, recognition answers the question: “<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-19-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-220" style="width: 4.15em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.388em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.641em 1000em 2.65em -0.443em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-221"><span class="mi" id="MathJax-Span-222" style="font-family: STIXGeneral; font-style: italic;">i</span><span class="mi" id="MathJax-Span-223" style="font-family: STIXGeneral; font-style: italic;">s</span><span class="mtext" id="MathJax-Span-224" style="font-family: STIXGeneral;">&nbsp;</span><span class="mi" id="MathJax-Span-225" style="font-family: STIXGeneral; font-style: italic;">w</span><span class="mo" id="MathJax-Span-226" style="font-family: STIXGeneral; padding-left: 0.313em;">∈</span><span class="mi" id="MathJax-Span-227" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.313em;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.964em; vertical-align: -0.1em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-19">is\ w \in L</script></span>“<ul>
<li>Techincally, this is just a Yes or No question, but in practice, we would like some info about what went wrong</li><li>Eg: if NO: line # and type of error, if YES: certificate of correctness</li></ul>
</li></ul><h2 id="wlp4"><a name="wlp4" href="#wlp4"></a>WLP4</h2><p>Let’s formally specify WLP4 “WooL P Four” = “Waterloo, Language, Plus, Pointers, Plus, Procedures”</p><ul>
<li>Alphabet: WLP4 tokens</li><li>Word: A WLP4 program</li><li>Language: Set of calid WLP4 programs</li></ul><p>There is a full language specification the main course web-page: <a href="https://www.student.cs.uwaterloo.ca/~cs241/wlp4/WLP4.html">https://www.student.cs.uwaterloo.ca/~cs241/wlp4/WLP4.html</a></p><h2 id="language-classes"><a name="language-classes" href="#language-classes"></a>Language Classes</h2><p>Language classes are sets of languages that may share common characteristics</p><ul>
<li>Chomsky Hierarchy for Languages (n+1 encompases n):<ul>
<li>Finite Languages (fixed number of words)</li><li>Regular Languages (a, aa, aaa, aaa…)</li><li>Context-free Languages (explained later)</li><li>Context-sensitive Languages (explained later)</li></ul>
</li></ul><p>As we move down the chompsky hierarchy, we move up in power of expressiveness, but also complexity</p><h2 id="use-of-formal-languages---organization-of-compilation"><a name="use-of-formal-languages---organization-of-compilation" href="#use-of-formal-languages---organization-of-compilation"></a>Use of Formal Languages - Organization of Compilation</h2><ul>
<li><strong>Lexical analysis</strong> - Regular Languages</li><li><strong>Syntaxtic analysis</strong> - Context Free Langauges</li><li><strong>Context-sensitive analysis (semantic analysis)</strong> - Context Sensitive Languages</li><li><strong>Synthesis (code generation)</strong> - Context Sensitive Languages</li></ul><h2 id="which-language-level-is-it?"><a name="which-language-level-is-it?" href="#which-language-level-is-it?"></a>Which Language Level is it?</h2><ul>
<li>Let <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-20-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-228" style="width: 16.35em; display: inline-block;"><span style="display: inline-block; position: relative; width: 13.388em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.612em 1000em 2.804em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-229"><span class="mi" id="MathJax-Span-230" style="font-family: STIXGeneral;">Σ</span><span class="mo" id="MathJax-Span-231" style="font-family: STIXGeneral; padding-left: 0.313em;">=</span><span class="mo" id="MathJax-Span-232" style="font-family: STIXGeneral; padding-left: 0.313em;">{</span><span class="mi" id="MathJax-Span-233" style="font-family: STIXGeneral; font-style: italic;">A</span><span class="mi" id="MathJax-Span-234" style="font-family: STIXGeneral; font-style: italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span><span class="mi" id="MathJax-Span-235" style="font-family: STIXGeneral; font-style: italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.022em;"></span></span><span class="mi" id="MathJax-Span-236" style="font-family: STIXGeneral; font-style: italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-237" style="font-family: STIXGeneral; font-style: italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mtext" id="MathJax-Span-238" style="font-family: STIXGeneral;">&nbsp;</span><span class="mi" id="MathJax-Span-239" style="font-family: STIXGeneral; font-style: italic;">c</span><span class="mi" id="MathJax-Span-240" style="font-family: STIXGeneral; font-style: italic;">h</span><span class="mi" id="MathJax-Span-241" style="font-family: STIXGeneral; font-style: italic;">a</span><span class="mi" id="MathJax-Span-242" style="font-family: STIXGeneral; font-style: italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span class="mi" id="MathJax-Span-243" style="font-family: STIXGeneral; font-style: italic;">a</span><span class="mi" id="MathJax-Span-244" style="font-family: STIXGeneral; font-style: italic;">c</span><span class="mi" id="MathJax-Span-245" style="font-family: STIXGeneral; font-style: italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.018em;"></span></span><span class="mi" id="MathJax-Span-246" style="font-family: STIXGeneral; font-style: italic;">e</span><span class="mi" id="MathJax-Span-247" style="font-family: STIXGeneral; font-style: italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span class="mi" id="MathJax-Span-248" style="font-family: STIXGeneral; font-style: italic;">s</span><span class="mo" id="MathJax-Span-249" style="font-family: STIXGeneral;">}</span><span class="mo" id="MathJax-Span-250" style="font-family: STIXGeneral; padding-left: 0.25em;">−</span><span class="mo" id="MathJax-Span-251" style="font-family: STIXGeneral; padding-left: 0.25em;">{</span><span class="mi" id="MathJax-Span-252" style="font-family: STIXGeneral; font-style: italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.022em;"></span></span><span class="mi" id="MathJax-Span-253" style="font-family: STIXGeneral; font-style: italic;">R</span><span class="mo" id="MathJax-Span-254" style="font-family: STIXGeneral;">}</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.187em; vertical-align: -0.287em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-20">\Sigma = \{ASCII\ characters\} - \{CR\}</script></span></li><li><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-21-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-255" style="width: 3.417em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.787em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.615em 1000em 2.804em -0.5em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-256"><span class="msubsup" id="MathJax-Span-257"><span style="display: inline-block; position: relative; width: 1.056em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.623em -0.5em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-258" style="font-family: STIXGeneral; font-style: italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.598em;"><span class="mn" id="MathJax-Span-259" style="font-size: 70.7%; font-family: STIXGeneral;">1</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-260" style="font-family: STIXGeneral; padding-left: 0.313em;">=</span><span class="mo" id="MathJax-Span-261" style="font-family: STIXGeneral; padding-left: 0.313em;">{</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.184em; vertical-align: -0.287em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-21">L_1 = \{</script></span>0, <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-22-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-262" style="width: 0.95em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.765em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.619em 1000em 2.764em -0.381em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-263"><span class="mn" id="MathJax-Span-264" style="font-family: STIXGeneral;">1</span><span class="mo" id="MathJax-Span-265" style="font-family: STIXGeneral;">,</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.13em; vertical-align: -0.239em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-22">1, </script></span>2, … <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-23-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-266" style="width: 1.883em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.53em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.615em 1000em 2.804em -0.451em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-267"><span class="mn" id="MathJax-Span-268" style="font-family: STIXGeneral;">31</span><span class="mo" id="MathJax-Span-269" style="font-family: STIXGeneral;">}</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.184em; vertical-align: -0.287em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-23">31\}</script></span> &nbsp;<ul>
<li><strong>Finite Language</strong></li></ul>
</li><li><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-24-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-270" style="width: 2.483em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.022em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.642em 1000em 2.773em -0.5em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-271"><span class="msubsup" id="MathJax-Span-272"><span style="display: inline-block; position: relative; width: 1.056em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.623em -0.5em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-273" style="font-family: STIXGeneral; font-style: italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.598em;"><span class="mn" id="MathJax-Span-274" style="font-size: 70.7%; font-family: STIXGeneral;">2</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-275" style="font-family: STIXGeneral; padding-left: 0.313em;">=</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.113em; vertical-align: -0.25em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-24">L_2 = </script></span> valid labels in MIPS <ul>
<li><strong>Regular Language</strong></li></ul>
</li><li><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-25-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-276" style="width: 13.95em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.421em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.615em 1000em 2.804em -0.5em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-277"><span class="msubsup" id="MathJax-Span-278"><span style="display: inline-block; position: relative; width: 1.056em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.623em -0.5em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-279" style="font-family: STIXGeneral; font-style: italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.598em;"><span class="mn" id="MathJax-Span-280" style="font-size: 70.7%; font-family: STIXGeneral;">3</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-281" style="font-family: STIXGeneral; padding-left: 0.313em;">=</span><span class="mo" id="MathJax-Span-282" style="font-family: STIXGeneral; padding-left: 0.313em;">{</span><span class="mn" id="MathJax-Span-283" style="font-family: STIXGeneral;">0</span><span class="mo" id="MathJax-Span-284" style="font-family: STIXGeneral;">,</span><span class="mn" id="MathJax-Span-285" style="font-family: STIXGeneral; padding-left: 0.188em;">4</span><span class="mo" id="MathJax-Span-286" style="font-family: STIXGeneral;">,</span><span class="mo" id="MathJax-Span-287" style="font-family: STIXGeneral; padding-left: 0.188em;">−</span><span class="mn" id="MathJax-Span-288" style="font-family: STIXGeneral;">4</span><span class="mo" id="MathJax-Span-289" style="font-family: STIXGeneral;">,</span><span class="mn" id="MathJax-Span-290" style="font-family: STIXGeneral; padding-left: 0.188em;">8</span><span class="mo" id="MathJax-Span-291" style="font-family: STIXGeneral;">,</span><span class="mo" id="MathJax-Span-292" style="font-family: STIXGeneral; padding-left: 0.188em;">−</span><span class="mn" id="MathJax-Span-293" style="font-family: STIXGeneral;">8</span><span class="mo" id="MathJax-Span-294" style="font-family: STIXGeneral;">,</span><span class="mo" id="MathJax-Span-295" style="font-family: STIXGeneral; padding-left: 0.188em;">.</span><span class="mo" id="MathJax-Span-296" style="font-family: STIXGeneral; padding-left: 0.188em;">.</span><span class="mo" id="MathJax-Span-297" style="font-family: STIXGeneral; padding-left: 0.188em;">.</span><span class="mo" id="MathJax-Span-298" style="font-family: STIXGeneral; padding-left: 0.188em;">}</span><span class="mo" id="MathJax-Span-299" style="font-family: STIXGeneral; padding-left: 0.313em;">=</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.184em; vertical-align: -0.287em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-25">L_3 = \{0,4,-4,8,-8,...\} = </script></span> valid load word (<code>lw</code>) offsets<ul>
<li><strong>Finite Language</strong> (offsets have bounds)</li></ul>
</li><li><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-26-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-300" style="width: 2.483em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.022em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.642em 1000em 2.773em -0.5em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-301"><span class="msubsup" id="MathJax-Span-302"><span style="display: inline-block; position: relative; width: 1.056em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.623em -0.5em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-303" style="font-family: STIXGeneral; font-style: italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.598em;"><span class="mn" id="MathJax-Span-304" style="font-size: 70.7%; font-family: STIXGeneral;">4</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-305" style="font-family: STIXGeneral; padding-left: 0.313em;">=</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.113em; vertical-align: -0.25em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-26">L_4 = </script></span> valid line of assembly language for A3P2 (<code>.word &lt;int&gt;</code> or <code>.word &lt;hexint&gt;</code>)<ul>
<li><strong>Finite Language</strong> (ints/hexints have bounds)</li></ul>
</li><li><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-27-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-306" style="width: 2.483em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.022em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.642em 1000em 2.783em -0.5em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-307"><span class="msubsup" id="MathJax-Span-308"><span style="display: inline-block; position: relative; width: 1.056em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.623em -0.5em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-309" style="font-family: STIXGeneral; font-style: italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.598em;"><span class="mn" id="MathJax-Span-310" style="font-size: 70.7%; font-family: STIXGeneral;">5</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-311" style="font-family: STIXGeneral; padding-left: 0.313em;">=</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.125em; vertical-align: -0.262em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-27">L_5 = </script></span> valid line of assembly language for A3P3 (+<code>.word &lt;label&gt;</code>)<ul>
<li><strong>Context Sensitive</strong> (validity depends on if label is defined)</li></ul>
</li></ul><h1 id="lecture-9"><a name="lecture-9" href="#lecture-9"></a>Lecture 9</h1><h2 id="specifying-regular-languages"><a name="specifying-regular-languages" href="#specifying-regular-languages"></a>Specifying Regular Languages</h2><p>There are several basic building blocks that we use to specify Regular Languages:</p><h3 id="finite-languages"><a name="finite-languages" href="#finite-languages"></a>Finite languages</h3><p>You can always build off an existing finite language</p><h3 id="union"><a name="union" href="#union"></a>Union</h3><p>Formally Defined: <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-28-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-312" style="width: 16.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 13.333em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.615em 1000em 2.804em -0.433em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-313"><span class="msubsup" id="MathJax-Span-314"><span style="display: inline-block; position: relative; width: 1.036em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.623em -0.433em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-315" style="font-family: STIXGeneral; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.579em;"><span class="mn" id="MathJax-Span-316" style="font-size: 70.7%; font-family: STIXGeneral;">1</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-317" style="font-family: STIXGeneral; padding-left: 0.25em;">∪</span><span class="msubsup" id="MathJax-Span-318" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 1.036em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.623em -0.433em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-319" style="font-family: STIXGeneral; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.579em;"><span class="mn" id="MathJax-Span-320" style="font-size: 70.7%; font-family: STIXGeneral;">2</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-321" style="font-family: STIXGeneral; padding-left: 0.313em;">=</span><span class="mo" id="MathJax-Span-322" style="font-family: STIXGeneral; padding-left: 0.313em;">{</span><span class="mi" id="MathJax-Span-323" style="font-family: STIXGeneral; font-style: italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mtext" id="MathJax-Span-324" style="font-family: STIXGeneral;">&nbsp;</span><span class="texatom" id="MathJax-Span-325"><span class="mrow" id="MathJax-Span-326"><span class="mo" id="MathJax-Span-327" style="font-family: STIXGeneral;">|</span></span></span><span class="mtext" id="MathJax-Span-328" style="font-family: STIXGeneral;">&nbsp;</span><span class="mi" id="MathJax-Span-329" style="font-family: STIXGeneral; font-style: italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-330" style="font-family: STIXGeneral; padding-left: 0.313em;">∈</span><span class="msubsup" id="MathJax-Span-331" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.036em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.623em -0.433em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-332" style="font-family: STIXGeneral; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.579em;"><span class="mn" id="MathJax-Span-333" style="font-size: 70.7%; font-family: STIXGeneral;">1</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mtext" id="MathJax-Span-334" style="font-family: STIXGeneral;">&nbsp;</span><span class="mi" id="MathJax-Span-335" style="font-family: STIXGeneral; font-style: italic;">o</span><span class="mi" id="MathJax-Span-336" style="font-family: STIXGeneral; font-style: italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span class="mtext" id="MathJax-Span-337" style="font-family: STIXGeneral;">&nbsp;</span><span class="mi" id="MathJax-Span-338" style="font-family: STIXGeneral; font-style: italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-339" style="font-family: STIXGeneral; padding-left: 0.313em;">∈</span><span class="msubsup" id="MathJax-Span-340" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.036em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.623em -0.433em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-341" style="font-family: STIXGeneral; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.579em;"><span class="mn" id="MathJax-Span-342" style="font-size: 70.7%; font-family: STIXGeneral;">2</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-343" style="font-family: STIXGeneral;">}</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.184em; vertical-align: -0.287em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-28">T_1 \cup T_2 = \{x\ |\ x \in T_1\ or\ x \in T_2\}</script></span><br>Simply: Make a new set containing all the elements of both sets (with each element appearing only once)</p><h3 id="concatenation"><a name="concatenation" href="#concatenation"></a>Concatenation</h3><p>Formally Defined: <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-29-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-344" style="width: 16.883em; display: inline-block;"><span style="display: inline-block; position: relative; width: 13.825em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.612em 1000em 2.829em -0.433em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-345"><span class="msubsup" id="MathJax-Span-346"><span style="display: inline-block; position: relative; width: 1.036em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.623em -0.433em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-347" style="font-family: STIXGeneral; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.579em;"><span class="mn" id="MathJax-Span-348" style="font-size: 70.7%; font-family: STIXGeneral;">1</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-349" style="font-family: STIXGeneral; padding-left: 0.25em;">⋅</span><span class="msubsup" id="MathJax-Span-350" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 1.036em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.623em -0.433em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-351" style="font-family: STIXGeneral; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.579em;"><span class="mn" id="MathJax-Span-352" style="font-size: 70.7%; font-family: STIXGeneral;">2</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-353" style="font-family: STIXGeneral; padding-left: 0.313em;">=</span><span class="mo" id="MathJax-Span-354" style="font-family: STIXGeneral; padding-left: 0.313em;">{</span><span class="mi" id="MathJax-Span-355" style="font-family: STIXGeneral; font-style: italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-356" style="font-family: STIXGeneral; font-style: italic;">y</span><span class="mtext" id="MathJax-Span-357" style="font-family: STIXGeneral;">&nbsp;</span><span class="texatom" id="MathJax-Span-358"><span class="mrow" id="MathJax-Span-359"><span class="mo" id="MathJax-Span-360" style="font-family: STIXGeneral;">|</span></span></span><span class="mtext" id="MathJax-Span-361" style="font-family: STIXGeneral;">&nbsp;</span><span class="mi" id="MathJax-Span-362" style="font-family: STIXGeneral; font-style: italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-363" style="font-family: STIXGeneral; padding-left: 0.313em;">∈</span><span class="msubsup" id="MathJax-Span-364" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.036em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.623em -0.433em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-365" style="font-family: STIXGeneral; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.579em;"><span class="mn" id="MathJax-Span-366" style="font-size: 70.7%; font-family: STIXGeneral;">1</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mi" id="MathJax-Span-367" style="font-family: STIXGeneral; font-style: italic;">a</span><span class="mi" id="MathJax-Span-368" style="font-family: STIXGeneral; font-style: italic;">n</span><span class="mi" id="MathJax-Span-369" style="font-family: STIXGeneral; font-style: italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.027em;"></span></span><span class="mtext" id="MathJax-Span-370" style="font-family: STIXGeneral;">&nbsp;</span><span class="mi" id="MathJax-Span-371" style="font-family: STIXGeneral; font-style: italic;">y</span><span class="mo" id="MathJax-Span-372" style="font-family: STIXGeneral; padding-left: 0.313em;">∈</span><span class="msubsup" id="MathJax-Span-373" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.036em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.623em -0.433em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-374" style="font-family: STIXGeneral; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.579em;"><span class="mn" id="MathJax-Span-375" style="font-size: 70.7%; font-family: STIXGeneral;">2</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-376" style="font-family: STIXGeneral;">}</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.218em; vertical-align: -0.318em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-29">T_1 \cdot T_2 = \{xy\ |\ x \in T_1 and\ y \in T_2\}</script></span><br>Example:<br><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-30-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-377" style="width: 1.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.038em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.369em 1000em 2.5em -0.433em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-378"><span class="msubsup" id="MathJax-Span-379"><span style="display: inline-block; position: relative; width: 1.036em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.623em -0.433em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-380" style="font-family: STIXGeneral; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.579em;"><span class="mn" id="MathJax-Span-381" style="font-size: 70.7%; font-family: STIXGeneral;">1</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.113em; vertical-align: -0.25em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-30">T_1 </script></span>= {dog, cat}<br><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-31-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-382" style="width: 1.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.038em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.369em 1000em 2.5em -0.433em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-383"><span class="msubsup" id="MathJax-Span-384"><span style="display: inline-block; position: relative; width: 1.036em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.623em -0.433em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-385" style="font-family: STIXGeneral; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.579em;"><span class="mn" id="MathJax-Span-386" style="font-size: 70.7%; font-family: STIXGeneral;">2</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.113em; vertical-align: -0.25em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-31">T_2 </script></span>= {<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-32-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-387" style="width: 0.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.492em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-388"><span class="mi" id="MathJax-Span-389" style="font-family: STIXGeneral; font-style: italic;">ϵ</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.685em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-32">\epsilon</script></span>, fish}<br><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-33-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-390" style="width: 3.483em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.842em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.642em 1000em 2.773em -0.433em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-391"><span class="msubsup" id="MathJax-Span-392"><span style="display: inline-block; position: relative; width: 1.036em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.623em -0.433em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-393" style="font-family: STIXGeneral; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.579em;"><span class="mn" id="MathJax-Span-394" style="font-size: 70.7%; font-family: STIXGeneral;">1</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-395" style="font-family: STIXGeneral; padding-left: 0.25em;">⋅</span><span class="msubsup" id="MathJax-Span-396" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 1.036em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.623em -0.433em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-397" style="font-family: STIXGeneral; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.579em;"><span class="mn" id="MathJax-Span-398" style="font-size: 70.7%; font-family: STIXGeneral;">2</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.113em; vertical-align: -0.25em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-33">T_1 \cdot T_2</script></span> = {dogfish, catfish, dog, cat}</p><p><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-34-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-399" style="width: 1.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.038em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.369em 1000em 2.5em -0.433em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-400"><span class="msubsup" id="MathJax-Span-401"><span style="display: inline-block; position: relative; width: 1.036em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.623em -0.433em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-402" style="font-family: STIXGeneral; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.579em;"><span class="mn" id="MathJax-Span-403" style="font-size: 70.7%; font-family: STIXGeneral;">1</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.113em; vertical-align: -0.25em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-34">T_1</script></span> = {dog, cat}<br><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-35-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-404" style="width: 1.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.038em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.369em 1000em 2.5em -0.433em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-405"><span class="msubsup" id="MathJax-Span-406"><span style="display: inline-block; position: relative; width: 1.036em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.623em -0.433em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-407" style="font-family: STIXGeneral; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.579em;"><span class="mn" id="MathJax-Span-408" style="font-size: 70.7%; font-family: STIXGeneral;">2</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.113em; vertical-align: -0.25em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-35">T_2</script></span> = {}<br><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-36-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-409" style="width: 3.483em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.842em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.642em 1000em 2.773em -0.433em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-410"><span class="msubsup" id="MathJax-Span-411"><span style="display: inline-block; position: relative; width: 1.036em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.623em -0.433em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-412" style="font-family: STIXGeneral; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.579em;"><span class="mn" id="MathJax-Span-413" style="font-size: 70.7%; font-family: STIXGeneral;">1</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-414" style="font-family: STIXGeneral; padding-left: 0.25em;">⋅</span><span class="msubsup" id="MathJax-Span-415" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 1.036em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.623em -0.433em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-416" style="font-family: STIXGeneral; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.579em;"><span class="mn" id="MathJax-Span-417" style="font-size: 70.7%; font-family: STIXGeneral;">2</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.113em; vertical-align: -0.25em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-36">T_1 \cdot T_2</script></span> = {}</p><h3 id="repetition"><a name="repetition" href="#repetition"></a>Repetition</h3><p>Formally Defined Recursively (Kleene closure):<br><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-37-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-418" style="width: 18.35em; display: inline-block;"><span style="display: inline-block; position: relative; width: 15.027em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.612em 1000em 2.829em -0.433em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-419"><span class="mi" id="MathJax-Span-420" style="font-family: STIXGeneral; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mo" id="MathJax-Span-421" style="font-family: STIXGeneral;">∗</span><span class="mo" id="MathJax-Span-422" style="font-family: STIXGeneral; padding-left: 0.313em;">=</span><span class="mo" id="MathJax-Span-423" style="font-family: STIXGeneral; padding-left: 0.313em;">{</span><span class="mi" id="MathJax-Span-424" style="font-family: STIXGeneral; font-style: italic;">ϵ</span><span class="mo" id="MathJax-Span-425" style="font-family: STIXGeneral;">}</span><span class="mo" id="MathJax-Span-426" style="font-family: STIXGeneral; padding-left: 0.25em;">∪</span><span class="mo" id="MathJax-Span-427" style="font-family: STIXGeneral; padding-left: 0.25em;">{</span><span class="mi" id="MathJax-Span-428" style="font-family: STIXGeneral; font-style: italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-429" style="font-family: STIXGeneral; font-style: italic;">y</span><span class="mtext" id="MathJax-Span-430" style="font-family: STIXGeneral;">&nbsp;</span><span class="texatom" id="MathJax-Span-431"><span class="mrow" id="MathJax-Span-432"><span class="mo" id="MathJax-Span-433" style="font-family: STIXGeneral;">|</span></span></span><span class="mtext" id="MathJax-Span-434" style="font-family: STIXGeneral;">&nbsp;</span><span class="mi" id="MathJax-Span-435" style="font-family: STIXGeneral; font-style: italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-436" style="font-family: STIXGeneral; padding-left: 0.313em;">∈</span><span class="mi" id="MathJax-Span-437" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.313em;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mo" id="MathJax-Span-438" style="font-family: STIXGeneral; padding-left: 0.25em;">∗</span><span class="mtext" id="MathJax-Span-439" style="font-family: STIXGeneral; padding-left: 0.25em;">&nbsp;</span><span class="mi" id="MathJax-Span-440" style="font-family: STIXGeneral; font-style: italic;">a</span><span class="mi" id="MathJax-Span-441" style="font-family: STIXGeneral; font-style: italic;">n</span><span class="mi" id="MathJax-Span-442" style="font-family: STIXGeneral; font-style: italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.027em;"></span></span><span class="mtext" id="MathJax-Span-443" style="font-family: STIXGeneral;">&nbsp;</span><span class="mi" id="MathJax-Span-444" style="font-family: STIXGeneral; font-style: italic;">y</span><span class="mo" id="MathJax-Span-445" style="font-family: STIXGeneral; padding-left: 0.313em;">∈</span><span class="mi" id="MathJax-Span-446" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.313em;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mo" id="MathJax-Span-447" style="font-family: STIXGeneral;">}</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.218em; vertical-align: -0.318em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-37">T* = \{\epsilon\} \cup \{xy\ |\ x \in T*\ and\ y \in T\}</script></span><br>Alternate Definition (Iterative):<br><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-38-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-448" style="width: 29.15em; display: inline-block;"><span style="display: inline-block; position: relative; width: 23.88em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.437em 1000em 2.829em -0.433em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-449"><span class="msubsup" id="MathJax-Span-450"><span style="display: inline-block; position: relative; width: 1.186em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.623em -0.433em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-451" style="font-family: STIXGeneral; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.62em; left: 0.729em;"><span class="mn" id="MathJax-Span-452" style="font-size: 70.7%; font-family: STIXGeneral;">0</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-453" style="font-family: STIXGeneral; padding-left: 0.313em;">=</span><span class="mo" id="MathJax-Span-454" style="font-family: STIXGeneral; padding-left: 0.313em;">{</span><span class="mi" id="MathJax-Span-455" style="font-family: STIXGeneral; font-style: italic;">ϵ</span><span class="mo" id="MathJax-Span-456" style="font-family: STIXGeneral;">}</span><span class="mo" id="MathJax-Span-457" style="font-family: STIXGeneral;">,</span><span class="mtext" id="MathJax-Span-458" style="font-family: STIXGeneral; padding-left: 0.188em;">&nbsp;</span><span class="msubsup" id="MathJax-Span-459"><span style="display: inline-block; position: relative; width: 1.186em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.623em -0.433em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-460" style="font-family: STIXGeneral; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.62em; left: 0.729em;"><span class="mn" id="MathJax-Span-461" style="font-size: 70.7%; font-family: STIXGeneral;">1</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-462" style="font-family: STIXGeneral; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-463" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.313em;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mo" id="MathJax-Span-464" style="font-family: STIXGeneral;">,</span><span class="mtext" id="MathJax-Span-465" style="font-family: STIXGeneral; padding-left: 0.188em;">&nbsp;</span><span class="msubsup" id="MathJax-Span-466"><span style="display: inline-block; position: relative; width: 1.186em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.623em -0.433em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-467" style="font-family: STIXGeneral; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.62em; left: 0.729em;"><span class="mn" id="MathJax-Span-468" style="font-size: 70.7%; font-family: STIXGeneral;">2</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-469" style="font-family: STIXGeneral; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-470" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.313em;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mo" id="MathJax-Span-471" style="font-family: STIXGeneral; padding-left: 0.25em;">⋅</span><span class="msubsup" id="MathJax-Span-472" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 1.186em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.623em -0.433em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-473" style="font-family: STIXGeneral; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.62em; left: 0.729em;"><span class="mn" id="MathJax-Span-474" style="font-size: 70.7%; font-family: STIXGeneral;">1</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-475" style="font-family: STIXGeneral; padding-left: 0.313em;">=</span><span class="mo" id="MathJax-Span-476" style="font-family: STIXGeneral; padding-left: 0.313em;">{</span><span class="mi" id="MathJax-Span-477" style="font-family: STIXGeneral; font-style: italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-478" style="font-family: STIXGeneral; font-style: italic;">y</span><span class="mtext" id="MathJax-Span-479" style="font-family: STIXGeneral;">&nbsp;</span><span class="texatom" id="MathJax-Span-480"><span class="mrow" id="MathJax-Span-481"><span class="mo" id="MathJax-Span-482" style="font-family: STIXGeneral;">|</span></span></span><span class="mtext" id="MathJax-Span-483" style="font-family: STIXGeneral;">&nbsp;</span><span class="mi" id="MathJax-Span-484" style="font-family: STIXGeneral; font-style: italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-485" style="font-family: STIXGeneral; padding-left: 0.313em;">∈</span><span class="mi" id="MathJax-Span-486" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.313em;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mi" id="MathJax-Span-487" style="font-family: STIXGeneral; font-style: italic;">a</span><span class="mi" id="MathJax-Span-488" style="font-family: STIXGeneral; font-style: italic;">n</span><span class="mi" id="MathJax-Span-489" style="font-family: STIXGeneral; font-style: italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.027em;"></span></span><span class="mtext" id="MathJax-Span-490" style="font-family: STIXGeneral;">&nbsp;</span><span class="mi" id="MathJax-Span-491" style="font-family: STIXGeneral; font-style: italic;">y</span><span class="mo" id="MathJax-Span-492" style="font-family: STIXGeneral; padding-left: 0.313em;">∈</span><span class="msubsup" id="MathJax-Span-493" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.186em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.623em -0.433em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-494" style="font-family: STIXGeneral; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.62em; left: 0.729em;"><span class="mn" id="MathJax-Span-495" style="font-size: 70.7%; font-family: STIXGeneral;">1</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-496" style="font-family: STIXGeneral;">}</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.431em; vertical-align: -0.318em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-38">T^0 = \{\epsilon\},\ T^1 = T,\ T^2 = T \cdot T^1 = \{xy\ |\ x \in T and\ y \in T^1\}</script></span><br>(In general): <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-39-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-497" style="width: 7.017em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.738em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.432em 1000em 2.623em -0.433em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-498"><span class="msubsup" id="MathJax-Span-499"><span style="display: inline-block; position: relative; width: 1.132em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.623em -0.433em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-500" style="font-family: STIXGeneral; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.62em; left: 0.729em;"><span class="mi" id="MathJax-Span-501" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.012em;"></span></span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-502" style="font-family: STIXGeneral; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-503" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.313em;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mo" id="MathJax-Span-504" style="font-family: STIXGeneral; padding-left: 0.25em;">⋅</span><span class="msubsup" id="MathJax-Span-505" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 2.006em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.623em -0.433em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-506" style="font-family: STIXGeneral; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.62em; left: 0.729em;"><span class="texatom" id="MathJax-Span-507"><span class="mrow" id="MathJax-Span-508"><span class="mi" id="MathJax-Span-509" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.012em;"></span></span><span class="mo" id="MathJax-Span-510" style="font-size: 70.7%; font-family: STIXGeneral;">−</span><span class="mn" id="MathJax-Span-511" style="font-size: 70.7%; font-family: STIXGeneral;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.186em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-39">T^k = T \cdot T^{k-1}</script></span></p><p>Examples:<br><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-40-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-512" style="width: 4.95em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.044em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.437em 1000em 2.623em -0.433em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-513"><span class="mi" id="MathJax-Span-514" style="font-family: STIXGeneral; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mo" id="MathJax-Span-515" style="font-family: STIXGeneral; padding-left: 0.313em;">=</span><span class="msubsup" id="MathJax-Span-516" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.186em; height: 0px;"><span style="position: absolute; clip: rect(1.642em 1000em 2.623em -0.433em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-517" style="font-family: STIXGeneral; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.62em; left: 0.729em;"><span class="mn" id="MathJax-Span-518" style="font-size: 70.7%; font-family: STIXGeneral;">1</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-519" style="font-family: STIXGeneral; padding-left: 0.313em;">=</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.18em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-40">T = T^1 = </script></span> {dog, cat}<br><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-41-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-520" style="width: 1.75em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.421em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.642em 1000em 2.623em -0.433em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-521"><span class="mi" id="MathJax-Span-522" style="font-family: STIXGeneral; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mo" id="MathJax-Span-523" style="font-family: STIXGeneral; padding-left: 0.25em;">∗</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.93em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-41">T*</script></span> = {<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-42-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-524" style="width: 0.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.492em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-525"><span class="mi" id="MathJax-Span-526" style="font-family: STIXGeneral; font-style: italic;">ϵ</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.685em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-42">\epsilon</script></span>, dog, cat, catdog, dogcat, dogdog, catcat, dogdogcat, …}</p><h2 id="dfas-(deterministic-finite-automata)"><a name="dfas-(deterministic-finite-automata)" href="#dfas-(deterministic-finite-automata)"></a>DFAs (Deterministic Finite Automata)</h2><p>Regular Languages can be recognized by <em>Finite Automota</em><br>We begin with <em>deterministic finite state automata (DFAs)</em></p><p>DFAs must have the following:</p><ul>
<li>States (at least one)<ul>
<li>Start State (ONLY 1)</li><li>Final State(s) (MUST HAVE MIN 1)<ul>
<li>after reading all input, if I am in a final state =&gt; accept</li></ul>
</li></ul>
</li><li>Transitions (optional - eg: no transitions with 1 state)<ul>
<li>if in <code>state A</code> AND read input <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-43-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-527" style="width: 2.883em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.35em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.633em 1000em 2.65em -0.519em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-528"><span class="mi" id="MathJax-Span-529" style="font-family: STIXGeneral; font-style: italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-530" style="font-family: STIXGeneral; padding-left: 0.313em;">∈</span><span class="mi" id="MathJax-Span-531" style="font-family: STIXGeneral; padding-left: 0.313em;">Σ</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.974em; vertical-align: -0.1em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-43">x \in \Sigma</script></span> =&gt; move to <code>state B</code></li></ul>
</li></ul><p><em>A DFA for some MIPS instruction</em><br><img src="dfa1.png" alt="dfa1.png"><br><em>A DFA for a label (i.e: starts with letter, then any numberletter or number)</em><br><img src="dfa2.png" alt="dfa2.png"><br><strong>Images courtesy of Stephen Melinyshyn</strong></p><h3 id="observations-about-dfas"><a name="observations-about-dfas" href="#observations-about-dfas"></a>Observations about DFAs</h3><ul>
<li>Ability to trace<ul>
<li>can draw a picture (only ever in one state)</li></ul>
</li><li>Transitions out of states are unique and deterministic</li><li>Errors -&gt; implicit error state (if input is not specified in a transition of a state, then that is an error)</li></ul><h2 id="formal-definition-of-dfas"><a name="formal-definition-of-dfas" href="#formal-definition-of-dfas"></a>Formal Definition of DFAs</h2><ul>
<li>A DFA is a 5-tuple <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-44-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-532" style="width: 7.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.792em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.619em 1000em 2.877em -0.444em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-533"><span class="mo" id="MathJax-Span-534" style="font-family: STIXGeneral;">(</span><span class="mi" id="MathJax-Span-535" style="font-family: STIXGeneral;">Σ</span><span class="mo" id="MathJax-Span-536" style="font-family: STIXGeneral;">,</span><span class="mi" id="MathJax-Span-537" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.188em;">Q</span><span class="mo" id="MathJax-Span-538" style="font-family: STIXGeneral;">,</span><span class="msubsup" id="MathJax-Span-539" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.004em; height: 0px;"><span style="position: absolute; clip: rect(1.854em 1000em 2.832em -0.467em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-540" style="font-family: STIXGeneral; font-style: italic;">q</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -1.996em; left: 0.546em;"><span class="mn" id="MathJax-Span-541" style="font-size: 70.7%; font-family: STIXGeneral;">0</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-542" style="font-family: STIXGeneral;">,</span><span class="mi" id="MathJax-Span-543" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.188em;">A</span><span class="mo" id="MathJax-Span-544" style="font-family: STIXGeneral;">,</span><span class="mi" id="MathJax-Span-545" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.188em;">δ</span><span class="mo" id="MathJax-Span-546" style="font-family: STIXGeneral;">)</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.268em; vertical-align: -0.377em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-44">(\Sigma, Q, q_0, A, \delta)</script></span><ul>
<li>Finite Alphabet <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-45-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-547" style="width: 0.817em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.656em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.633em 1000em 2.623em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-548"><span class="mi" id="MathJax-Span-549" style="font-family: STIXGeneral;">Σ</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.941em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-45">\Sigma</script></span></li><li>Finite set of States <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-46-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-550" style="width: 0.95em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.765em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.629em 1000em 2.805em -0.433em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-551"><span class="mi" id="MathJax-Span-552" style="font-family: STIXGeneral; font-style: italic;">Q</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.168em; vertical-align: -0.289em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-46">Q</script></span></li><li>Start State <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-47-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-553" style="width: 3.683em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.005em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.629em 1000em 2.877em -0.467em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-554"><span class="msubsup" id="MathJax-Span-555"><span style="display: inline-block; position: relative; width: 1.004em; height: 0px;"><span style="position: absolute; clip: rect(1.854em 1000em 2.832em -0.467em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-556" style="font-family: STIXGeneral; font-style: italic;">q</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -1.996em; left: 0.546em;"><span class="mn" id="MathJax-Span-557" style="font-size: 70.7%; font-family: STIXGeneral;">0</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-558" style="font-family: STIXGeneral; padding-left: 0.313em;">∈</span><span class="mi" id="MathJax-Span-559" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.313em;">Q</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.256em; vertical-align: -0.377em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-47">q_0 \in Q</script></span></li><li>Set of final/accepting states <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-48-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-560" style="width: 3.15em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.568em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.627em 1000em 2.805em -0.543em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-561"><span class="mi" id="MathJax-Span-562" style="font-family: STIXGeneral; font-style: italic;">A</span><span class="mo" id="MathJax-Span-563" style="font-family: STIXGeneral; padding-left: 0.313em;">⊆</span><span class="mi" id="MathJax-Span-564" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.313em;">Q</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.17em; vertical-align: -0.289em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-48">A \subseteq Q</script></span></li><li>Transition function <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-49-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-565" style="width: 7.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.792em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.627em 1000em 2.805em -0.468em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-566"><span class="mi" id="MathJax-Span-567" style="font-family: STIXGeneral; font-style: italic;">δ</span><span class="mo" id="MathJax-Span-568" style="font-family: STIXGeneral; padding-left: 0.313em;">:</span><span class="mi" id="MathJax-Span-569" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.313em;">Q</span><span class="mtext" id="MathJax-Span-570" style="font-family: STIXGeneral;">&nbsp;</span><span class="mi" id="MathJax-Span-571" style="font-family: STIXGeneral; font-style: italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mtext" id="MathJax-Span-572" style="font-family: STIXGeneral;">&nbsp;</span><span class="mi" id="MathJax-Span-573" style="font-family: STIXGeneral;">Σ</span><span class="mo" id="MathJax-Span-574" style="font-family: STIXGeneral; padding-left: 0.313em;">→</span><span class="mi" id="MathJax-Span-575" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.313em;">Q</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.17em; vertical-align: -0.289em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-49">\delta : Q\ x\ \Sigma \to Q</script></span></li></ul>
</li></ul><h2 id="dfa-interpreter-algorithm"><a name="dfa-interpreter-algorithm" href="#dfa-interpreter-algorithm"></a>DFA Interpreter Algorithm</h2><p>Input: A word <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-50-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-576" style="width: 8.15em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.667em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.779em -0.477em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-577"><span class="mi" id="MathJax-Span-578" style="font-family: STIXGeneral; font-style: italic;">w</span><span class="mo" id="MathJax-Span-579" style="font-family: STIXGeneral; padding-left: 0.313em;">=</span><span class="msubsup" id="MathJax-Span-580" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.168em; height: 0px;"><span style="position: absolute; clip: rect(1.854em 1000em 2.641em -0.477em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-581" style="font-family: STIXGeneral; font-style: italic;">w</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.71em;"><span class="mn" id="MathJax-Span-582" style="font-size: 70.7%; font-family: STIXGeneral;">1</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-583"><span style="display: inline-block; position: relative; width: 1.168em; height: 0px;"><span style="position: absolute; clip: rect(1.854em 1000em 2.641em -0.477em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-584" style="font-family: STIXGeneral; font-style: italic;">w</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.71em;"><span class="mn" id="MathJax-Span-585" style="font-size: 70.7%; font-family: STIXGeneral;">2</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-586" style="font-family: STIXGeneral;">.</span><span class="mo" id="MathJax-Span-587" style="font-family: STIXGeneral; padding-left: 0.188em;">.</span><span class="mo" id="MathJax-Span-588" style="font-family: STIXGeneral; padding-left: 0.188em;">.</span><span class="msubsup" id="MathJax-Span-589" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.168em; height: 0px;"><span style="position: absolute; clip: rect(1.854em 1000em 2.641em -0.477em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-590" style="font-family: STIXGeneral; font-style: italic;">w</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.71em;"><span class="mi" id="MathJax-Span-591" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">n</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.862em; vertical-align: -0.257em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-50">w = w_1w_2...w_n</script></span> where each <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-51-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-592" style="width: 3.55em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.896em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.633em 1000em 2.781em -0.477em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-593"><span class="msubsup" id="MathJax-Span-594"><span style="display: inline-block; position: relative; width: 1.004em; height: 0px;"><span style="position: absolute; clip: rect(1.854em 1000em 2.641em -0.477em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-595" style="font-family: STIXGeneral; font-style: italic;">w</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.71em;"><span class="mi" id="MathJax-Span-596" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-597" style="font-family: STIXGeneral; padding-left: 0.313em;">∈</span><span class="mi" id="MathJax-Span-598" style="font-family: STIXGeneral; padding-left: 0.313em;">Σ</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.133em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-51">w_i \in \Sigma</script></span><br>Output: <code>true</code> if accepter, <code>false</code> if rejected</p><pre><code data-origin="<pre><code>state = q0
for i in 1..n:
    state = delta(state, wi)
return (state in A)
</code></pre>">state = q0
for i in 1..n:
    state = delta(state, wi)
return (state in A)
</code></pre><h2 id="implementing-dfas"><a name="implementing-dfas" href="#implementing-dfas"></a>Implementing DFAs</h2><p>We need to implement the transition function somehow… but how?</p><p>Option 1: <code>if</code> statements?</p><pre><code data-origin="<pre><code>if state == state1:
    if input == a: ...
    else if input == b: ...
    ...
else if state == state2:
    if input == a: ...
    ...
...
</code></pre>">if state == state1:
    if input == a: ...
    else if input == b: ...
    ...
else if state == state2:
    if input == a: ...
    ...
...
</code></pre><p><strong>NO. THIS IS A TERRIBLE IDEA.</strong></p><p>Option 2: <strong>Dictionary</strong>: key = (state, input), value = state</p><h2 id="where-are-dfas-used?"><a name="where-are-dfas-used?" href="#where-are-dfas-used?"></a>Where are DFAs used?</h2><ul>
<li>Every computer ever<ul>
<li>a CPU is essentially just a DFA</li></ul>
</li></ul><h1 id="lecture-10"><a name="lecture-10" href="#lecture-10"></a>Lecture 10</h1><h2 id="non-deterministic-finite-automa-(nfas)"><a name="non-deterministic-finite-automa-(nfas)" href="#non-deterministic-finite-automa-(nfas)"></a>Non-deterministic Finite Automa (NFAs)</h2><p>L = {bba, baa, bbaa, bbbaa, bbbbbaa, …} (wich is either 2 b’s followed by an a, or 1 or mote b’s bollowed by 2 a’s)</p><p>If we try to derive this using a DFA, it is pretty unweildy, and grows pretty large. Moreover, it is hard to see what the DFA recognises at a glance… TL;DR: It works, but it’s ugly.</p><p>On the other hand, if we do this with an NFA, it becomes a lot clearer.</p><p><img src="nfa.png" alt="nfa.png"></p><p>NFAs can be in <strong>2 different states at the same time!</strong><br>NFAs allow <em>multiple transitions out of one state on the same input</em></p><h2 id="nfa-definition"><a name="nfa-definition" href="#nfa-definition"></a>NFA Definition</h2><p>It’s the same as DFA with the following change: <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-52-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-599" style="width: 7.817em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.393em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.421em 1000em 2.805em -0.433em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-600"><span class="mi" id="MathJax-Span-601" style="font-family: STIXGeneral; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mo" id="MathJax-Span-602" style="font-family: STIXGeneral; padding-left: 0.313em;">:</span><span class="mi" id="MathJax-Span-603" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.313em;">Q</span><span class="mtext" id="MathJax-Span-604" style="font-family: STIXGeneral;">&nbsp;</span><span class="mi" id="MathJax-Span-605" style="font-family: STIXGeneral; font-style: italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mtext" id="MathJax-Span-606" style="font-family: STIXGeneral;">&nbsp;</span><span class="mi" id="MathJax-Span-607" style="font-family: STIXGeneral;">Σ</span><span class="mo" id="MathJax-Span-608" style="font-family: STIXGeneral; padding-left: 0.313em;">→</span><span class="msubsup" id="MathJax-Span-609" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.168em; height: 0px;"><span style="position: absolute; clip: rect(1.619em 1000em 2.623em -0.463em); top: -2.459em; left: 0em;"><span class="mn" id="MathJax-Span-610" style="font-family: STIXGeneral;">2</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.643em; left: 0.546em;"><span class="mi" id="MathJax-Span-611" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">Q</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.422em; vertical-align: -0.289em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-52">T:Q\ x\ \Sigma \rightarrow 2^Q</script></span><br>In english: We can be in a Set of States, and this T is a <em>relation</em> instead of a function</p><p>2<sup>q</sup> is the <strong>Powerset</strong> of Q</p><p>if Q = {a,b,c} then 2<sup>q</sup> = { {},{a},{b},{c},{ab},{ac},{bc},{abc} }</p><p>Note: |2<sup>Q</sup>| = 2<sup>|Q|</sup></p><h2 id="nfa-interpreter"><a name="nfa-interpreter" href="#nfa-interpreter"></a>NFA interpreter</h2><p>Input: a Word <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-53-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-612" style="width: 8.15em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.667em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.779em -0.477em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-613"><span class="mi" id="MathJax-Span-614" style="font-family: STIXGeneral; font-style: italic;">w</span><span class="mo" id="MathJax-Span-615" style="font-family: STIXGeneral; padding-left: 0.313em;">=</span><span class="msubsup" id="MathJax-Span-616" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.168em; height: 0px;"><span style="position: absolute; clip: rect(1.854em 1000em 2.641em -0.477em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-617" style="font-family: STIXGeneral; font-style: italic;">w</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.71em;"><span class="mn" id="MathJax-Span-618" style="font-size: 70.7%; font-family: STIXGeneral;">1</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-619"><span style="display: inline-block; position: relative; width: 1.168em; height: 0px;"><span style="position: absolute; clip: rect(1.854em 1000em 2.641em -0.477em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-620" style="font-family: STIXGeneral; font-style: italic;">w</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.71em;"><span class="mn" id="MathJax-Span-621" style="font-size: 70.7%; font-family: STIXGeneral;">2</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-622" style="font-family: STIXGeneral;">.</span><span class="mo" id="MathJax-Span-623" style="font-family: STIXGeneral; padding-left: 0.188em;">.</span><span class="mo" id="MathJax-Span-624" style="font-family: STIXGeneral; padding-left: 0.188em;">.</span><span class="msubsup" id="MathJax-Span-625" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.168em; height: 0px;"><span style="position: absolute; clip: rect(1.854em 1000em 2.641em -0.477em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-626" style="font-family: STIXGeneral; font-style: italic;">w</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.71em;"><span class="mi" id="MathJax-Span-627" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">n</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.862em; vertical-align: -0.257em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-53">w = w_1w_2...w_n</script></span><br>Output: <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-54-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-628" style="width: 2.483em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.022em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.642em 1000em 2.634em -0.433em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-629"><span class="mi" id="MathJax-Span-630" style="font-family: STIXGeneral; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mi" id="MathJax-Span-631" style="font-family: STIXGeneral; font-style: italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span class="mi" id="MathJax-Span-632" style="font-family: STIXGeneral; font-style: italic;">u</span><span class="mi" id="MathJax-Span-633" style="font-family: STIXGeneral; font-style: italic;">e</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.943em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-54">True</script></span> if accepted, <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-55-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-634" style="width: 2.817em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.295em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.612em 1000em 2.636em -0.484em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-635"><span class="mi" id="MathJax-Span-636" style="font-family: STIXGeneral; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.034em;"></span></span><span class="mi" id="MathJax-Span-637" style="font-family: STIXGeneral; font-style: italic;">a</span><span class="mi" id="MathJax-Span-638" style="font-family: STIXGeneral; font-style: italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span><span class="mi" id="MathJax-Span-639" style="font-family: STIXGeneral; font-style: italic;">s</span><span class="mi" id="MathJax-Span-640" style="font-family: STIXGeneral; font-style: italic;">e</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.982em; vertical-align: -0.083em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-55">False</script></span> if rejected</p><p>Pseudocode:</p><pre><code data-origin="<pre><code>states = {q_0}
for i in 1..n:
    states' = {s' | s' in T(s,w_i) for all s in states}
    states = states'
return (states) instersected with (Accepted States) =/= {}
</code></pre>">states = {q_0}
for i in 1..n:
    states' = {s' | s' in T(s,w_i) for all s in states}
    states = states'
return (states) instersected with (Accepted States) =/= {}
</code></pre><p>Essentially, we have to track an array of possible states we are in. That’s all.</p><h2 id="implementing-an-nfa-interpreter"><a name="implementing-an-nfa-interpreter" href="#implementing-an-nfa-interpreter"></a>Implementing an NFA interpreter</h2><p>With C++, we are lucky enough that STL provides us with methods like:<br>- Intersection<br>- Union<br>- Membership<br>- Iteration</p><p>BUT these are NOT constant time operations.</p><p>Luckilly, we can improve preformance by using a <strong>Bit Vector</strong><br>i.e: Say we have 8 states, and we have a byte like <code>10101100</code>, that means we are currently in sates 3,4,6,8</p><p>Using bit vectors lets us use bytewise operations to do intersection, union, etc… but we have to deal with bitshifting :D</p><h2 id="differences-b/w-nfas-and-dfas"><a name="differences-b/w-nfas-and-dfas" href="#differences-b/w-nfas-and-dfas"></a>Differences b/w NFAs and DFAs</h2><p>NFAs can be smaller than DFAs for the same language<br>NFAs can be in multiple states at the same time<br>DFAs are easier to implement due to one variable (the current variable)</p><p>NOTE: <strong>The two are equivalent in the languages they recognize.</strong><br>i.e: you can always write a DFA from an NFA <strong>and you will have to on the midterm</strong><br>Also, all DFAs are valid NFAs.</p><h2 id="killer-app-for-finite-automa"><a name="killer-app-for-finite-automa" href="#killer-app-for-finite-automa"></a>Killer app for Finite Automa</h2><p>Scanner = tokenization, and indeed, if you look at the source code given for the asm assignment, you can see an implementation of a tokenizer thant uses DFAs.</p><h2 id="$\epsilon$-nfas"><a name="$\epsilon$-nfas" href="#$\epsilon$-nfas"></a><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-56-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-641" style="width: 0.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.492em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-642"><span class="mi" id="MathJax-Span-643" style="font-family: STIXGeneral; font-style: italic;">ϵ</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.685em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-56">\epsilon</script></span>-NFAs</h2><p>Allow transitions between states on “no input”<br>Can be used as “glue” for joining machines together</p><p>Example: L = {card, cab, calf}</p><p><img src="epsNFA.png" alt="epsNFA.png"></p><h2 id="converting-$\epsilon$-nfas-to-nfas"><a name="converting-$\epsilon$-nfas-to-nfas" href="#converting-$\epsilon$-nfas-to-nfas"></a>Converting <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-57-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-644" style="width: 0.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.492em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-645"><span class="mi" id="MathJax-Span-646" style="font-family: STIXGeneral; font-style: italic;">ϵ</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.685em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-57">\epsilon</script></span>-NFAs to NFAs</h2><p>Converting a <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-58-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-647" style="width: 0.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.492em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-648"><span class="mi" id="MathJax-Span-649" style="font-family: STIXGeneral; font-style: italic;">ϵ</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.685em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-58">\epsilon</script></span>-NFA to a NFA is always possible.<br>There are a few ways to do this:<br>1) take shortcuts: <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-59-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-650" style="width: 9.017em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.377em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.617em 1000em 2.83em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-651"><span class="mi" id="MathJax-Span-652" style="font-family: STIXGeneral; font-style: italic;">ϵ</span><span class="mi" id="MathJax-Span-653" style="font-family: STIXGeneral; font-style: italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.044em;"></span></span><span class="mo" id="MathJax-Span-654" style="font-family: STIXGeneral; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-655" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.313em;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.044em;"></span></span><span class="mtext" id="MathJax-Span-656" style="font-family: STIXGeneral;">&nbsp;</span><span class="mi" id="MathJax-Span-657" style="font-family: STIXGeneral; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span><span class="mi" id="MathJax-Span-658" style="font-family: STIXGeneral; font-style: italic;">o</span><span class="mi" id="MathJax-Span-659" style="font-family: STIXGeneral; font-style: italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span class="mtext" id="MathJax-Span-660" style="font-family: STIXGeneral;">&nbsp;</span><span class="mi" id="MathJax-Span-661" style="font-family: STIXGeneral; font-style: italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.044em;"></span></span><span class="mo" id="MathJax-Span-662" style="font-family: STIXGeneral; padding-left: 0.313em;">∈</span><span class="mi" id="MathJax-Span-663" style="font-family: STIXGeneral; padding-left: 0.313em;">Σ</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.213em; vertical-align: -0.319em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-59">\epsilon X = X\ for\ X \in \Sigma</script></span><br>2) Pull back accepting states<br>3) Remove <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-60-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-664" style="width: 0.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.492em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-665"><span class="mi" id="MathJax-Span-666" style="font-family: STIXGeneral; font-style: italic;">ϵ</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.685em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-60">\epsilon</script></span>-transitions<br>4) Remove dead states (states that we can never get to)</p><h1 id="regular-expressions"><a name="regular-expressions" href="#regular-expressions"></a>Regular Expressions</h1><h2 id="definition"><a name="definition" href="#definition"></a>Definition</h2><p>Defined recursively: a Regular Expression (RE) is:</p><ul>
<li><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-61-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-667" style="width: 0.683em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.546em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.566em 1000em 2.697em -0.464em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-668"><span class="mi" id="MathJax-Span-669" style="font-family: STIXVariants;">∅</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.113em; vertical-align: -0.157em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-61">\emptyset</script></span>, or</li><li><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-62-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-670" style="width: 0.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.492em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-671"><span class="mi" id="MathJax-Span-672" style="font-family: STIXGeneral; font-style: italic;">ϵ</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.685em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-62">\epsilon</script></span>, or</li><li><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-63-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-673" style="width: 0.683em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.546em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.475em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-674"><span class="mi" id="MathJax-Span-675" style="font-family: STIXGeneral; font-style: italic;">a</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.685em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-63">a </script></span> where <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-64-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-676" style="width: 2.95em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.404em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.633em 1000em 2.65em -0.475em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-677"><span class="mi" id="MathJax-Span-678" style="font-family: STIXGeneral; font-style: italic;">a</span><span class="mo" id="MathJax-Span-679" style="font-family: STIXGeneral; padding-left: 0.313em;">∈</span><span class="mi" id="MathJax-Span-680" style="font-family: STIXGeneral; padding-left: 0.313em;">Σ</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.974em; vertical-align: -0.1em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-64">a \in \Sigma</script></span>, or</li><li>E<sub>1</sub>E<sub>2</sub> where both are REs, or (concatenation)</li><li>E<sub>1</sub>|E<sub>2</sub> where both are REs, or (Alternation / Union)</li><li>E* where E is a RE (Repetition)</li></ul><p>And there is an Order of Precendence for the last 3:<br>1) Repetition<br>2) Concatenation<br>3) Alternation</p><h2 id="re-examples"><a name="re-examples" href="#re-examples"></a>RE examples</h2><p>L = {cab,car,card}, <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-65-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-681" style="width: 0.817em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.656em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.633em 1000em 2.623em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-682"><span class="mi" id="MathJax-Span-683" style="font-family: STIXGeneral;">Σ</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.941em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-65">\Sigma</script></span>= {a,b,c,…z}<br>We can make a Regex for this langauge in different ways:<br>— cab|car|card <strong>or</strong><br>— ca(b|r(d|<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-66-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-684" style="width: 0.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.492em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-685"><span class="mi" id="MathJax-Span-686" style="font-family: STIXGeneral; font-style: italic;">ϵ</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.685em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-66">\epsilon</script></span>))</p><p>L = {w | w contains an even number of a’s}, <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-67-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-687" style="width: 0.817em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.656em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.633em 1000em 2.623em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-688"><span class="mi" id="MathJax-Span-689" style="font-family: STIXGeneral;">Σ</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.941em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-67">\Sigma</script></span>= {a}<br>— (aa)*</p><p>L = {w | w contains an even number of a’s}, <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-68-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-690" style="width: 0.817em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.656em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.633em 1000em 2.623em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-691"><span class="mi" id="MathJax-Span-692" style="font-family: STIXGeneral;">Σ</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.941em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-68">\Sigma</script></span>= {a,b}<br>— b*(ab*ab*)*</p><h2 id="unix-shorthands-and-extensions"><a name="unix-shorthands-and-extensions" href="#unix-shorthands-and-extensions"></a>Unix Shorthands and Extensions</h2><p>Most Regex “engines” accept the following shorthands as valid syntax:<br>- <code>[a-z]</code> translates to a|b|c|…|z (the english alphabet)<br>- <code>E+</code> translates to <code>EE*</code> (1 or more)<br>- <code>E?</code> translates to <code>(E|epsilon)</code> (zero or one)<br>There are plenty more!</p><h1 id="lecture-11"><a name="lecture-11" href="#lecture-11"></a>Lecture 11</h1><h2 id="re-to-$\epsilon$-nfa"><a name="re-to-$\epsilon$-nfa" href="#re-to-$\epsilon$-nfa"></a>RE to <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-69-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-693" style="width: 0.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.492em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-694"><span class="mi" id="MathJax-Span-695" style="font-family: STIXGeneral; font-style: italic;">ϵ</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.685em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-69">\epsilon</script></span>-NFA</h2><p>We convert REs to <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-70-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-696" style="width: 0.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.492em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-697"><span class="mi" id="MathJax-Span-698" style="font-family: STIXGeneral; font-style: italic;">ϵ</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.685em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-70">\epsilon</script></span>-NFAs piece by piece.</p><p>To <strong>concatenate</strong> E<sub>1</sub> and E<sub>2</sub> (making  E<sub>1</sub>E<sub>2</sub>):<br>1) Add epsilon transitions b/w the end states of E<sub>1</sub> and the start state of E<sub>2</sub><br>2) Make the end states of E<sub>1</sub> into regular states (we don’t want to accepts just E<sub>1</sub> valid things anymore)</p><p><img src="REtoNFA_concatenation.png" alt="REtoNFA_concatenation.png"></p><p>To make an <strong>alternation</strong> between E<sub>1</sub> and E<sub>2</sub> (making  E<sub>1</sub>|E<sub>2</sub>):<br>1) Add a external start state that has an epsilon transition to both start-states of E<sub>1</sub> and E<sub>2</sub></p><p><img src="REtoNFA_or.png" alt="REtoNFA_or.png"></p><p>To make a <strong>repetition</strong> from E<sub>1</sub> (making E<sub>1</sub>*):<br>1) Add epsilon transitions b/w the end states back to the start state.<br>2) Make the start state an acceptance condition (to allow for no input)</p><p><img src="REtoNFA_repetition.png" alt="REtoNFA_repetition.png"></p><p>We can take these <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-71-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-699" style="width: 0.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.492em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-700"><span class="mi" id="MathJax-Span-701" style="font-family: STIXGeneral; font-style: italic;">ϵ</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.685em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-71">\epsilon</script></span>-NFAs and convert them to regular old NFAs using the same methods as before.</p><h2 id="regular-languages"><a name="regular-languages" href="#regular-languages"></a>Regular Languages</h2><p>A Regular Language is a language which is either:<br>- specified by a Regular Expression<br>- recognized by an <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-72-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-702" style="width: 0.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.492em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-703"><span class="mi" id="MathJax-Span-704" style="font-family: STIXGeneral; font-style: italic;">ϵ</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.685em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-72">\epsilon</script></span>-NFA<br>- recognized by an NFA<br>- recognized by a DFA<br><em>Note: all of the above can be converted to any other one</em></p><h2 id="practical-application-of-dfas"><a name="practical-application-of-dfas" href="#practical-application-of-dfas"></a>Practical Application of DFAs</h2><p>Most real-world examples do not care about recognizers (DNA match may be an exception)</p><p>Mostly, DFAs are used for:<br>- transforming / transducing input<br>- searching in text (the most common use of Regex)<br>- scanning / translating</p><h2 id="transducers"><a name="transducers" href="#transducers"></a>Transducers</h2><p>A transducer is a DFA with output, that is, transitionslook like <strong>input/output</strong> vs just <strong>input</strong></p><p><em>Example 1:</em><br>Removing stutters from <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-73-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-705" style="width: 0.817em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.656em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.633em 1000em 2.623em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-706"><span class="mi" id="MathJax-Span-707" style="font-family: STIXGeneral;">Σ</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.941em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-73">\Sigma</script></span> = {a,b}<br>So, <code>aaabbaa -&gt; aba</code>, or <code>baabbbb -&gt; bab</code></p><p><img src="transucer.png" alt="transucer.png"></p><p>Recall that there can be 2 types of Transducers: Moore Machines and Mealy Machines.<br>Moore machines output on leaving a state, Mealy machines output on transition</p><p><em>Notice how this is very similar to ECE-124…</em></p><h2 id="the-scanning-problem"><a name="the-scanning-problem" href="#the-scanning-problem"></a>The Scanning Problem</h2><p>Sometimes, it is easy to translate an input into an output:<br><strong>Input</strong>: <code>add $1, $2, $3</code><br><strong>Output</strong>: <code>&lt;ADD&gt;&lt;REGISTER&gt;&lt;COMMA&gt;&lt;REGISTER&gt;&lt;COMMA&gt;&lt;REGISTER&gt;</code></p><p>But what if we get something like this?<br><strong>Input</strong>: <code>0x1234abcd</code><br>The output can be (theoretically be) both:<br><strong>Out1</strong>: <code>&lt;HEXINT&gt;</code><br><strong>Out2</strong>: <code>&lt;INT&gt;&lt;ID&gt;&lt;INT&gt;&lt;ID&gt;</code></p><p>How to we ensure we only get option 1?</p><p>Well, we use the following algorithm.</p><h2 id="simplified-maximal-munch"><a name="simplified-maximal-munch" href="#simplified-maximal-munch"></a>Simplified Maximal Munch</h2><p>Input is a word c<sub>1</sub>c<sub>2</sub>…c<sub>k</sub><br><code>i</code> is the index of the current character</p><pre><code data-origin="<pre><code>i = 0
state = START
loop
    newstate = ERROR
    if i &amp;lt; k:
        newstate = transition(state, c[i])
        if newstate == ERROR:
            if state is not a final state:
                report error and exit
            if state is not WHITESPACE:
                output appropriate token
            state = START
            if i &amp;lt;= k:
                exit
    else:
        state = newstate
        i = i + 1
</code></pre>">i = 0
state = START
loop
    newstate = ERROR
    if i &lt; k:
        newstate = transition(state, c[i])
        if newstate == ERROR:
            if state is not a final state:
                report error and exit
            if state is not WHITESPACE:
                output appropriate token
            state = START
            if i &lt;= k:
                exit
    else:
        state = newstate
        i = i + 1
</code></pre><p>TL;DR: consume as much of the string in the current state as possible.</p><h3 id="midterm-material-ends-here"><a name="midterm-material-ends-here" href="#midterm-material-ends-here"></a>MIDTERM MATERIAL ENDS HERE</h3><hr class="section"><h1 id="context-free-languages"><a name="context-free-languages" href="#context-free-languages"></a>Context Free Languages</h1><h2 id="big-picture-of-compilation"><a name="big-picture-of-compilation" href="#big-picture-of-compilation"></a>Big picture of Compilation</h2><p>There are 4 steps to compiling code:</p><p>1) Lexical Analysis<br>2) Syntactic Analysis<br>3) Context-sensitive (semantic) analysis<br>4) Synthesis (code generation)</p><p>Other points:<br>- Staging can improve error messages, (staging means using the “right tool for the job”)<br>- Doing extra work at an early stage is possible, but may be over complicating.<br>- Basically, have seperate programs in a pipeline:<br>Input -&gt; SCAN makes tokens -&gt; PARSE makes parse tree -&gt; CODEGEN makes MIPS code</p><h2 id="non-regular-languages"><a name="non-regular-languages" href="#non-regular-languages"></a>Non-Regular Languages</h2><p>What if we wanted to make a DFA over <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-74-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-708" style="width: 0.817em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.656em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.633em 1000em 2.623em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-709"><span class="mi" id="MathJax-Span-710" style="font-family: STIXGeneral;">Σ</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.941em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-74">\Sigma</script></span> = {a,b} for L = {w | number of a’s in w == number of b’s in w}<br><em>It’s impossible! It’s infinite! No Deterministic <strong>Finite</strong> Automota can be <strong>Infinite</strong>!</em></p><h2 id="context-free-langauges"><a name="context-free-langauges" href="#context-free-langauges"></a>Context-Free Langauges</h2><p>In this case, L is not a regular language, it is <strong>context-free!</strong></p><p>These langauges are important to compilers for doing things like <em>matching brackets</em>, where we need to know that there is the same ammount of 2 different chars.</p><p>Context-Free Languages are built from:</p><ul>
<li>Finite sets</li><li>Concatenation</li><li>Union</li><li>Recursion (strictly more powerful than repetition)</li></ul><p>Recognizers for regular langauges use a strictly finite ammount of memory<br>All it has to do is Remember the current state, and have a list of all the states with transitions.</p><p>Recognizers for context-free langauages use a finite ammount of memory AND one (unbounded) stack<br>(DFA + Stack &lt;=&gt; Parser)</p><h2 id="context-free-grammars"><a name="context-free-grammars" href="#context-free-grammars"></a>Context-Free Grammars</h2><p>Grammars are a way to specify Context-Free langauges.</p><p>So, for example, here is a CFG: (S is start state)</p><pre><code data-origin="<pre><code>1. S -&amp;gt; aSb
2. S -&amp;gt; D
3. D -&amp;gt; cD
4. D -&amp;gt; epsilon
</code></pre>">1. S -&gt; aSb
2. S -&gt; D
3. D -&gt; cD
4. D -&gt; epsilon
</code></pre><p>These are called <strong>production rules</strong>, and together they make a specific grammar <strong>G</strong>.</p><p>One such word that arises from these rules is <code>accb</code></p><p><code>S</code> =1=&gt; <code>aSb</code> =2=&gt; <code>aDb</code> =3=&gt; <code>acDb</code> =3=&gt; <code>accDb</code> =4=&gt; <code>accb</code></p><h2 id="terminology"><a name="terminology" href="#terminology"></a>Terminology</h2><p>G = A context-free grammar (CFG)<br>L(G) = Set of words specified by G (i.e: the langauge specified by G)</p><p>a word = Sequence of tokesn that can be derived by G<br>a derivation = Sequence of rewriting steps from G (informally)<br>alternation = <code>S -&gt; aSb</code> or <code>S -&gt; D</code><br>concatenation = <code>aSb</code><br>recursion vs repetition = <code>S -&gt; aSb</code></p><h2 id="formal-definition"><a name="formal-definition" href="#formal-definition"></a>Formal Definition</h2><p>A context-free grammar (CFG) consists of:</p><ul>
<li>N - A finite set of non-terminals (“not ending”)</li><li>T - A finite set of terminals (“ending”)</li><li>P - A finite set of production rules (rewriting rules) of the form <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-75-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-711" style="width: 3.217em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.623em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.617em 1000em 2.828em -0.543em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-712"><span class="mi" id="MathJax-Span-713" style="font-family: STIXGeneral; font-style: italic;">A</span><span class="mo" id="MathJax-Span-714" style="font-family: STIXGeneral; padding-left: 0.313em;">→</span><span class="mi" id="MathJax-Span-715" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.313em;">β<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.211em; vertical-align: -0.317em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-75">A \rightarrow \beta </script></span> where <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-76-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-716" style="width: 3.15em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.568em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.627em 1000em 2.65em -0.543em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-717"><span class="mi" id="MathJax-Span-718" style="font-family: STIXGeneral; font-style: italic;">A</span><span class="mo" id="MathJax-Span-719" style="font-family: STIXGeneral; padding-left: 0.313em;">∈</span><span class="mi" id="MathJax-Span-720" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.313em;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.981em; vertical-align: -0.1em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-76">A \in N</script></span>, <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-77-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-721" style="width: 5.95em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.863em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.617em 1000em 2.828em -0.532em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-722"><span class="mi" id="MathJax-Span-723" style="font-family: STIXGeneral; font-style: italic;">β<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span><span class="mo" id="MathJax-Span-724" style="font-family: STIXGeneral; padding-left: 0.313em;">∈</span><span class="mo" id="MathJax-Span-725" style="font-family: STIXGeneral; padding-left: 0.313em;">(</span><span class="mi" id="MathJax-Span-726" style="font-family: STIXGeneral; font-style: italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span class="mo" id="MathJax-Span-727" style="font-family: STIXGeneral; padding-left: 0.25em;">∪</span><span class="mi" id="MathJax-Span-728" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.25em;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mo" id="MathJax-Span-729" style="font-family: STIXGeneral;">)</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.211em; vertical-align: -0.317em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-77">\beta \in (N \cup T)</script></span>*</li><li>S - A start symbol, <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-78-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-730" style="width: 3.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.514em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.628em 1000em 2.65em -0.475em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-731"><span class="mi" id="MathJax-Span-732" style="font-family: STIXGeneral; font-style: italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span><span class="mo" id="MathJax-Span-733" style="font-family: STIXGeneral; padding-left: 0.313em;">∈</span><span class="mi" id="MathJax-Span-734" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.313em;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.98em; vertical-align: -0.1em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-78">S \in N</script></span> (by definition, it is always at the lefthand side of the first rule)</li></ul><p>So, from the example:</p><ul>
<li>N = {S, D}</li><li>T = {a, b, c} (not <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-79-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-735" style="width: 0.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.492em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-736"><span class="mi" id="MathJax-Span-737" style="font-family: STIXGeneral; font-style: italic;">ϵ</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.685em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-79">\epsilon</script></span> though)</li><li>P = {the 4 rules}</li><li>S = S (can be called anything though)</li></ul><h1 id="lecture-12"><a name="lecture-12" href="#lecture-12"></a>Lecture 12</h1><h2 id="example---balanced-parentheses"><a name="example---balanced-parentheses" href="#example---balanced-parentheses"></a>Example - Balanced Parentheses</h2><p>Example Words: <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-80-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-738" style="width: 0.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.492em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-739"><span class="mi" id="MathJax-Span-740" style="font-family: STIXGeneral; font-style: italic;">ϵ</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.685em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-80">\epsilon</script></span>, <code>()</code>, <code>(())</code>, <code>()()</code>, …</p><p>CFG:</p><pre><code data-origin="<pre><code>1. B -&amp;gt; (B)
2. B -&amp;gt; BB
3. B -&amp;gt; epsilon
</code></pre>">1. B -&gt; (B)
2. B -&gt; BB
3. B -&gt; epsilon
</code></pre><p>Sample Derivation of <code>(()())</code>:</p><p><code>B</code><br>=1=&gt; <code>(B)</code><br>=2=&gt; <code>(BB)</code><br>=1=&gt; <code>((B)B)</code><br>=3=&gt; <code>(()B)</code><br>=1=&gt; <code>(()(B))</code><br>=3=&gt; <code>(()())</code></p><h2 id="example---binary-expressions-g~1~"><a name="example---binary-expressions-g~1~" href="#example---binary-expressions-g~1~"></a>Example - Binary Expressions G<sub>1</sub></h2><p>Words are composed of binary numbers (no leading zeros, other than 0) with + or - signs in infix notation</p><p>Example words: <code>1001</code>, <code>10+1</code>, <code>11-11110+0</code>, …</p><p>CFG:</p><pre><code data-origin="<pre><code>let E = expression
let B = binary number
let D = non-zero binary number

1. E -&amp;gt; E + E
2. E -&amp;gt; E - E
3. E -&amp;gt; B
4. B -&amp;gt; 0
5. B -&amp;gt; D
6. D -&amp;gt; 1
7. D -&amp;gt; D0
8. D -&amp;gt; D1
</code></pre>">let E = expression
let B = binary number
let D = non-zero binary number

1. E -&gt; E + E
2. E -&gt; E - E
3. E -&gt; B
4. B -&gt; 0
5. B -&gt; D
6. D -&gt; 1
7. D -&gt; D0
8. D -&gt; D1
</code></pre><p>Sample Derivation of <code>10 + 1</code></p><p><code>E</code><br>=1=&gt; <code>E + E</code><br>=3=&gt; <code>B + E</code><br>=5=&gt; <code>D + E</code><br>=7=&gt; <code>D0 + E</code><br>=6=&gt; <code>10 + E</code><br>=3=&gt; <code>10 + B</code><br>=5=&gt; <code>10 + D</code><br>=6=&gt; <code>10 + 1</code></p><p>This is called a Leftmost Derivation, since we always operate on the leftmost symbol. Rightmost is the opposite.</p><h2 id="formal-definitions"><a name="formal-definitions" href="#formal-definitions"></a>Formal Definitions</h2><p>We say that <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-81-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-741" style="width: 2.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.694em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.617em 1000em 2.828em -0.465em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-742"><span class="mi" id="MathJax-Span-743" style="font-family: STIXGeneral; font-style: italic;">α</span><span class="mi" id="MathJax-Span-744" style="font-family: STIXGeneral; font-style: italic;">A</span><span class="mi" id="MathJax-Span-745" style="font-family: STIXGeneral; font-style: italic;">β<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.211em; vertical-align: -0.317em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-81">\alpha A \beta</script></span> <em>directly derives</em><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-82-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-746" style="width: 2.217em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.803em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.617em 1000em 2.829em -0.492em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-747"><span class="mtext" id="MathJax-Span-748" style="font-family: STIXGeneral;">&nbsp;</span><span class="mi" id="MathJax-Span-749" style="font-family: STIXGeneral; font-style: italic;">α</span><span class="mi" id="MathJax-Span-750" style="font-family: STIXGeneral; font-style: italic;">γ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.028em;"></span></span><span class="mi" id="MathJax-Span-751" style="font-family: STIXGeneral; font-style: italic;">β<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.212em; vertical-align: -0.318em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-82">\ \alpha \gamma \beta</script></span> if there exists a production rule <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-83-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-752" style="width: 3.15em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.568em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.627em 1000em 2.829em -0.543em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-753"><span class="mi" id="MathJax-Span-754" style="font-family: STIXGeneral; font-style: italic;">A</span><span class="mo" id="MathJax-Span-755" style="font-family: STIXGeneral; padding-left: 0.313em;">→</span><span class="mi" id="MathJax-Span-756" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.313em;">y</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.2em; vertical-align: -0.318em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-83">A \rightarrow y</script></span>. This is also called a <em>Derivation Step</em></p><p>We say that  <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-84-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-757" style="width: 2.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.694em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.617em 1000em 2.828em -0.465em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-758"><span class="mi" id="MathJax-Span-759" style="font-family: STIXGeneral; font-style: italic;">α</span><span class="mi" id="MathJax-Span-760" style="font-family: STIXGeneral; font-style: italic;">A</span><span class="mi" id="MathJax-Span-761" style="font-family: STIXGeneral; font-style: italic;">β<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.211em; vertical-align: -0.317em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-84">\alpha A \beta</script></span> <em>derives</em><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-85-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-762" style="width: 2.217em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.803em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.617em 1000em 2.829em -0.492em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-763"><span class="mtext" id="MathJax-Span-764" style="font-family: STIXGeneral;">&nbsp;</span><span class="mi" id="MathJax-Span-765" style="font-family: STIXGeneral; font-style: italic;">α</span><span class="mi" id="MathJax-Span-766" style="font-family: STIXGeneral; font-style: italic;">γ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.028em;"></span></span><span class="mi" id="MathJax-Span-767" style="font-family: STIXGeneral; font-style: italic;">β<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.212em; vertical-align: -0.318em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-85">\ \alpha \gamma \beta</script></span> if there are some possible derivation steps that can be preformed to get one from the other.<br>Formally:  <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-86-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-768" style="width: 4.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.333em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.617em 1000em 2.828em -0.465em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-769"><span class="mi" id="MathJax-Span-770" style="font-family: STIXGeneral; font-style: italic;">α</span><span class="mi" id="MathJax-Span-771" style="font-family: STIXGeneral; font-style: italic;">A</span><span class="mi" id="MathJax-Span-772" style="font-family: STIXGeneral; font-style: italic;">β<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span><span class="mo" id="MathJax-Span-773" style="font-family: STIXGeneral; padding-left: 0.313em;">=<span style="font-family: STIXGeneral; font-style: normal; font-weight: normal;">&gt;</span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.211em; vertical-align: -0.317em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-86">\alpha A \beta =></script></span>* <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-87-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-774" style="width: 1.883em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.53em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.617em 1000em 2.829em -0.465em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-775"><span class="mi" id="MathJax-Span-776" style="font-family: STIXGeneral; font-style: italic;">α</span><span class="mi" id="MathJax-Span-777" style="font-family: STIXGeneral; font-style: italic;">γ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.028em;"></span></span><span class="mi" id="MathJax-Span-778" style="font-family: STIXGeneral; font-style: italic;">β<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.212em; vertical-align: -0.318em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-87"> \alpha \gamma \beta</script></span></p><p>When there are two or more non-terminals which can be rewritten in a derivation, we pick the <strong>left-most/right-most</strong> non-terminal for rewriting<br>Note: there are derivations which are neither left-most or right-most</p><ul>
<li>G derives <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-88-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-779" style="width: 3.15em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.568em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.642em 1000em 2.65em -0.477em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-780"><span class="mi" id="MathJax-Span-781" style="font-family: STIXGeneral; font-style: italic;">w</span><span class="mo" id="MathJax-Span-782" style="font-family: STIXGeneral; padding-left: 0.313em;">∈</span><span class="mi" id="MathJax-Span-783" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.313em;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.963em; vertical-align: -0.1em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-88">w \in T</script></span>* if <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-89-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-784" style="width: 2.683em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.186em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.628em 1000em 2.647em -0.475em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-785"><span class="mi" id="MathJax-Span-786" style="font-family: STIXGeneral; font-style: italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span><span class="mo" id="MathJax-Span-787" style="font-family: STIXGeneral; padding-left: 0.313em;">=<span style="font-family: STIXGeneral; font-style: normal; font-weight: normal;">&gt;</span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.976em; vertical-align: -0.096em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-89">S =></script></span>*<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-90-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-788" style="width: 0.883em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.71em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.641em -0.477em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-789"><span class="mi" id="MathJax-Span-790" style="font-family: STIXGeneral; font-style: italic;">w</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.693em; vertical-align: -0.089em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-90">w</script></span> (eg: 10+1 is derived by G<sub>1</sub>)</li><li>L(G) = {w | <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-91-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-791" style="width: 2.683em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.186em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.628em 1000em 2.647em -0.475em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-792"><span class="mi" id="MathJax-Span-793" style="font-family: STIXGeneral; font-style: italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span><span class="mo" id="MathJax-Span-794" style="font-family: STIXGeneral; padding-left: 0.313em;">=<span style="font-family: STIXGeneral; font-style: normal; font-weight: normal;">&gt;</span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.976em; vertical-align: -0.096em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-91">S =></script></span>*<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-92-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-795" style="width: 0.883em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.71em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.641em -0.477em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-796"><span class="mi" id="MathJax-Span-797" style="font-family: STIXGeneral; font-style: italic;">w</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.693em; vertical-align: -0.089em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-92">w</script></span> and <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-93-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-798" style="width: 3.15em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.568em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.642em 1000em 2.65em -0.477em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-799"><span class="mi" id="MathJax-Span-800" style="font-family: STIXGeneral; font-style: italic;">w</span><span class="mo" id="MathJax-Span-801" style="font-family: STIXGeneral; padding-left: 0.313em;">∈</span><span class="mi" id="MathJax-Span-802" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.313em;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.963em; vertical-align: -0.1em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-93">w \in T</script></span>* }</li><li>L is context-free if there exists a CFG <em>G</em> such that L(G) = L</li></ul><h2 id="derivations-as-proofs"><a name="derivations-as-proofs" href="#derivations-as-proofs"></a>Derivations as Proofs</h2><p>In a regular language, to prove a DFA M accepts a word W, we could give the sequence of states visited (but this is not often done as a proof)</p><p>In a context-free langauge, to prove w is in a CFG G, we list our derivation steps as our “proof”</p><h2 id="parse-trees"><a name="parse-trees" href="#parse-trees"></a>Parse Trees</h2><p>Example: <code>10+1</code></p><pre><code data-origin="<pre><code>   E
/  |  \
E  +  E
|     |
B     B
|     | 
D     D
| \   |
D  0  1
|
1
</code></pre>">   E
/  |  \
E  +  E
|     |
B     B
|     | 
D     D
| \   |
D  0  1
|
1
</code></pre><p>Leaves are the terminals of our CFG<br>The root is the start S</p><p>This tree encapsulates all possible derivations of <code>10+1</code> in this grammar</p><h2 id="meaning-of-the-parse-tree"><a name="meaning-of-the-parse-tree" href="#meaning-of-the-parse-tree"></a>Meaning of the Parse Tree</h2><p>“Recursive Descent Parsing” / “Syntax Directed Translation” is when you compute the value of children to compute the value of their parent</p><p><code>10+1</code> <em>means</em> 3 (= 2 1)</p><pre><code data-origin="<pre><code>D   -&amp;gt; 1          means D.val = 1
D_1 -&amp;gt; D_20       means D_1.val = D_2.val * 2
E_1 -&amp;gt; E_2 + E_3  means E_1.val = E_2.val + E_3.val
</code></pre>">D   -&gt; 1          means D.val = 1
D_1 -&gt; D_20       means D_1.val = D_2.val * 2
E_1 -&gt; E_2 + E_3  means E_1.val = E_2.val + E_3.val
</code></pre><h2 id="problem:-grammars-can-encounter-ambiguity"><a name="problem:-grammars-can-encounter-ambiguity" href="#problem:-grammars-can-encounter-ambiguity"></a>Problem: Grammars can encounter Ambiguity</h2><p>A real-world example of ambiguity would be “Sally was given a book by Joyce”. Does this mean that Joyce gave Sally a book, or Joyce wrote the book Sally was given?</p><p>Formally:<br>A String x is ambiguous if <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-94-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-803" style="width: 1.75em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.421em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 2.65em -0.519em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-804"><span class="mi" id="MathJax-Span-805" style="font-family: STIXGeneral; font-style: italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-806" style="font-family: STIXGeneral; padding-left: 0.313em;">∈</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.814em; vertical-align: -0.1em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-94">x \in </script></span> L(G) AND there is more than one parse tree for x<br>A CFG G is ambiguous if some word <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-95-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-807" style="width: 1.75em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.421em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 2.65em -0.519em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-808"><span class="mi" id="MathJax-Span-809" style="font-family: STIXGeneral; font-style: italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-810" style="font-family: STIXGeneral; padding-left: 0.313em;">∈</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.814em; vertical-align: -0.1em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-95">x \in </script></span> L(G) is ambiguous</p><p>Consider the binary expression grammar, and the string <code>1-10+11</code></p><p>There are two possible trees depending on if you apply rule 1 or rule 2 first!</p><p>Some terminology for Ambiguity:<br>A Grammar is ambiguous if there is a word x such that x has:<br>-<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-96-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-811" style="width: 0.883em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.71em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.686em 1000em 2.726em -0.428em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-812"><span class="mo" id="MathJax-Span-813" style="font-family: STIXGeneral;">≥</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.192em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-96">\geq</script></span> 2 different parse trees<br>-<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-97-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-814" style="width: 0.883em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.71em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.686em 1000em 2.726em -0.428em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-815"><span class="mo" id="MathJax-Span-816" style="font-family: STIXGeneral;">≥</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.192em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-97">\geq</script></span> 2 different left-most derivations<br>-<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-98-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-817" style="width: 0.883em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.71em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.686em 1000em 2.726em -0.428em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-818"><span class="mo" id="MathJax-Span-819" style="font-family: STIXGeneral;">≥</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.002em; vertical-align: -0.192em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-98">\geq</script></span> 2 different right-most derivations</p><h2 id="fixing-ambiguity-in-g~2~"><a name="fixing-ambiguity-in-g~2~" href="#fixing-ambiguity-in-g~2~"></a>Fixing ambiguity in G<sub>2</sub></h2><p>Let’s rewrite our binary expression grammar differently:</p><p>Instead of rules 1 and 2 being</p><pre><code data-origin="<pre><code>1. E -&amp;gt; E + E
2. E -&amp;gt; E - E
</code></pre>">1. E -&gt; E + E
2. E -&gt; E - E
</code></pre><p>We can rewrite them as:</p><pre><code data-origin="<pre><code>1. E -&amp;gt; B + E
2. E -&amp;gt; B - E
</code></pre>">1. E -&gt; B + E
2. E -&gt; B - E
</code></pre><p>When there is both Left and Right recursion in one rule, ambiguity is introduced.</p><h2 id="associativity"><a name="associativity" href="#associativity"></a>Associativity</h2><p>The string <code>1-10+11</code> means <code>1-2+3 == (1-2)+3 = 2</code></p><p>In our current grammar, if we try to use Recursive Descent Parsing to calculate the value of our expression from our parse tree, we actually end up with the incorrect answer <code>-4</code>, since our parse tree would result in the incorrect associativity of <code>1-(2+3)</code></p><h3 id="fix"><a name="fix" href="#fix"></a>Fix</h3><p>To fix this, we need to once again change our first 2 rules…</p><p>The rules</p><pre><code data-origin="<pre><code>1. E -&amp;gt; B + E
2. E -&amp;gt; B - E
</code></pre>">1. E -&gt; B + E
2. E -&gt; B - E
</code></pre><p>result in <strong>right associativity</strong> since they are <strong>right-recursive</strong></p><p>To fix these rules, we have to make rules 2 left associative</p><pre><code data-origin="<pre><code>1. E -&amp;gt; E + B
2. E -&amp;gt; E - B
</code></pre>">1. E -&gt; E + B
2. E -&gt; E - B
</code></pre><h2 id="precedence-problems"><a name="precedence-problems" href="#precedence-problems"></a>Precedence Problems</h2><p>What if we wanted to add multiplication to our grammar?<br>Maybe it’s as easy as adding the rule <code>E -&gt; E * B</code>?</p><p>Well, consider <code>1*10+11</code>… that works out nicely.<br>Things fail when we then try <code>1+10*11</code>, since we will eval the + before the *!</p><h3 id="fix"><a name="fix" href="#fix"></a>Fix</h3><p>Nearer to the root -&gt; later evaluation -&gt; lower precedence</p><p>Let’s add some rules:</p><pre><code data-origin="<pre><code>let S = Sum (new start state)
let P = Product
1. S -&amp;gt; S + P
2. S -&amp;gt; S - P
3. S -&amp;gt; P
4. P -&amp;gt; P * B
5. P -&amp;gt; P / B
6. P -&amp;gt; B

7. B -&amp;gt; 0
8. ...
</code></pre>">let S = Sum (new start state)
let P = Product
1. S -&gt; S + P
2. S -&gt; S - P
3. S -&gt; P
4. P -&gt; P * B
5. P -&gt; P / B
6. P -&gt; B

7. B -&gt; 0
8. ...
</code></pre><p>With these rules, our first expansion nearer to the top of the tree would be addition, and only later on would we expand products (thereby evaling them first)</p><h2 id="regular-languages-are-context-free-langauges"><a name="regular-languages-are-context-free-langauges" href="#regular-languages-are-context-free-langauges"></a>Regular Languages are Context-Free Langauges</h2><p>Why?<br>Because.<br>I didn’t copy the example because my laptop battery died.<br>Just trust me, they are.</p><h1 id="lecture-13"><a name="lecture-13" href="#lecture-13"></a>Lecture 13</h1><h1 id="top-down-parsing"><a name="top-down-parsing" href="#top-down-parsing"></a>Top Down Parsing</h1><h2 id="parsing"><a name="parsing" href="#parsing"></a>Parsing</h2><p>Given a grammar G and a word w,how can we find a derivation for w?</p><p>There are 2 strategies:<br>1) Top Down: Find a non-terminal and replace it with the right-hand side of a rule (what we have been doing, eg: S =&gt; S + P =&gt; B + P)<br>2) Bottom Up: Replace a right-hand side with a non-terminal (eg: B + B * B =&gt; B + P)</p><p>In both strategies, we have to make the correct decision at each step.</p><h2 id="parsing-algorithm---backtracking"><a name="parsing-algorithm---backtracking" href="#parsing-algorithm---backtracking"></a>Parsing Algorithm - Backtracking</h2><ul>
<li>Try each rule in turn</li><li>If we can move “forward,” do so</li><li>if we cannot move “forward,” go back a step and try the next rule</li><li>Stop when we find the derivation</li></ul><p>This works, but is not practical. It is exponential time wrt the number of rules…</p><p>There are 2 different, better O(n) algos</p><h2 id="parsing-algorithm---stack-based-parsing"><a name="parsing-algorithm---stack-based-parsing" href="#parsing-algorithm---stack-based-parsing"></a>Parsing Algorithm - Stack Based Parsing</h2><p>For top-down parsing, we use a stack to remember information about our derivations and/or processed input</p><p>Recall that a Context-free language can be recognized with a finite control (DFA) and one stack</p><p>EG: balanced parens:<br>- ( = push<br>- ) = pop</p><p>If the stack is non-empty at the end, then there is a faliure.</p><h2 id="augmenting-grammars"><a name="augmenting-grammars" href="#augmenting-grammars"></a>Augmenting Grammars</h2><p>Empty words and stacks can cause hassles</p><p>We augment our Grammars by adding “beginning” and “ending” characters</p><pre><code data-origin="<pre><code>1. S' -&amp;gt; &amp;lt;START&amp;gt;S&amp;lt;END&amp;gt;
2. S -&amp;gt; AyB
3. A -&amp;gt; ab
4. A -&amp;gt; cd
5. B -&amp;gt; z
6. B -&amp;gt; wz
</code></pre>">1. S' -&gt; &lt;START&gt;S&lt;END&gt;
2. S -&gt; AyB
3. A -&gt; ab
4. A -&gt; cd
5. B -&gt; z
6. B -&gt; wz
</code></pre><h2 id="top-down-parsing-with-a-stack"><a name="top-down-parsing-with-a-stack" href="#top-down-parsing-with-a-stack"></a>Top-Down parsing with a Stack</h2><p>Invariant: Derivation = input already read + stack (read from top to bottom)</p><p>Example of <code>&lt;START&gt;abywz&lt;END&gt;</code></p><table>
<thead>
<tr>
<th>Derivation</th>
<th>input read</th>
<th>input to read</th>
<th>stack</th>
<th>actions</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>S'</code></td>
<td><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-99-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-820" style="width: 0.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.492em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-821"><span class="mi" id="MathJax-Span-822" style="font-family: STIXGeneral; font-style: italic;">ϵ</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.685em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-99">\epsilon</script></span></td>
<td><code>&lt;START&gt;abywz&lt;END&gt;</code></td>
<td><code>S'</code></td>
<td>Rule 1</td>
</tr>
<tr>
<td><code>&lt;START&gt;S&lt;END&gt;</code></td>
<td><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-100-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-823" style="width: 0.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.492em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-824"><span class="mi" id="MathJax-Span-825" style="font-family: STIXGeneral; font-style: italic;">ϵ</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.685em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-100">\epsilon</script></span></td>
<td><code>&lt;START&gt;abywz&lt;END&gt;</code></td>
<td><code>&lt;START&gt;S&lt;END&gt;</code></td>
<td>match <code>&lt;START&gt;</code></td>
</tr>
<tr>
<td><code>&lt;START&gt;S&lt;END&gt;</code></td>
<td><code>&lt;START&gt;</code></td>
<td><code>abywz&lt;END&gt;</code></td>
<td><code>S&lt;END&gt;</code></td>
<td>Rule 2</td>
</tr>
<tr>
<td><code>&lt;START&gt;AyB&lt;END&gt;</code></td>
<td><code>&lt;START&gt;</code></td>
<td><code>abywz&lt;END&gt;</code></td>
<td><code>AyB&lt;END&gt;</code></td>
<td>Rule 3</td>
</tr>
<tr>
<td><code>&lt;START&gt;abyB&lt;END&gt;</code></td>
<td><code>&lt;START&gt;</code></td>
<td><code>abywz&lt;END&gt;</code></td>
<td><code>abyB&lt;END&gt;</code></td>
<td>match a</td>
</tr>
<tr>
<td><code>&lt;START&gt;abyB&lt;END&gt;</code></td>
<td><code>&lt;START&gt;a</code></td>
<td><code>bywz&lt;END&gt;</code></td>
<td><code>byB&lt;END&gt;</code></td>
<td>match b</td>
</tr>
<tr>
<td><code>&lt;START&gt;abyB&lt;END&gt;</code></td>
<td><code>&lt;START&gt;ab</code></td>
<td><code>ywz&lt;END&gt;</code></td>
<td><code>yB&lt;END&gt;</code></td>
<td>match y</td>
</tr>
<tr>
<td><code>&lt;START&gt;abyB&lt;END&gt;</code></td>
<td><code>&lt;START&gt;aby</code></td>
<td><code>wz&lt;END&gt;</code></td>
<td><code>B&lt;END&gt;</code></td>
<td>Rule 6</td>
</tr>
<tr>
<td><code>&lt;START&gt;abywz&lt;END&gt;</code></td>
<td><code>&lt;START&gt;aby</code></td>
<td><code>wz&lt;END&gt;</code></td>
<td><code>wz&lt;END&gt;</code></td>
<td>match w</td>
</tr>
<tr>
<td><code>&lt;START&gt;abywz&lt;END&gt;</code></td>
<td><code>&lt;START&gt;abyw</code></td>
<td><code>z&lt;END&gt;</code></td>
<td><code>z&lt;END&gt;</code></td>
<td>match z</td>
</tr>
<tr>
<td><code>&lt;START&gt;abywz&lt;END&gt;</code></td>
<td><code>&lt;START&gt;abywz</code></td>
<td><code>&lt;END&gt;</code></td>
<td><code>&lt;END&gt;</code></td>
<td>match <code>&lt;END&gt;</code></td>
</tr>
<tr>
<td><code>&lt;START&gt;abywz&lt;END&gt;</code></td>
<td><code>&lt;START&gt;abywz&lt;END&gt;</code></td>
<td><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-101-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-826" style="width: 0.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.492em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-827"><span class="mi" id="MathJax-Span-828" style="font-family: STIXGeneral; font-style: italic;">ϵ</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.685em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-101">\epsilon</script></span></td>
<td><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-102-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-829" style="width: 0.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.492em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-830"><span class="mi" id="MathJax-Span-831" style="font-family: STIXGeneral; font-style: italic;">ϵ</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.685em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-102">\epsilon</script></span></td>
<td>ACCEPT!</td>
</tr>
</tbody>
</table><p>Observations:</p><p>How do we apply these rules? What does expand mean?</p><blockquote>
<p>Use a rule: pop stack (LHS) or Push RHS (in reverse)</p>
</blockquote><p>How do we know when we are done?</p><blockquote>
<p>Accept when the stack is empty and the input is empty, reject otherwise</p>
</blockquote><p>how do we know which rules to use?</p><blockquote>
<p>Crystal ball?</p>
</blockquote><h2 id="ll(1)-parsing"><a name="ll(1)-parsing" href="#ll(1)-parsing"></a>LL(1) Parsing</h2><p>We need: Predict(A,x) = A -&gt; a so long that:<br>1) A is on the top of the stack<br>2) x is the first symbol of input to be read<br>Where A is non-terminal (in N), and x is terminal (in T).</p><p>Definition of an LL(1) Grammar:<br>For all <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-103-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-832" style="width: 16.483em; display: inline-block;"><span style="display: inline-block; position: relative; width: 13.497em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.612em 1000em 2.8em -0.543em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-833"><span class="mi" id="MathJax-Span-834" style="font-family: STIXGeneral; font-style: italic;">A</span><span class="mo" id="MathJax-Span-835" style="font-family: STIXGeneral; padding-left: 0.313em;">∈</span><span class="mi" id="MathJax-Span-836" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.313em;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span class="mo" id="MathJax-Span-837" style="font-family: STIXGeneral;">,</span><span class="mtext" id="MathJax-Span-838" style="font-family: STIXGeneral; padding-left: 0.188em;">&nbsp;</span><span class="mi" id="MathJax-Span-839" style="font-family: STIXGeneral; font-style: italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-840" style="font-family: STIXGeneral; padding-left: 0.313em;">∈</span><span class="mi" id="MathJax-Span-841" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.313em;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mo" id="MathJax-Span-842" style="font-family: STIXGeneral;">,</span><span class="mtext" id="MathJax-Span-843" style="font-family: STIXGeneral; padding-left: 0.188em;">&nbsp;</span><span class="texatom" id="MathJax-Span-844"><span class="mrow" id="MathJax-Span-845"><span class="mo" id="MathJax-Span-846" style="font-family: STIXGeneral;">|</span></span></span><span class="mi" id="MathJax-Span-847" style="font-family: STIXGeneral; font-style: italic;">P</span><span class="mi" id="MathJax-Span-848" style="font-family: STIXGeneral; font-style: italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span class="mi" id="MathJax-Span-849" style="font-family: STIXGeneral; font-style: italic;">e</span><span class="mi" id="MathJax-Span-850" style="font-family: STIXGeneral; font-style: italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.027em;"></span></span><span class="mi" id="MathJax-Span-851" style="font-family: STIXGeneral; font-style: italic;">i</span><span class="mi" id="MathJax-Span-852" style="font-family: STIXGeneral; font-style: italic;">c</span><span class="mi" id="MathJax-Span-853" style="font-family: STIXGeneral; font-style: italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.018em;"></span></span><span class="mo" id="MathJax-Span-854" style="font-family: STIXGeneral;">(</span><span class="mi" id="MathJax-Span-855" style="font-family: STIXGeneral; font-style: italic;">A</span><span class="mo" id="MathJax-Span-856" style="font-family: STIXGeneral;">,</span><span class="mi" id="MathJax-Span-857" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.188em;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-858" style="font-family: STIXGeneral;">)</span><span class="texatom" id="MathJax-Span-859"><span class="mrow" id="MathJax-Span-860"><span class="mo" id="MathJax-Span-861" style="font-family: STIXGeneral;">|</span></span></span><span class="mo" id="MathJax-Span-862" style="font-family: STIXGeneral; padding-left: 0.313em;">≤</span><span class="mn" id="MathJax-Span-863" style="font-family: STIXGeneral; padding-left: 0.313em;">1</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.183em; vertical-align: -0.283em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-103">A \in N,\ x \in T,\ |Predict(A,x)| \leq 1</script></span></p><p>Meaning of LL(1):<br>L - left-to-right input<br>L - leftmost derivation<br>(1) - one token of “look ahead” (in terms of input)</p><h2 id="constructing-a-predictor-rable-from-search-trees"><a name="constructing-a-predictor-rable-from-search-trees" href="#constructing-a-predictor-rable-from-search-trees"></a>Constructing a Predictor Rable from Search Trees</h2><p>Recall the CFG:</p><pre><code data-origin="<pre><code>1. S' -&amp;gt; &amp;lt;START&amp;gt;S&amp;lt;END&amp;gt;
2. S -&amp;gt; AyB
3. A -&amp;gt; ab
4. A -&amp;gt; cd
5. B -&amp;gt; z
6. B -&amp;gt; wz
</code></pre>">1. S' -&gt; &lt;START&gt;S&lt;END&gt;
2. S -&gt; AyB
3. A -&gt; ab
4. A -&gt; cd
5. B -&gt; z
6. B -&gt; wz
</code></pre><p>Let “.” be an error</p><p>COLS are input (x). ROWS are non-terminating chars (A)</p><table>
<thead>
<tr>
<th></th>
<th>a</th>
<th>b</th>
<th>c</th>
<th>d</th>
<th>y</th>
<th>w</th>
<th>z</th>
<th><code>&lt;START&gt;</code></th>
<th><code>&lt;END&gt;</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>S’</td>
<td>.</td>
<td>.</td>
<td>.</td>
<td>.</td>
<td>.</td>
<td>.</td>
<td>.</td>
<td>1</td>
<td>.</td>
</tr>
<tr>
<td>S</td>
<td>2</td>
<td>.</td>
<td>2</td>
<td>.</td>
<td>.</td>
<td>.</td>
<td>.</td>
<td>.</td>
<td>.</td>
</tr>
<tr>
<td>A</td>
<td>3</td>
<td>.</td>
<td>4</td>
<td>.</td>
<td>.</td>
<td>.</td>
<td>.</td>
<td>.</td>
<td>.</td>
</tr>
<tr>
<td>B</td>
<td>.</td>
<td>.</td>
<td>.</td>
<td>.</td>
<td>.</td>
<td>6</td>
<td>5</td>
<td>.</td>
<td>.</td>
</tr>
</tbody>
</table><p>Adding a new rule is easy!<br>Let’s add <code>B -&gt; epsilon</code></p><p>We just change ROW:B - COL:<code>&lt;END&gt;</code> from an error to using rule 7</p><h2 id="algorithm-for-constructing-a-predictor-table"><a name="algorithm-for-constructing-a-predictor-table" href="#algorithm-for-constructing-a-predictor-table"></a>Algorithm for constructing a Predictor Table</h2><p>Below: <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-104-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-864" style="width: 7.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.792em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.617em 1000em 2.828em -0.465em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-865"><span class="mi" id="MathJax-Span-866" style="font-family: STIXGeneral; font-style: italic;">α</span><span class="mo" id="MathJax-Span-867" style="font-family: STIXGeneral;">,</span><span class="mi" id="MathJax-Span-868" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.188em;">β<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span><span class="mo" id="MathJax-Span-869" style="font-family: STIXGeneral; padding-left: 0.313em;">∈</span><span class="mo" id="MathJax-Span-870" style="font-family: STIXGeneral; padding-left: 0.313em;">(</span><span class="mi" id="MathJax-Span-871" style="font-family: STIXGeneral; font-style: italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span class="mo" id="MathJax-Span-872" style="font-family: STIXGeneral; padding-left: 0.25em;">∪</span><span class="mi" id="MathJax-Span-873" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.25em;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mo" id="MathJax-Span-874" style="font-family: STIXGeneral;">)</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.211em; vertical-align: -0.317em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-104">\alpha, \beta \in (N \cup T)</script></span>* ; <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-105-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-875" style="width: 7.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.23em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.627em 1000em 2.829em -0.519em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-876"><span class="mi" id="MathJax-Span-877" style="font-family: STIXGeneral; font-style: italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-878" style="font-family: STIXGeneral;">,</span><span class="mi" id="MathJax-Span-879" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.188em;">y</span><span class="mo" id="MathJax-Span-880" style="font-family: STIXGeneral; padding-left: 0.313em;">∈</span><span class="mi" id="MathJax-Span-881" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.313em;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mo" id="MathJax-Span-882" style="font-family: STIXGeneral;">;</span><span class="mi" id="MathJax-Span-883" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.188em;">A</span><span class="mo" id="MathJax-Span-884" style="font-family: STIXGeneral; padding-left: 0.313em;">∈</span><span class="mi" id="MathJax-Span-885" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.313em;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.2em; vertical-align: -0.318em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-105">x,y \in T; A \in N</script></span></p><p>Empty(<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-106-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-886" style="width: 0.75em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.601em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.465em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-887"><span class="mi" id="MathJax-Span-888" style="font-family: STIXGeneral; font-style: italic;">α</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.685em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-106">\alpha</script></span>) = true if <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-107-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-889" style="width: 0.75em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.601em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.465em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-890"><span class="mi" id="MathJax-Span-891" style="font-family: STIXGeneral; font-style: italic;">α</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.685em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-107">\alpha</script></span> =&gt;* <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-108-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-892" style="width: 0.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.492em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-893"><span class="mi" id="MathJax-Span-894" style="font-family: STIXGeneral; font-style: italic;">ϵ</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.685em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-108">\epsilon</script></span><br>can <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-109-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-895" style="width: 0.75em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.601em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.465em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-896"><span class="mi" id="MathJax-Span-897" style="font-family: STIXGeneral; font-style: italic;">α</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.685em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-109">\alpha</script></span> disappear?</p><p>First(<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-110-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-898" style="width: 0.75em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.601em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.465em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-899"><span class="mi" id="MathJax-Span-900" style="font-family: STIXGeneral; font-style: italic;">α</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.685em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-110">\alpha</script></span>) = {x | <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-111-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-901" style="width: 0.75em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.601em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.465em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-902"><span class="mi" id="MathJax-Span-903" style="font-family: STIXGeneral; font-style: italic;">α</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.685em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-111">\alpha</script></span> =&gt;* x<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-112-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-904" style="width: 0.683em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.546em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.617em 1000em 2.828em -0.532em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-905"><span class="mi" id="MathJax-Span-906" style="font-family: STIXGeneral; font-style: italic;">β<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.211em; vertical-align: -0.317em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-112">\beta</script></span>}<br>starting from <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-113-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-907" style="width: 0.75em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.601em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.465em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-908"><span class="mi" id="MathJax-Span-909" style="font-family: STIXGeneral; font-style: italic;">α</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.685em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-113">\alpha</script></span>, what can I generate as the first terminal?</p><p>Follow(<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-114-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-910" style="width: 0.75em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.601em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.465em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-911"><span class="mi" id="MathJax-Span-912" style="font-family: STIXGeneral; font-style: italic;">α</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.685em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-114">\alpha</script></span>) = {y | S’ =&gt;* <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-115-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-913" style="width: 0.75em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.601em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.465em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-914"><span class="mi" id="MathJax-Span-915" style="font-family: STIXGeneral; font-style: italic;">α</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.685em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-115">\alpha</script></span>Ay<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-116-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-916" style="width: 0.683em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.546em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.617em 1000em 2.828em -0.532em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-917"><span class="mi" id="MathJax-Span-918" style="font-family: STIXGeneral; font-style: italic;">β<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.211em; vertical-align: -0.317em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-116">\beta</script></span>}<br>starting from the start symbol, does the terminal y ever appear following a non-terminal A?</p><p><strong>Predict(A,x) = { A -&gt; <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-117-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-919" style="width: 0.75em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.601em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.465em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-920"><span class="mi" id="MathJax-Span-921" style="font-family: STIXGeneral; font-style: italic;">α</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.685em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-117">\alpha</script></span> | x <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-118-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-922" style="width: 0.883em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.71em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 2.65em -0.432em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-923"><span class="mo" id="MathJax-Span-924" style="font-family: STIXGeneral;">∈</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.814em; vertical-align: -0.1em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-118">\in</script></span> First(<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-119-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-925" style="width: 0.75em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.601em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.465em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-926"><span class="mi" id="MathJax-Span-927" style="font-family: STIXGeneral; font-style: italic;">α</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.685em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-119">\alpha</script></span>) } <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-120-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-928" style="width: 0.817em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.656em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.759em 1000em 2.654em -0.444em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-929"><span class="mo" id="MathJax-Span-930" style="font-family: STIXGeneral;">∪</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.825em; vertical-align: -0.104em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-120">\cup</script></span> { A -&gt; <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-121-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-931" style="width: 0.683em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.546em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.617em 1000em 2.828em -0.532em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-932"><span class="mi" id="MathJax-Span-933" style="font-family: STIXGeneral; font-style: italic;">β<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.211em; vertical-align: -0.317em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-121">\beta</script></span> | x <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-122-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-934" style="width: 0.883em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.71em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 2.65em -0.432em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-935"><span class="mo" id="MathJax-Span-936" style="font-family: STIXGeneral;">∈</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.814em; vertical-align: -0.1em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-122">\in</script></span> Follow(A) and Empty(<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-123-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-937" style="width: 0.683em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.546em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.617em 1000em 2.828em -0.532em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-938"><span class="mi" id="MathJax-Span-939" style="font-family: STIXGeneral; font-style: italic;">β<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.211em; vertical-align: -0.317em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-123">\beta</script></span>) }</strong></p><h2 id="ll(1)-parsing-algorithm"><a name="ll(1)-parsing-algorithm" href="#ll(1)-parsing-algorithm"></a>LL(1) Parsing Algorithm</h2><p>Input: w</p><pre><code data-origin="<pre><code>push S'
for each x in w:
    while (top of stack is some A in N):
        pop A
        if Predict(A,x) = {A -&amp;gt; a}:
            push a
        else:
            reject
    pop c
    if c != x:
        reject
accept w
</code></pre>">push S'
for each x in w:
    while (top of stack is some A in N):
        pop A
        if Predict(A,x) = {A -&gt; a}:
            push a
        else:
            reject
    pop c
    if c != x:
        reject
accept w
</code></pre><h2 id="non-ll(1)-grammars:"><a name="non-ll(1)-grammars:" href="#non-ll(1)-grammars:"></a>Non LL(1) Grammars:</h2><p>Consider the grammar:</p><pre><code data-origin="<pre><code>1. S -&amp;gt; ab
2. S -&amp;gt; acb
</code></pre>">1. S -&gt; ab
2. S -&gt; acb
</code></pre><p>We cannot tell if we should use rule 1,2 in the case where we have an S followed by a a.</p><p>If we could look ahead 2 chars, we would be able to tell…</p><p>We can actually conver this grammar into an LL(1) by changing the rules to</p><pre><code data-origin="<pre><code>1. E -&amp;gt; aX
2. X -&amp;gt; b
3. X -&amp;gt; cb
</code></pre>">1. E -&gt; aX
2. X -&gt; b
3. X -&gt; cb
</code></pre><h2 id="non-ll(1)-language"><a name="non-ll(1)-language" href="#non-ll(1)-language"></a>Non LL(1) Language</h2><p>L = {a<sup>n</sup>b<sup>m</sup> | n &gt;= m &gt;= 0}</p><p>Grammar (ambiguous):</p><pre><code data-origin="<pre><code>1. S -&amp;gt; epsilon
2. S -&amp;gt; aSb
3. S -&amp;gt; aS
</code></pre>">1. S -&gt; epsilon
2. S -&gt; aSb
3. S -&gt; aS
</code></pre><p>Grammar (unambiguous):</p><pre><code data-origin="<pre><code>B is &quot;balanced a and b&quot;
U is &quot;unbalanced a and b&quot;
1. S -&amp;gt; B
2. S -&amp;gt; U
3. B -&amp;gt; epsilon
4. B -&amp;gt; aBb
5. U -&amp;gt; aB
6. U -&amp;gt; aU
</code></pre>">B is "balanced a and b"
U is "unbalanced a and b"
1. S -&gt; B
2. S -&gt; U
3. B -&gt; epsilon
4. B -&gt; aBb
5. U -&gt; aB
6. U -&gt; aU
</code></pre><p>This language is actually not LL(k) for <em>Any</em> k!</p><h1 id="lecture-14"><a name="lecture-14" href="#lecture-14"></a>Lecture 14</h1><h2 id="bottom-up-parsing-(lr-parsing)"><a name="bottom-up-parsing-(lr-parsing)" href="#bottom-up-parsing-(lr-parsing)"></a>Bottom-up parsing (LR parsing)</h2><p>In LL/top-down parsing we have<br>- input processed + stack = current derivation<br>- note that the stack is read from top to bottom</p><p>In LR/bottom-up parsing on the other hand, we hace<br>-stack + input to be read = current derivation<br>-stack is read from bottom to top</p><h2 id="a-trace-of-`abywz`"><a name="a-trace-of-`abywz`" href="#a-trace-of-`abywz`"></a>A Trace of <code>&lt;START&gt;abywz&lt;END&gt;</code></h2><table>
<thead>
<tr>
<th>Derivaiton</th>
<th>Stack</th>
<th>Input Read</th>
<th>Unread Input</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;START&gt;abywz&lt;END&gt;</code></td>
<td><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-124-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-940" style="width: 0.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.492em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-941"><span class="mi" id="MathJax-Span-942" style="font-family: STIXGeneral; font-style: italic;">ϵ</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.685em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-124">\epsilon</script></span></td>
<td><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-125-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-943" style="width: 0.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.492em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-944"><span class="mi" id="MathJax-Span-945" style="font-family: STIXGeneral; font-style: italic;">ϵ</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.685em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-125">\epsilon</script></span></td>
<td><code>&lt;START&gt;abywz&lt;END&gt;</code></td>
<td>Shift <code>&lt;START&gt;</code></td>
</tr>
<tr>
<td><code>&lt;START&gt;abywz&lt;END&gt;</code></td>
<td><code>&lt;START&gt;</code></td>
<td><code>&lt;START&gt;</code></td>
<td><code>abywz&lt;END&gt;</code></td>
<td>Shift <code>a</code></td>
</tr>
<tr>
<td><code>&lt;START&gt;abywz&lt;END&gt;</code></td>
<td><code>&lt;START&gt;a</code></td>
<td><code>&lt;START&gt;a</code></td>
<td><code>bywz&lt;END&gt;</code></td>
<td>Shift <code>b</code></td>
</tr>
<tr>
<td><code>&lt;START&gt;abywz&lt;END&gt;</code></td>
<td><code>&lt;START&gt;ab</code></td>
<td><code>&lt;START&gt;ab</code></td>
<td><code>ywz&lt;END&gt;</code></td>
<td>Reduce <code>A -&gt; ab</code></td>
</tr>
<tr>
<td><code>&lt;START&gt;Aywz&lt;END&gt;</code></td>
<td><code>&lt;START&gt;A</code></td>
<td><code>&lt;START&gt;ab</code></td>
<td><code>ywz&lt;END&gt;</code></td>
<td>Shift <code>y</code></td>
</tr>
<tr>
<td><code>&lt;START&gt;Aywz&lt;END&gt;</code></td>
<td><code>&lt;START&gt;Ay</code></td>
<td><code>&lt;START&gt;aby</code></td>
<td><code>wz&lt;END&gt;</code></td>
<td>Shift <code>w</code></td>
</tr>
<tr>
<td><code>&lt;START&gt;Aywz&lt;END&gt;</code></td>
<td><code>&lt;START&gt;Ayw</code></td>
<td><code>&lt;START&gt;abyw</code></td>
<td><code>z&lt;END&gt;</code></td>
<td>Shift <code>z</code></td>
</tr>
<tr>
<td><code>&lt;START&gt;Aywz&lt;END&gt;</code></td>
<td><code>&lt;START&gt;Aywz</code></td>
<td><code>&lt;START&gt;abywz</code></td>
<td><code>&lt;END&gt;</code></td>
<td>Reduce <code>B -&gt; wz</code></td>
</tr>
<tr>
<td><code>&lt;START&gt;AyB&lt;END&gt;</code></td>
<td><code>&lt;START&gt;AyB</code></td>
<td><code>&lt;START&gt;abywz</code></td>
<td><code>&lt;END&gt;</code></td>
<td>Reduce <code>S -&gt; AyB</code></td>
</tr>
<tr>
<td><code>&lt;START&gt;S&lt;END&gt;</code></td>
<td><code>&lt;START&gt;S</code></td>
<td><code>&lt;START&gt;abywz</code></td>
<td><code>&lt;END&gt;</code></td>
<td>Shift <code>&lt;END&gt;</code></td>
</tr>
<tr>
<td><code>&lt;START&gt;S&lt;END&gt;</code></td>
<td><code>&lt;START&gt;S&lt;END&gt;</code></td>
<td><code>&lt;START&gt;abywz&lt;END&gt;</code></td>
<td><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-126-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-946" style="width: 0.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.492em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-947"><span class="mi" id="MathJax-Span-948" style="font-family: STIXGeneral; font-style: italic;">ϵ</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.685em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-126">\epsilon</script></span></td>
<td>Reduce <code>S' -&gt; S</code></td>
</tr>
<tr>
<td><code>S'</code></td>
<td><code>S'</code></td>
<td><code>&lt;START&gt;abywz&lt;END&gt;</code></td>
<td><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-127-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-949" style="width: 0.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.492em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-950"><span class="mi" id="MathJax-Span-951" style="font-family: STIXGeneral; font-style: italic;">ϵ</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.685em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-127">\epsilon</script></span></td>
<td>ACCEPT</td>
</tr>
</tbody>
</table><p>Shift: moving a token from one place to another (push)<br>Reduce: size of the stack may be rediced (pop RHS, push LHS)</p><h2 id="shift/reduce"><a name="shift/reduce" href="#shift/reduce"></a>Shift/Reduce</h2><p>Somehow we shifted at just the right time, and reduced just at the right time. How did we know this?</p><p>Recall that for LL(1) parsing, we had a predictor table<br>For LR(1) parsing, we have an oracle, in the form of a DFA</p><h2 id="constructing-a-dfa-oracle-for-lr(1)-grammars"><a name="constructing-a-dfa-oracle-for-lr(1)-grammars" href="#constructing-a-dfa-oracle-for-lr(1)-grammars"></a>Constructing a DFA Oracle for LR(1) Grammars</h2><p>This is difficult to do.<br>Donald Knuth proved a theorem that for any LR(1) grammar, you can construct a DFA (really a transducer) that tells us when to shift or reduce. But this doesn’t mean it’s easy….</p><h2 id="building-an-lr(0)-automaton"><a name="building-an-lr(0)-automaton" href="#building-an-lr(0)-automaton"></a>Building an LR(0) Automaton</h2><p>Definition: An <em>item</em> is a production rule with a dot (<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-128-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-952" style="width: 0.483em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.383em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.908em 1000em 2.506em -0.452em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-953"><span class="mo" id="MathJax-Span-954" style="font-family: STIXGeneral;">∙</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.463em; vertical-align: 0.076em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-128">\bullet</script></span>) somewhere on the RHS (which indicated a partially completed rule)<br>How to construct it:<br>1) Make the start state the first rule, with the dot (<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-129-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-955" style="width: 0.483em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.383em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.908em 1000em 2.506em -0.452em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-956"><span class="mo" id="MathJax-Span-957" style="font-family: STIXGeneral;">∙</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.463em; vertical-align: 0.076em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-129">\bullet</script></span>) in front of the left-most symbol of the RHS<br>2) For each state, label an arc with the symbol that follows <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-130-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-958" style="width: 0.483em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.383em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.908em 1000em 2.506em -0.452em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-959"><span class="mo" id="MathJax-Span-960" style="font-family: STIXGeneral;">∙</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.463em; vertical-align: 0.076em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-130">\bullet</script></span> and advanced the <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-131-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-961" style="width: 0.483em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.383em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.908em 1000em 2.506em -0.452em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-962"><span class="mo" id="MathJax-Span-963" style="font-family: STIXGeneral;">∙</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.463em; vertical-align: 0.076em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-131">\bullet</script></span> one position to the right in the next state<br>3) If the <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-132-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-964" style="width: 0.483em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.383em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.908em 1000em 2.506em -0.452em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-965"><span class="mo" id="MathJax-Span-966" style="font-family: STIXGeneral;">∙</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.463em; vertical-align: 0.076em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-132">\bullet</script></span> preceded a non-terminal (e.g: A), add all productions with that non-terminal A on the LHS to the current state, with the <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-133-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-967" style="width: 0.483em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.383em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.908em 1000em 2.506em -0.452em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-968"><span class="mo" id="MathJax-Span-969" style="font-family: STIXGeneral;">∙</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.463em; vertical-align: 0.076em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-133">\bullet</script></span> in the leftmost position</p><h2 id="example:"><a name="example:" href="#example:"></a>Example:</h2><p>Consider this Grammar:</p><pre><code data-origin="<pre><code>S' -&amp;gt; &amp;lt;START&amp;gt;E&amp;lt;END&amp;gt;
E -&amp;gt; E + T
E -&amp;gt; T
T -&amp;gt; id
</code></pre>">S' -&gt; &lt;START&gt;E&lt;END&gt;
E -&gt; E + T
E -&gt; T
T -&gt; id
</code></pre><p>It catches sequences of additions</p><p><img src="lr0_dfa.jpg" alt="lr0_dfa.jpg"></p><h4 id="image-brought-to-you-by:-james-hageman"><a name="image-brought-to-you-by:-james-hageman" href="#image-brought-to-you-by:-james-hageman"></a>Image brought to you by: James Hageman</h4><h2 id="using-the-automaton"><a name="using-the-automaton" href="#using-the-automaton"></a>Using the Automaton</h2><pre><code data-origin="<pre><code>For each input token:
    Start in the start state
    Read the stack (from the bottom up) and read the current input
      and do the action indicated for the current input
          If there is a transition out of our current state
            Shift (push) that input onto the stack
        We know that we can reduce if the current state has only 
          one term and (dot) is the rightmost symbol
              Reduce (pop) the RHS off tehe stack
            reread the stack (from bottom up)
            follow teh transitions for the LHS
            push the LHS onto the stack
Accept if S' is on the stack when all input is read
</code></pre>">For each input token:
    Start in the start state
    Read the stack (from the bottom up) and read the current input
      and do the action indicated for the current input
          If there is a transition out of our current state
            Shift (push) that input onto the stack
        We know that we can reduce if the current state has only 
          one term and (dot) is the rightmost symbol
              Reduce (pop) the RHS off tehe stack
            reread the stack (from bottom up)
            follow teh transitions for the LHS
            push the LHS onto the stack
Accept if S' is on the stack when all input is read
</code></pre><h2 id="using-the-transducer-example-`id+id+id`"><a name="using-the-transducer-example-`id+id+id`" href="#using-the-transducer-example-`id+id+id`"></a>Using the Transducer Example <code>&lt;START&gt;id+id+id&lt;END&gt;</code></h2><table>
<thead>
<tr>
<th>Stack</th>
<th>States Visited</th>
<th>Input Read</th>
<th>Unread Input</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr>
<td><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-134-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-970" style="width: 0.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.492em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-971"><span class="mi" id="MathJax-Span-972" style="font-family: STIXGeneral; font-style: italic;">ϵ</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.685em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-134">\epsilon</script></span></td>
<td>1</td>
<td><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-135-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-973" style="width: 0.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.492em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-974"><span class="mi" id="MathJax-Span-975" style="font-family: STIXGeneral; font-style: italic;">ϵ</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.685em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-135">\epsilon</script></span></td>
<td><code>&lt;START&gt;id+id+id&lt;END&gt;</code></td>
<td>Shift <code>&lt;START&gt;</code></td>
</tr>
<tr>
<td><code>&lt;START&gt;</code></td>
<td>1, 2</td>
<td><code>&lt;START&gt;</code></td>
<td><code>id+id+id&lt;END&gt;</code></td>
<td>Shift <code>id</code></td>
</tr>
<tr>
<td><code>&lt;START&gt;id</code></td>
<td>1, 2, 6</td>
<td><code>&lt;START&gt;id</code></td>
<td><code>+id+id&lt;END&gt;</code></td>
<td>Reduce <code>T -&gt; id</code></td>
</tr>
<tr>
<td><code>&lt;START&gt;T</code></td>
<td>1, 2, 5</td>
<td><code>&lt;START&gt;id</code></td>
<td><code>+id+id+id&lt;END&gt;</code></td>
<td>Reduce <code>E -&gt; T</code></td>
</tr>
<tr>
<td><code>&lt;START&gt;E</code></td>
<td>1, 2, 3</td>
<td><code>&lt;START&gt;id</code></td>
<td><code>+id+id+id&lt;END&gt;</code></td>
<td>Shift <code>+</code></td>
</tr>
<tr>
<td><code>&lt;START&gt;E+</code></td>
<td>1, 2, 3, 7</td>
<td><code>&lt;START&gt;id+</code></td>
<td><code>id+id&lt;END&gt;</code></td>
<td>Shift <code>id</code></td>
</tr>
<tr>
<td><code>&lt;START&gt;E+id</code></td>
<td>1, 2, 3, 7, 6</td>
<td><code>&lt;START&gt;id+id</code></td>
<td><code>+id&lt;END&gt;</code></td>
<td>Reduce <code>T -&gt; id</code></td>
</tr>
<tr>
<td><code>&lt;START&gt;E+T</code></td>
<td>1, 2, 3, 7, 8</td>
<td><code>&lt;START&gt;id+id</code></td>
<td><code>+id&lt;END&gt;</code></td>
<td>Reduce <code>E -&gt; E+T</code></td>
</tr>
<tr>
<td><code>&lt;START&gt;E</code></td>
<td>1, 2, 3</td>
<td><code>&lt;START&gt;id+id</code></td>
<td><code>+id&lt;END&gt;</code></td>
<td>Shift +</td>
</tr>
<tr>
<td><code>&lt;START&gt;E+</code></td>
<td>1, 2, 3, 7</td>
<td><code>&lt;START&gt;id+id+</code></td>
<td><code>id&lt;END&gt;</code></td>
<td>Shift id</td>
</tr>
<tr>
<td><code>&lt;START&gt;E+id</code></td>
<td>1, 2, 3, 7, 6</td>
<td><code>&lt;START&gt;id+id+id</code></td>
<td><code>&lt;END&gt;</code></td>
<td>Reduce <code>T -&gt; id</code></td>
</tr>
<tr>
<td><code>&lt;START&gt;E+T</code></td>
<td>1, 2, 3, 7, 8</td>
<td><code>&lt;START&gt;id+id+id</code></td>
<td><code>&lt;END&gt;</code></td>
<td>Reduce <code>E -&gt; E + T</code></td>
</tr>
<tr>
<td><code>&lt;START&gt;E</code></td>
<td>1, 2, 3</td>
<td><code>&lt;START&gt;id+id+id</code></td>
<td><code>&lt;END&gt;</code></td>
<td>Shift <code>&lt;END&gt;</code></td>
</tr>
<tr>
<td><code>&lt;START&gt;E&lt;END&gt;</code></td>
<td>1, 2, 3, 4</td>
<td><code>&lt;START&gt;id+id+id&lt;END&gt;</code></td>
<td><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-136-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-976" style="width: 0.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.492em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-977"><span class="mi" id="MathJax-Span-978" style="font-family: STIXGeneral; font-style: italic;">ϵ</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.685em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-136">\epsilon</script></span></td>
<td>Reduce <code>S' -&gt; &lt;START&gt;E&lt;END&gt;</code></td>
</tr>
<tr>
<td><code>S'</code></td>
<td>1</td>
<td><code>&lt;START&gt;id+id+id&lt;END&gt;</code></td>
<td><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-137-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-979" style="width: 0.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.492em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-980"><span class="mi" id="MathJax-Span-981" style="font-family: STIXGeneral; font-style: italic;">ϵ</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.685em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-137">\epsilon</script></span></td>
<td>ACCEPT</td>
</tr>
</tbody>
</table><h2 id="what-can-go-wrong?-a-problem..."><a name="what-can-go-wrong?-a-problem..." href="#what-can-go-wrong?-a-problem..."></a>What can go wrong? A Problem…</h2><p>What if the state looks like this:</p><pre><code data-origin="<pre><code>A -&amp;gt; a(dot)cb
B -&amp;gt; g(dot)
</code></pre>">A -&gt; a(dot)cb
B -&gt; g(dot)
</code></pre><p>Do we try to shift the next char, or do we reduce</p><p>This is called a <em>shift reduce conflict</em></p><p>Alternatively:</p><p>What if the state looks like this:</p><pre><code data-origin="<pre><code>A -&amp;gt; a(dot)
B -&amp;gt; b(dot)
</code></pre>">A -&gt; a(dot)
B -&gt; b(dot)
</code></pre><p>do we reduce by <code>A -&gt; a</code>, or do we reduce by <code>B -&gt; b</code></p><p>This is known as a <em>reduce reduce conflict</em></p><p>If any item <code>A -&gt; a(dot)</code> occurs in a state in which it is not alone, then there is a shift-reduce or reduce-reduce conflict, and that means that the grammar is not LR(0)</p><h1 id="lecture-15"><a name="lecture-15" href="#lecture-15"></a>Lecture 15</h1><h2 id="example-with-conflicts"><a name="example-with-conflicts" href="#example-with-conflicts"></a>Example with Conflicts</h2><p>Consider right-associative expressions. Modifying our grammar slightly to allow this (i.e: reverse RHS of second rule)</p><pre><code data-origin="<pre><code>S' -&amp;gt; &amp;lt;START&amp;gt;E&amp;lt;END&amp;gt;
E -&amp;gt; T + E
E -&amp;gt; T
T -&amp;gt; id
</code></pre>">S' -&gt; &lt;START&gt;E&lt;END&gt;
E -&gt; T + E
E -&gt; T
T -&gt; id
</code></pre><p><img src="lec15_diagram1.png" alt="lec15_diagram1.png"></p><h2 id="parsing-with-conflicts"><a name="parsing-with-conflicts" href="#parsing-with-conflicts"></a>Parsing with Conflicts</h2><p>Suppose we are parsing a string that looks like <code>&lt;START&gt;id...</code></p><p>Question: Should we reduce <code>E -&gt; T</code>?<br>Answer: it deptends…<br>if input is <code>&lt;START&gt;id&lt;END&gt;</code>, then yes<br>if input is <code>&lt;START&gt;id+...</code>, then no</p><h2 id="slr(1)-parser"><a name="slr(1)-parser" href="#slr(1)-parser"></a>SLR(1) Parser</h2><p>When we add this one lookahead character of a lookahead, we have an SLR(1) parser (SLR(1) = Simple LR with 1 character of lookahead)<br>SLR(1) resolves many, but not all, conflicts<br>- LR(1) parsing is more sopfisticated than SLR(1) parsers<br>- LR(1) parses strictly more grammars<br>- LR(1) automation is more complex<br>- LR(1) and SLR(1) are identical parsing algorithms, the only difference is in the respecting outomation they create<br>There is also a parser called LALR(1) which falls between SLR(1) and LR(1). LALR(1) = Lookahead LR(1)</p><h2 id="making-this-more-efficient"><a name="making-this-more-efficient" href="#making-this-more-efficient"></a>Making this more efficient</h2><p>Current running time of this algorithm: O(|w|<sup>2</sup>)</p><p>Instead of scanning the stack each time, we can instead store (input, state) on the stack<br>Start the transducer in state @ the top of the stack</p><p>Running time is not only O(|w|)</p><h2 id="outputting-a-derivation"><a name="outputting-a-derivation" href="#outputting-a-derivation"></a>Outputting a Derivation</h2><p>In top down parsing: output the rules  used to expand by<br>In bottom-up parsing: It’s simple: every thime we do a reduction, just output the rule. BUT this isn’t quite right, since Derivations should start with the Start symbol, but with Bottom Up parsing, this is not the case… A Simple Observation</p><p>Didn’t we say that this was LR(1) parsing?<br>Yep! LR(0) and SLR(1) are both contained within LR(1)</p><p>Doesn’t “R” mean rightmost derivation?<br>Yep!</p><p>Aren’t ew always reducing the leftmost non-terminal?<br>Yes, but that is hard to see.</p><p>Notice the direction we are creating the derivation…<br>Write the derivation in reverse.</p><h2 id="outputting-the-parse-tree"><a name="outputting-the-parse-tree" href="#outputting-the-parse-tree"></a>Outputting the Parse Tree</h2><p>Create a “tree stack”</p><p>Each time we reduce, pop the right hand side nodes from the tree stack</p><p>push the left-hand side node and make its children the nodes we just popped</p><p>Example: <code>&lt;START&gt;id+id+id&lt;END&gt;</code></p><p><img src="lec15_diagram2.png" alt="lec15_diagram2.png"></p><h2 id="going-back"><a name="going-back" href="#going-back"></a>Going Back</h2><p>Looking at L = {a<sup>n</sup>b<sup>m</sup> | n &gt;= m &gt;= 0} (the non LL(k) langauge)</p><pre><code data-origin="<pre><code>1. S' -&amp;gt; &amp;lt;START&amp;gt;S&amp;lt;END&amp;gt;
2. S -&amp;gt; aS
3. S -&amp;gt; T
4. T -&amp;gt; aTb
5. T -&amp;gt; \epsilon
</code></pre>">1. S' -&gt; &lt;START&gt;S&lt;END&gt;
2. S -&gt; aS
3. S -&gt; T
4. T -&gt; aTb
5. T -&gt; \epsilon
</code></pre><p>What do we do when we see the symbol:<br><code>&lt;START&gt;</code> - shift<br><code>a</code> - shift<br><code>b</code> - reduce by 5 (only on the first b), then shift, then reduce by 4<br><code>&lt;END&gt;</code> - reduce by 3, repeatedly reduce by 2, shift, reduce by 1</p><p>EG: <code>&lt;START&gt;aaaabb&lt;END&gt;</code></p><p><img src="lec15_diagram4.png" alt="lec15_diagram4.png"></p><h2 id="fun-facts"><a name="fun-facts" href="#fun-facts"></a>Fun Facts</h2><p>Theorum: For any augmented LR(1) grammar, there is an equivalent LR(0) grammar</p><p>Theorem: The class of languages that can be parsed deterministically with a stack can be represented with an LR(1) grammar</p><h1 id="lecture-16"><a name="lecture-16" href="#lecture-16"></a>Lecture 16</h1><h2 id="big-picture-of-wlp4-compilation"><a name="big-picture-of-wlp4-compilation" href="#big-picture-of-wlp4-compilation"></a>Big Picture of WLP4 Compilation</h2><p><img src="compilation_big_picture.png" alt="compilation_big_picture.png"></p><h4 id="zooming-into-the-compiler:"><a name="zooming-into-the-compiler:" href="#zooming-into-the-compiler:"></a>Zooming into the compiler:</h4><p><img src="compiler.png" alt="compiler.png"></p><p>Recall:<br>Lexical = If you are using valid <em>words</em> (not neccessarily order)<br>Syntactic = If you are using the right words in the <em>right order</em><br>Semantic = If you are using the right words in the right order <em>with respect to other special rules</em></p><h2 id="example:"><a name="example:" href="#example:"></a>Example:</h2><p>Consider the input file</p><pre class="cpp hljs"><code class="cpp" data-origin="<pre><code class=&quot;cpp&quot;>int wain (int a, int b) {
    return a;
}
</code></pre>"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">wain</span> <span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b)</span> </span>{
    <span class="hljs-keyword">return</span> a;
}
</code></pre><p>The tokens we get from the scanner would be:</p><pre class="cpp hljs"><code class="cpp" data-origin="<pre><code class=&quot;cpp&quot;>INT WAIN LPAREN INT ID COMMA INT ID RPAREN LBRACK RETURN ID SEMI RBRACK
</code></pre>">INT WAIN LPAREN INT ID COMMA INT ID RPAREN LBRACK RETURN ID SEMI RBRACK
</code></pre><p>The parse tree might would thus look like:</p><p><img src="parestree.png" alt="parestree.png"></p><h2 id="context-sensitive-analysis"><a name="context-sensitive-analysis" href="#context-sensitive-analysis"></a>Context Sensitive Analysis</h2><p><em>Where</em> the statement occurs matters<br>Input: parse tree (therefore, the program is already syntactically valid)<br>Output: If the parse tree is semantically incorrect, then error, otherwise, output the same parse tree…</p><p>Basically: This is just a “check” step</p><p>You can optionally “add” some info to the outputted parse tree that makes code generation easier</p><h2 id="possible-errors:"><a name="possible-errors:" href="#possible-errors:"></a>Possible Errors:</h2><p>If a program is syntactically valid, what else can go wrong?<br><em>Variables:</em> Types<br><em>Variables:</em> Dupliacte<br><em>Variables:</em> Undeclared<br><em>Procedures:</em> Undeclared<br><em>Procedures:</em> Duplicate<br><em>Procedures:</em> Types of paramerters and return values<br><em>Procedures and Variables:</em> type of calling vars must match procedure decl. type<br><em>Variables and Procedures:</em> scope of variables in/out of procedures</p><h2 id="solving-the-" variable-declaration"-problems"=""><a name="solving-the-" variable-declaration"-problems"="" href="#solving-the-"></a>Solving the “Variable Declaration” Problems</h2><p>We’ve done this already!<br>Just use a <strong>Symbol Table!</strong></p><p>This solves undeclared and duplicate variable problems…</p><p>We can also solve the variable type problem with the symbol table by adding a column to the table for the <em>type</em> of the variable…</p><p>So, 3 cols: <code>| name | location | type |</code></p><p>Consider:</p><pre class="cpp hljs"><code class="cpp" data-origin="<pre><code class=&quot;cpp&quot;>int wain(int a, int b) {
    return x;
}
</code></pre>"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">wain</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b)</span> </span>{
    <span class="hljs-keyword">return</span> x;
}
</code></pre><p><code>x</code> is undeclared, and we can catch this by checking if x is int the symbol table when it is used</p><p>Consider:</p><pre class="cpp hljs"><code class="cpp" data-origin="<pre><code class=&quot;cpp&quot;>int wain(int a, int a) {
    return a;
}
</code></pre>"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">wain</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> a)</span> </span>{
    <span class="hljs-keyword">return</span> a;
}
</code></pre><p><code>a</code> is duplicated, and we can catch this by checking for if a var is already in the symbol table when it is attempting to be defined.</p><h2 id="procedures-bite-us"><a name="procedures-bite-us" href="#procedures-bite-us"></a>Procedures Bite Us</h2><p>consider:</p><pre class="cpp hljs"><code class="cpp" data-origin="<pre><code class=&quot;cpp&quot;>int wain() {
    int x = 0;
    return 1;
}

int wain(int a, int b) {
    int x = 0;
    int y = 0;
    y = g();
    return 1;
}
</code></pre>"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">wain</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">int</span> x = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
}

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">wain</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b)</span> </span>{
    <span class="hljs-keyword">int</span> x = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">int</span> y = <span class="hljs-number">0</span>;
    y = g();
    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
}
</code></pre><p>There are several things wrong here:<br>1) “false positive” on <code>x</code> being a duplicate variable (when using a global symbol table)<br>2) undefined function <code>g()</code><br>3) duplicate procedure names (wain x2)</p><h2 id="solving-" duplicate-="" -undeclared"-procedures-&-variables-at-the-same-time"=""><a name="solving-" duplicate-="" -undeclared"-procedures-&-variables-at-the-same-time"="" href="#solving-"></a>Solving “Duplicate / Undeclared” Procedures &amp; Variables At the Same Time</h2><p>For each procedure, we make it’s own symbol table<br>Make a global symbol table for procedures<br>- table should hold <code>| name | type | param types |</code></p><h2 id="obtaining-signatures"><a name="obtaining-signatures" href="#obtaining-signatures"></a>Obtaining Signatures</h2><p>Signature: parameter types, and # of parameters</p><p>To get this info, we can leverage our grammar:</p><pre><code data-origin="<pre><code>paramlist -&amp;gt; dcl
paramlist -&amp;gt; dcl COMMA paramlist
dcl -&amp;gt; type ID
params -&amp;gt; \epsilon
</code></pre>">paramlist -&gt; dcl
paramlist -&gt; dcl COMMA paramlist
dcl -&gt; type ID
params -&gt; \epsilon
</code></pre><p>dcl will eventually give us the type!<br>if params is empty tho, then that means we have an empty signature</p><p>Note: in WLP4, the only return type is <code>int</code>, so that makes life a bit easier</p><h2 id="why-types-matter"><a name="why-types-matter" href="#why-types-matter"></a>Why Types Matter</h2><p>Recall: looking at bits doesn’t actually tell us what they represent…</p><p>Types help us remember what exactly a variable <em>means</em></p><p>So, if we had code like</p><pre class="cpp hljs"><code class="cpp" data-origin="<pre><code class=&quot;cpp&quot;>int* a = NULL;
a = 7             // should probably be prevented...
</code></pre>"><span class="hljs-keyword">int</span>* a = NULL;
a = <span class="hljs-number">7</span>             <span class="hljs-comment">// should probably be prevented...</span>
</code></pre><p>In WLP4, there are only 2 types: <code>int</code> and <code>int*</code></p><h2 id="solving-the-" type-mismatch"-problems"=""><a name="solving-the-" type-mismatch"-problems"="" href="#solving-the-"></a>Solving the “Type Mismatch” Problems</h2><p>See the “WLP4 semantic rules” handout from the website</p><p>Notation: <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-141-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-1066" style="width: 5.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.317em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.002em 1000em 2.842em -0.492em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-1067"><span class="mfrac" id="MathJax-Span-1068"><span style="display: inline-block; position: relative; width: 4.054em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.614em 1000em 2.549em -0.48em); top: -2.798em; left: 50%; margin-left: -1.776em;"><span class="mrow" id="MathJax-Span-1069"><span class="mi" id="MathJax-Span-1070" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">a</span><span class="mi" id="MathJax-Span-1071" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">s</span><span class="mi" id="MathJax-Span-1072" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">s</span><span class="mi" id="MathJax-Span-1073" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">u</span><span class="mi" id="MathJax-Span-1074" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">m</span><span class="mi" id="MathJax-Span-1075" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">p</span><span class="mi" id="MathJax-Span-1076" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span class="mi" id="MathJax-Span-1077" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">i</span><span class="mi" id="MathJax-Span-1078" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">o</span><span class="mi" id="MathJax-Span-1079" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">n</span><span class="mi" id="MathJax-Span-1080" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">s</span></span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span><span style="position: absolute; clip: rect(1.764em 1000em 2.552em -0.471em); top: -1.896em; left: 50%; margin-left: -1.967em;"><span class="mrow" id="MathJax-Span-1081"><span class="mi" id="MathJax-Span-1082" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">c</span><span class="mi" id="MathJax-Span-1083" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">o</span><span class="mi" id="MathJax-Span-1084" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">n</span><span class="mi" id="MathJax-Span-1085" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">s</span><span class="mi" id="MathJax-Span-1086" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">e</span><span class="mi" id="MathJax-Span-1087" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">q</span><span class="mi" id="MathJax-Span-1088" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">u</span><span class="mi" id="MathJax-Span-1089" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">e</span><span class="mi" id="MathJax-Span-1090" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">n</span><span class="mi" id="MathJax-Span-1091" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">c</span><span class="mi" id="MathJax-Span-1092" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">e</span><span class="mi" id="MathJax-Span-1093" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">s</span></span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span><span style="position: absolute; clip: rect(0.861em 1000em 1.257em -0.492em); top: -1.313em; left: 0em;"><span style="border-left-width: 4.054em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.093em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.979em; vertical-align: -0.668em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-141">\frac{assumptions}{consequences}</script></span><br>To type check:<br>- make sure that all the rules in the handout are met wehn computing the type of an expression<br>- Make sure that the left hand side type (lvalue) is the same as the right hand side type (expr)</p><p>Hint: pointers make life more “interesting”</p><p>And as always: <em>if it’s not in the rules sheet, it ain’t valid!</em></p><h2 id="types-of-indentifiers"><a name="types-of-indentifiers" href="#types-of-indentifiers"></a>Types of Indentifiers</h2><p>Look in my symbol table for the type of a praticular ID</p><p>Big goal of A8:<br>Be able to typecheck an expression like <code>x = t + r - s</code></p><h2 id="addition-and-subtraction-are-hard"><a name="addition-and-subtraction-are-hard" href="#addition-and-subtraction-are-hard"></a>Addition and Subtraction are Hard</h2><pre><code data-origin="<pre><code>int  + int  -&amp;gt; int
int* + int  -&amp;gt; int*
int  + int* -&amp;gt; int*
int* + int* -&amp;gt; ERROR
int  - int  -&amp;gt; int
int* - int  -&amp;gt; int*
int  - int* -&amp;gt; ERROR
int* - int* -&amp;gt; int   // offset between two addresses: # of elements between them
</code></pre>">int  + int  -&gt; int
int* + int  -&gt; int*
int  + int* -&gt; int*
int* + int* -&gt; ERROR
int  - int  -&gt; int
int* - int  -&gt; int*
int  - int* -&gt; ERROR
int* - int* -&gt; int   // offset between two addresses: # of elements between them
</code></pre><h2 id="follow-the-spec-to-the-tee!"><a name="follow-the-spec-to-the-tee!" href="#follow-the-spec-to-the-tee!"></a>Follow the spec to the tee!</h2><p>There is a Spec Sheet of the 241 website that outlines EXACTLY how types can be used in all the various contexts!<br>Follow it!</p><hr class="section"><p><strong>NOTE:</strong> I switched to Troy Vasiga’s lecture section, so there might be shift in notes from this point…</p><hr class="section"><h1 id="lecture-17"><a name="lecture-17" href="#lecture-17"></a>Lecture 17</h1><h2 id="more-advanced-context-sensitive-analysis"><a name="more-advanced-context-sensitive-analysis" href="#more-advanced-context-sensitive-analysis"></a>More advanced context-sensitive analysis</h2><p>“Real” languages add more complexity (see CS444/CS442)<br>They have things like:</p><ul>
<li>Scope<ul>
<li>if-statements, while loops may have variable declarations</li><li>*in WLP4, all declarations are at the top of functions</li></ul>
</li><li>User-defined types<ul>
<li>classes, structs, objects</li></ul>
</li><li>Nested Pointers<ul>
<li>terrible things like <code>*****a</code></li></ul>
</li><li>OOP stuff<ul>
<li>inheritance, overloading…</li></ul>
</li></ul><p>All of this stuff adds a stupid ammount of complexity.<br>Don’t take CS444/CS442 unless your body is ready.</p><h2 id="code-generation-for-wlp4mpmp"><a name="code-generation-for-wlp4mpmp" href="#code-generation-for-wlp4mpmp"></a>Code Generation for WLP4MPMP</h2><p><strong>WLP4MPMP</strong> = Waterloo Language Plus Pointers Plus Procedures Minus Pointers Minus Procedures </p><p>AKA <strong>WL</strong></p><h2 id="code-generation-(a9,-a10)"><a name="code-generation-(a9,-a10)" href="#code-generation-(a9,-a10)"></a>Code Generation (A9, A10)</h2><p>Input:<br>1) Parse Tree (that is guaranteed to be Semantically Valid)<br>2) Symbol Table for Procedures and Variables</p><p>Output:<br>MIPS assembly language (<em>equivalent</em> to wlp4 program in terms of output and return values)</p><p>Outputs will vary from person to person, since there are different ways to do the same things with MIPS assembly.</p><h2 id="code-generation-issues"><a name="code-generation-issues" href="#code-generation-issues"></a>Code Generation Issues</h2><ul>
<li>Correctness<ul>
<li>guaranteed to generate code with the correct meaning</li><li><strong><em>this is the minimum requirement</em></strong></li></ul>
</li><li>Ease of writing compiler<ul>
<li>this is kind of language specific…<ul>
<li>WLP4 is “easy”</li><li>C++ is not easy</li></ul>
</li></ul>
</li><li>Efficiency of the compiler<ul>
<li>the speed of compilation<ul>
<li>Namely, have it to be O(n)</li><li>O(n<sup>2</sup>) is a instafail (for WLP4)</li></ul>
</li></ul>
</li><li>Efficiency of the compiled code<ul>
<li>how fast the generated code runs</li><li>this boils down to Optimizations<ul>
<li>don’t focus on this until you have a compiler the WORKS</li></ul>
</li></ul>
</li></ul><h2 id="syntax-directed-translation"><a name="syntax-directed-translation" href="#syntax-directed-translation"></a>Syntax Directed Translation</h2><p>Fundamental idea: traverse (go all the way down, and climb up) the parse tree and gather information.</p><h2 id="first-rule"><a name="first-rule" href="#first-rule"></a>First Rule</h2><p><code>main -&gt; INT WAIN LPAREN dcl COMMA dcl COMMA...</code> becomes</p><pre><code data-origin="<pre><code>code(main) = &amp;lt;stuff&amp;gt;         &quot;+&quot;
             code(dcl1)      &quot;+&quot;
             code(dcl2)      &quot;+&quot;
             code(dcls)      &quot;+&quot;
             code(statement) &quot;+&quot;
             code(expr)      &quot;+&quot;
             &amp;lt;more stuff&amp;gt;
</code></pre>">code(main) = &lt;stuff&gt;         "+"
             code(dcl1)      "+"
             code(dcl2)      "+"
             code(dcls)      "+"
             code(statement) "+"
             code(expr)      "+"
             &lt;more stuff&gt;
</code></pre><p><code>"+"</code> means that don’t actually do string concatenation (that becomes O(n<sup>2</sup>) in runtime, which is bad)</p><p><strong>TL;DR: Ya code is gonna be recursive!</strong></p><h2 id="three-more-simple-rules"><a name="three-more-simple-rules" href="#three-more-simple-rules"></a>Three more simple rules</h2><p><code>statements -&gt; epsilon</code> becomes</p><pre><code data-origin="<pre><code>code(statements) = &quot;&quot;
</code></pre>">code(statements) = ""
</code></pre><p><code>expr -&gt; term</code></p><pre><code data-origin="<pre><code>code(expr) = code(term)
</code></pre>">code(expr) = code(term)
</code></pre><p><code>term -&gt; factor</code></p><pre><code data-origin="<pre><code>code(term) = code(factor)
</code></pre>">code(term) = code(factor)
</code></pre><p>In general:<br>if <code>a -&gt; b</code> then <code>code(a) = code(b)</code><br>where a and b are non-terminals</p><h2 id="a9p1"><a name="a9p1" href="#a9p1"></a>A9P1</h2><p>Recall that input must be semantically valid<br>what do the WLP4 programs look like?</p><pre><code data-origin="<pre><code>int wain(int a, int b) {
    return a; // OR return b;
}
</code></pre>">int wain(int a, int b) {
    return a; // OR return b;
}
</code></pre><p>That’s all of ‘em.</p><p>The parse tree will thus look something like this:</p><pre><code data-origin="<pre><code>-------------------------------------- main --------------------------------------
|    |     |     |    |    |    |       |    |        |       |     |     |      |
INT WAIN LPAREN dcl COMMA dcl RPAREN LBRACE dcls statements RETURN expr SEMI RBRACE
                / \       / \                 |       |              |
             type  ID   type ID            epsilon  epsilon         term
              |           |                                          |
             INT         INT                                       factor
                                                                     |
                                                                     ID
</code></pre>">-------------------------------------- main --------------------------------------
|    |     |     |    |    |    |       |    |        |       |     |     |      |
INT WAIN LPAREN dcl COMMA dcl RPAREN LBRACE dcls statements RETURN expr SEMI RBRACE
                / \       / \                 |       |              |
             type  ID   type ID            epsilon  epsilon         term
              |           |                                          |
             INT         INT                                       factor
                                                                     |
                                                                     ID
</code></pre><p>What do the equivalent MIPS programs look like?</p><p>Assuming 1st param is in $1, and 2nd param is in $2, and return value is placed in $3</p><p>Well, it’s either</p><pre><code data-origin="<pre><code>add $3, $1, $0
jr  $31
</code></pre>">add $3, $1, $0
jr  $31
</code></pre><p>or</p><pre><code data-origin="<pre><code>add $3, $2, $0
jr  $31
</code></pre>">add $3, $2, $0
jr  $31
</code></pre><p>ggez</p><p>(theoretically, you can literally just write an if statement to solve this assignment question…)</p><h2 id="changes-to-the-symbol-table"><a name="changes-to-the-symbol-table" href="#changes-to-the-symbol-table"></a>Changes to the symbol table</h2><p>This table is generated in A8</p><table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Location</th>
</tr>
</thead>
<tbody>
<tr>
<td>a</td>
<td>int</td>
<td>$1</td>
</tr>
<tr>
<td>b</td>
<td>int</td>
<td>$2</td>
</tr>
</tbody>
</table><p>For all of A9: Type is always <code>int</code>, Locations are Registers…</p><h2 id="how-to-store-variables"><a name="how-to-store-variables" href="#how-to-store-variables"></a>How to store variables</h2><p>Option A: Variables in Registers<br>One variable per register, stored somehow in the symbol table.</p><p>Problems &gt; 32 variables…</p><p>Option B: Variables in RAM using .word<br>Each variable x in WLP4 program corresponds to label x in MIPS</p><p>Example:<br>Ouptut MIPS code like</p><pre><code data-origin="<pre><code>...
jr $31
; allocated variables
a: .word 0
b: .word 0
c: .word 0
</code></pre>">...
jr $31
; allocated variables
a: .word 0
b: .word 0
c: .word 0
</code></pre><p>Problems:</p><p>Problem 1) Getting the value of <code>c</code> for example:</p><pre><code data-origin="<pre><code>lis $3        ; THESE LINES ARE OVERHEAD
.word c       ; (and lead to poop efficiency)
lw $3, 0($3)
</code></pre>">lis $3        ; THESE LINES ARE OVERHEAD
.word c       ; (and lead to poop efficiency)
lw $3, 0($3)
</code></pre><p>This way of doing vars almost DOUBLES code length!</p><p>Problem 2) Name Clashing<br>In A10, there are multiple procedures that might have the same names…</p><h2 id="the-best-way-to-store-variables"><a name="the-best-way-to-store-variables" href="#the-best-way-to-store-variables"></a>The best way to store variables</h2><p>Option C: Variables on the Stack</p><p>Suppose we have n variables<br>How to get n? =&gt; Just look at the size of the symbol table!</p><p>Here is what we propose..<br>The Stack</p><pre><code data-origin="<pre><code>|           |
|           |
-------------
| initial c |
-------------
| initial b |
------------- memloc in $29
| initial a |
------------- memloc in $30
</code></pre>">|           |
|           |
-------------
| initial c |
-------------
| initial b |
------------- memloc in $29
| initial a |
------------- memloc in $30
</code></pre><p>The associated Symbol Table:</p><table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Location</th>
</tr>
</thead>
<tbody>
<tr>
<td>a</td>
<td>int</td>
<td>2</td>
</tr>
<tr>
<td>b</td>
<td>int</td>
<td>1</td>
</tr>
<tr>
<td>c</td>
<td>int</td>
<td>0</td>
</tr>
</tbody>
</table><p>With this method, we can easily find the address of the <em>i</em>th variable, simply by doing $30 + 4 * i</p><p>But, what about $30 having to change?</p><p>lets use another register, register $29<br>$29 will be the <strong>frame pointer</strong>, and it will point to the “bottom” variable</p><p>Now, we can find the <em>i</em>th variable by doing $29 + 4 * i</p><h2 id="some-conventions"><a name="some-conventions" href="#some-conventions"></a>Some conventions</h2><p>Special Registers:</p><ul>
<li>$0 = always 0, that we will treat as <strong>False</strong></li><li>$1 = value of 1st parameter, initially</li><li>$2 = value of 2nd parameter, initially</li><li>$3 = return value</li><li>$30 = stack pointer</li><li>$31 = return address</li></ul><p>Also, convention dictates that</p><ul>
<li>$4 = 4</li><li>$11 = 1 , that we will treat as <strong>true</strong></li><li>$29 = Frame Pointer (where the variables are)</li></ul><h2 id="code-structure"><a name="code-structure" href="#code-structure"></a>Code Structure</h2><p>Prologue:<br>Define all of the constants we need, and misc setup</p><pre><code data-origin="<pre><code>lis   $4
.word 4
lis   $11
.word 1
&amp;lt;store $31&amp;gt;
&amp;lt;store variables / setup $29&amp;gt;
</code></pre>">lis   $4
.word 4
lis   $11
.word 1
&lt;store $31&gt;
&lt;store variables / setup $29&gt;
</code></pre><p>Generated Code:<br>self explanatory…</p><p>Epilogue<br>Cleanup</p><pre><code data-origin="<pre><code>&amp;lt;restore $31&amp;gt;
jr    $31
</code></pre>">&lt;restore $31&gt;
jr    $31
</code></pre><h2 id="one-more-rule-(a9p2)"><a name="one-more-rule-(a9p2)" href="#one-more-rule-(a9p2)"></a>One More Rule (A9P2)</h2><p><code>factor -&gt; LPAREN expr RPAREN</code></p><p>now you can have code like</p><pre><code data-origin="<pre><code>int wain(int x, int y) {
    return (x); // or return ((x)), and so on...
}
</code></pre>">int wain(int x, int y) {
    return (x); // or return ((x)), and so on...
}
</code></pre><p>This code will actually return the exact same MIPS as A9P1!</p><h2 id="a9p3---full-expressions"><a name="a9p3---full-expressions" href="#a9p3---full-expressions"></a>A9P3 - Full Expressions</h2><p>so, things like</p><pre><code data-origin="<pre><code>int wain(int a, int b) { 
    return a + b;
}
</code></pre>">int wain(int a, int b) { 
    return a + b;
}
</code></pre><p>are fair game.</p><p>That code might result in</p><pre><code data-origin="<pre><code>add $3, $1, $2
jr  $31
</code></pre>">add $3, $1, $2
jr  $31
</code></pre><p>You can also have</p><pre><code data-origin="<pre><code>int wain(int a, int b) { 
    return a + b + a;
}
</code></pre>">int wain(int a, int b) { 
    return a + b + a;
}
</code></pre><p>How might the code for that look like?</p><p>Well, we have a rule <code>expr -&gt; expr PLUS term</code>, so the parse tree looks something like this…</p><pre><code data-origin="<pre><code>          _____ expr _____
         /       |        \
    __ expr __  PLUS      term
   /    |     \            |
 expr  PLUS  term        factor
  |           |            |
 term       factor       ID (a)
  |           |
 factor     ID (b)
  |
ID (a)
</code></pre>">          _____ expr _____
         /       |        \
    __ expr __  PLUS      term
   /    |     \            |
 expr  PLUS  term        factor
  |           |            |
 term       factor       ID (a)
  |           |
 factor     ID (b)
  |
ID (a)
</code></pre><p>Note that if we try and store the valie of the left-side of the tree in <span>$3, and also do the same with the right hand side of the tree, the value in \$</span>3 is overwritten!</p><p>Solution?</p><p>Use the stack!</p><p><code>expr1 -&gt; expr2 PLUS term</code></p><pre><code data-origin="<pre><code>code(expr1)  =   code(exp2) // $3 = value of expr2
               + push($3)   // push $3 onto the stack
                            //   sub $30, $30, $4
                            //   sw  $3, 0($30)
               + code(term) // $3 = term
               + pop($5)    // pop from the stack into $5
                            //   lw  $3, 0($30)
                            //   add $30, $30, $4
               + &quot;add $3, $5, $3&quot;
</code></pre>">code(expr1)  =   code(exp2) // $3 = value of expr2
               + push($3)   // push $3 onto the stack
                            //   sub $30, $30, $4
                            //   sw  $3, 0($30)
               + code(term) // $3 = term
               + pop($5)    // pop from the stack into $5
                            //   lw  $3, 0($30)
                            //   add $30, $30, $4
               + "add $3, $5, $3"
</code></pre><h1 id="lecture-18"><a name="lecture-18" href="#lecture-18"></a>Lecture 18</h1><h1 id="a9p4:-printing"><a name="a9p4:-printing" href="#a9p4:-printing"></a>A9P4: Printing</h1><p><code>statements -&gt; PRINTLN LPAREN expr RPAREN SEMI</code></p><p>A First Attempt:</p><pre><code data-origin="<pre><code>code(statements) =   code(expr) // $3 = value of expr
                   + move $3 to $1
                   + call print (a function we have)
</code></pre>">code(statements) =   code(expr) // $3 = value of expr
                   + move $3 to $1
                   + call print (a function we have)
</code></pre><p>Problems:<br>1) destroys $1<br>2) destroys $31</p><h2 id="sidenote:-where-is-print?"><a name="sidenote:-where-is-print?" href="#sidenote:-where-is-print?"></a>Sidenote: Where is print?</h2><p>We are given <code>print</code> in a merl file, so really, all we need is an <code>import print</code> in the Prologue</p><pre><code data-origin="<pre><code>code(statements) =   code(expr)
                   + &quot;add $1, $3, $0&quot;
                   + &quot;lis $5&quot;
                   + &quot;.word print&quot;
                   + push ($31)
                   + &quot;jalr $5&quot;
                   + pop($31)
</code></pre>">code(statements) =   code(expr)
                   + "add $1, $3, $0"
                   + "lis $5"
                   + ".word print"
                   + push ($31)
                   + "jalr $5"
                   + pop($31)
</code></pre><h2 id="how-do-we-not-destroy-\$1"><a name="how-do-we-not-destroy-\$1" href="#how-do-we-not-destroy-\$1"></a>How do we not destroy $1</h2><p>1) try different calling conventions?<br>eg: make <code>print</code> get it’s argument from $3</p><p>NO! Don’t do this! This is extremely bad!<br>All previous code that uses <code>print</code> is broken!</p><p>2) save register $1 before and after calling print</p><p>Okay… but it adds a significant ammount of overhead. 4 instructions per call.</p><p>3) stop worrying: do nothing.</p><h2 id="a-special-note-about-parameters-in-\$1-and-\$2"><a name="a-special-note-about-parameters-in-\$1-and-\$2" href="#a-special-note-about-parameters-in-\$1-and-\$2"></a>A special note about parameters in $1 and $2</h2><h3 id="they-are-not-special."><a name="they-are-not-special." href="#they-are-not-special."></a>They are not special.</h3><p>We save these on the fram at <code>0($29)</code> and <code>-4($29)</code> as soon as we see them, so there is no reason to care about $1 and $2 !</p><h2 id="other-advice-about-a9"><a name="other-advice-about-a9" href="#other-advice-about-a9"></a>Other Advice about A9</h2><ul>
<li>Comment both the code you write, AND the code that you generate! <ul>
<li>When things go wrong, and the MIPS doesn’t work, having comments that help you understand what a chunk of MIPS is supposed to do will help a lot!</li></ul>
</li><li>Use a rule-based structure<ul>
<li>each grammar rule will represent one function/procedure/step in our compilation process</li><li>the parse tree indicates which subtrees need to produce the code before the “entire” code has been produced</li></ul>
</li><li>Read the WHOLE assignment before starting and PLAN ahead</li><li>test, test, test (or don’t, but in that case, good luck fam)</li></ul><h2 id="declarations-(a9p5)"><a name="declarations-(a9p5)" href="#declarations-(a9p5)"></a>Declarations (A9P5)</h2><p>Adds the rule <code>dcls -&gt; dcls dcl BECOMES NUM SEMI</code><br>i.e: there can be as many declarations as we want.</p><p>Recall:</p><ul>
<li>Variables on the frame</li><li>Symbol table stores all declared variables<ul>
<li>each variable has an offset (eg: ith var is located at $29 + 4*i)</li></ul>
</li></ul><h2 id="giving-variables-values"><a name="giving-variables-values" href="#giving-variables-values"></a>Giving variables values</h2><p>The code to do that <code>BECOMES NUM SEMI</code> part of the rule, we write some code like:</p><pre><code data-origin="<pre><code>  code(NUM)         // basically, put the number in NUM into $3
+ &quot;sw $3, 4*i($29)&quot; // (calc 4*i when compiling using the SymbolTable)
</code></pre>">  code(NUM)         // basically, put the number in NUM into $3
+ "sw $3, 4*i($29)" // (calc 4*i when compiling using the SymbolTable)
</code></pre><p>Also, what about the rule <code>statement -&gt; lvalue BECOMES expr SEMI</code> (for now, lvalue is just and ID, not pointers yet…)</p><pre><code data-origin="<pre><code>code(statement) =   code(expr)
                  + &quot;sw $3, 4+i($29)&quot; \\ i is the offset of the ID in the LHS
</code></pre>">code(statement) =   code(expr)
                  + "sw $3, 4+i($29)" \\ i is the offset of the ID in the LHS
</code></pre><h2 id="booleans-(a9p6)"><a name="booleans-(a9p6)" href="#booleans-(a9p6)"></a>Booleans (A9P6)</h2><p>The only spot where booleans are allowed are in control structures (like if, while)</p><p>Rule: <code>test -&gt; expr1 LT expr2</code></p><p>Recall conventions:<br>$0 = 0 = false<br>$11 = 1 = true</p><p>MIPS code:</p><pre><code data-origin="<pre><code>code(test) =   code(expr1) // $3 = expr1
             + push($3)
             + code(expr2) // $3 = expr2
             + pop($5)
             + &quot;slt $3, $5, $3&quot;
</code></pre>">code(test) =   code(expr1) // $3 = expr1
             + push($3)
             + code(expr2) // $3 = expr2
             + pop($5)
             + "slt $3, $5, $3"
</code></pre><h2 id="while-loop-(a9p6)"><a name="while-loop-(a9p6)" href="#while-loop-(a9p6)"></a>While loop (A9P6)</h2><p><code>statement -&gt; WHILE LPAREN test RPAREN LBRACE statements RBRACE</code></p><p>MIPS code:</p><pre><code data-origin="<pre><code>code(statement) =   &quot;loopY:&quot;
                  + code(test)              // $3 = test (0 or 1)
                  + &quot;bne $3, $11, endloopY&quot; // if my test failed, end the loop
                  + code(statements)
                  + &quot;beq $0, $0, loopY&quot;
                  + &quot;endloopY:&quot;

// for Y = 0, 1, 2 ... for every while loop in the program
</code></pre>">code(statement) =   "loopY:"
                  + code(test)              // $3 = test (0 or 1)
                  + "bne $3, $11, endloopY" // if my test failed, end the loop
                  + code(statements)
                  + "beq $0, $0, loopY"
                  + "endloopY:"

// for Y = 0, 1, 2 ... for every while loop in the program
</code></pre><p>There is a long range problem: what if we have a really long while loop…<br>Branches only let you jump +- 2<sup>15</sup> (approx 32 000) words</p><p>Solution: Instead of using <code>beq $0, $0, label</code>, do</p><pre><code data-origin="<pre><code>lis $5
.word loop
jr $5
</code></pre>">lis $5
.word loop
jr $5
</code></pre><h2 id="if-statement-(a9p8)"><a name="if-statement-(a9p8)" href="#if-statement-(a9p8)"></a>If statement (A9P8)</h2><p><code>statement -&gt; IF test ... statements1 ... ELSE ... statements2 ...</code></p><pre><code data-origin="<pre><code>code(statement) =   code(test) // $3 is 0 or 1
                  + &quot;bne $3, $11, elseX&quot;
                  + code(statements1)
                  + &quot;beq $0, $0, endIfX&quot;
                  + &quot;elseX: &quot;
                  + code(statements2)
                  + &quot;endIfX: &quot;

// for X = 0, 1, 2 ... for every while loop in the program
</code></pre>">code(statement) =   code(test) // $3 is 0 or 1
                  + "bne $3, $11, elseX"
                  + code(statements1)
                  + "beq $0, $0, endIfX"
                  + "elseX: "
                  + code(statements2)
                  + "endIfX: "

// for X = 0, 1, 2 ... for every while loop in the program
</code></pre><h2 id="back-to-booleans-(a9p7)"><a name="back-to-booleans-(a9p7)" href="#back-to-booleans-(a9p7)"></a>Back to booleans (A9P7)</h2><p><code>test -&gt; expr1 GT expr2</code></p><pre><code data-origin="<pre><code>//we use this chunk of code a lot...
A(a,b) = return   code(a)
                + push($3)
                + code(b)
                + pop($5)

code(test) =   A(expr1, expr2)
             + slt $3, $3, $5
</code></pre>">//we use this chunk of code a lot...
A(a,b) = return   code(a)
                + push($3)
                + code(b)
                + pop($5)

code(test) =   A(expr1, expr2)
             + slt $3, $3, $5
</code></pre><p><code>test -&gt; expr1 NE expr2</code></p><pre><code data-origin="<pre><code>code(test) =   A(expr1, expr2)
             + &quot;slt $6, $5, $3&quot;
             + &quot;slt $7, $3, $5&quot;
             + &quot;add $3, $6, $7&quot;
</code></pre>">code(test) =   A(expr1, expr2)
             + "slt $6, $5, $3"
             + "slt $7, $3, $5"
             + "add $3, $6, $7"
</code></pre><h2 id="finishing-booleans-(a9p7)"><a name="finishing-booleans-(a9p7)" href="#finishing-booleans-(a9p7)"></a>Finishing Booleans (A9P7)</h2><p><code>test -&gt; expr1 EQ expr2</code></p><pre><code data-origin="<pre><code>code(test) =   code(NE)          // (literally the code to do not equal)
             + &quot;sub $3, $11, $3&quot; // negates this
</code></pre>">code(test) =   code(NE)          // (literally the code to do not equal)
             + "sub $3, $11, $3" // negates this
</code></pre><p><code>test -&gt; expr1 GE expr2</code></p><pre><code data-origin="<pre><code>code(test) =   code(LT)             // (literally the code to do less than)
             + &quot;sub $3, $11, $3&quot; // negates this
</code></pre>">code(test) =   code(LT)             // (literally the code to do less than)
             + "sub $3, $11, $3" // negates this
</code></pre><p><code>test -&gt; expr LE expr</code></p><pre><code data-origin="<pre><code>code(test) =   code(GT)             // (literallt the code to do greater than)
             + &quot;sub $3, $11, $3&quot;
</code></pre>">code(test) =   code(GT)             // (literallt the code to do greater than)
             + "sub $3, $11, $3"
</code></pre><h1 id="lecture-19"><a name="lecture-19" href="#lecture-19"></a>Lecture 19</h1><h2 id="pointer-basics-(a10p1)"><a name="pointer-basics-(a10p1)" href="#pointer-basics-(a10p1)"></a>Pointer Basics (A10P1)</h2><p><code>factor -&gt; NULL</code></p><p>Note: we want dereferencing NULL to Crash and Burn</p><pre><code data-origin="<pre><code>code(factor) = &quot;add $3, $11, $0&quot;
</code></pre>">code(factor) = "add $3, $11, $0"
</code></pre><p>If we dereference “1” we get a “unaligned word value” error, and that is good!</p><p><code>factor1 -&gt; STAR factor2</code></p><p>We know the type of factor2 is <code>int*</code>, and that factor1 is thus a <code>int</code></p><pre><code data-origin="<pre><code>code(factor1) =   code(factor2) // $3 is some address
                + &quot;lw $3, 0($3)&quot;
</code></pre>">code(factor1) =   code(factor2) // $3 is some address
                + "lw $3, 0($3)"
</code></pre><h2 id="using-address-of-(&amp;)"><a name="using-address-of-(&amp;)" href="#using-address-of-(&amp;)"></a>Using Address-of (&amp;)</h2><p><code>factor -&gt; AMP lvalue</code></p><p>Why, you might wonder, is the rule written this way, instead of <code>factor -&gt; AMP factor</code>?</p><p>Well, we don’t want to be able to do things like:<br>- <code>&amp;5 or &amp;NULL</code><br>-<code>&amp;&amp;&amp;x</code> (since that would be of type <code>int***</code> which is not allowed)</p><p>Considering what grammat <code>lvalue</code> can have:<br>1) <code>lvalue -&gt; ID</code> - eg: <code>x = ...</code><br>2) <code>lvalue -&gt; STAR factor</code> - eg: <code>*x = ...</code><br>3) <code>lvalue -&gt; LPAREN lvalue RPAREN</code> - eg: <code>(*x) = ...</code></p><p>Also, the grammar rules disallow:<br>- <code>x + 2 = y</code> - doing the algebric<br>- <code>7 = 4</code> - redefining constants</p><h2 id="code-for-&amp;"><a name="code-for-&amp;" href="#code-for-&amp;"></a>Code for &amp;</h2><p><code>factor1 -&gt; AMP lvalue</code></p><p>We actually need to do a look ahead at what lvalue is…</p><p>Three cases:<br>1) <code>lvalue</code> is an identifier (eg: <code>&amp;x</code>)</p><pre><code data-origin="<pre><code>code(factor1) =   &quot;lis $3&quot;
                + &quot;.word &amp;lt;offset of ID&amp;gt;&quot;
                + &quot;add $3, $29, $3&quot;
</code></pre>">code(factor1) =   "lis $3"
                + ".word &lt;offset of ID&gt;"
                + "add $3, $29, $3"
</code></pre><p>2) <code>lvalue</code> is a <code>STAR factor2</code> - i.e: <code>&amp;*x</code><br>well, <code>&amp;*x == x</code>… sooooo</p><pre><code data-origin="<pre><code>code(factor1) = code(factor2)
</code></pre>">code(factor1) = code(factor2)
</code></pre><p>3) <code>lvalue</code> is a <code>LPAREN lvalue RPAREN</code></p><pre><code data-origin="<pre><code>trivial
</code></pre>">trivial
</code></pre><h2 id="assignment-to-pointer-dereference"><a name="assignment-to-pointer-dereference" href="#assignment-to-pointer-dereference"></a>Assignment to pointer dereference</h2><p><code>lvalue -&gt; STAR factor</code> (eg: <code>*x = 4 + 9</code>)</p><p>Let’s step back and look at the rule:<br><code>statement -&gt; lvalue BECOMES expr SEMI</code></p><p>if <code>lvalue == ID</code> do A9 stuff<br>if <code>lvalue == STAR factor</code>…</p><pre><code data-origin="<pre><code>code(statements) =   code(factor)     // $3 has an address
                   + &quot;add $6, $3, $0&quot; // $6 has ^ addr
                   + code(expr)       // $3 has expr
                   + &quot;sw $3, 0($6)&quot;
</code></pre>">code(statements) =   code(factor)     // $3 has an address
                   + "add $6, $3, $0" // $6 has ^ addr
                   + code(expr)       // $3 has expr
                   + "sw $3, 0($6)"
</code></pre><h2 id="a-" simple"-wlp4-program"=""><a name="a-" simple"-wlp4-program"="" href="#a-"></a>A “simple” WLP4 Program</h2><p>Running with mips.array (so $1 = base_adress, $2 = size)</p><pre><code data-origin="<pre><code>int wain(int *a, int n) {
    return *a;
}
</code></pre>">int wain(int *a, int n) {
    return *a;
}
</code></pre><p>Wat do?<br>Returns the value of the first element in the array.</p><p>How do?<br>Theoretically: “lw $3, 0($1)” (but not for realsies, since we throw $1 on the stack, blah blah blah)</p><h2 id="what-mips.array-is-doing"><a name="what-mips.array-is-doing" href="#what-mips.array-is-doing"></a>What mips.array is doing</h2><p>mips.array allocates memory on the <em>heap</em> and then calls wain with the address and the size as parameters</p><h2 id="a-second-example"><a name="a-second-example" href="#a-second-example"></a>A Second Example</h2><pre><code data-origin="<pre><code>int wain(int *a, int n) {
    return *(a+1);
}
</code></pre>">int wain(int *a, int n) {
    return *(a+1);
}
</code></pre><p>Wat do?<br>Returns the second element of the array.</p><p>SIDENOTE: in higher level languages, we would do <code>a[1]</code>, but that is EXACTLY EQUIVALENT to <code>*(a + 1)</code> (and by extension, also <code>*(1 + a)</code> and, if you’re a real sadist: <code>1[a]</code>)</p><h2 id="back-to-compilation-(a10p2)"><a name="back-to-compilation-(a10p2)" href="#back-to-compilation-(a10p2)"></a>Back to Compilation (A10P2)</h2><p><code>factor -&gt; NEW INT LBRACK expr RBRACK</code> — Create and Array<br><code>statement -&gt; DELETE LBRACK RBRACK expr SEMI</code> — Reclaim an array</p><p>How do?</p><p>In Prologue: link in <code>alloc.merl</code> with a <code>.import alloc.merl</code>!<br>This gives us access to a few functions:</p><ul>
<li><code>init</code>  = initialize the heap<ul>
<li>make sure to set $2 to<ul>
<li>0 if wain takes (int, int)</li><li>length of the array if wain takes (int, int*)</li></ul>
</li></ul>
</li><li><code>new</code> = allocates an array, and returns pointer to it in $3<ul>
<li>make sure to set $1 to the size of the array</li><li>IF UNSUCCESSFUL: returns <strong>0</strong> (<strong>NOT NULL i.e 1</strong>)<ul>
<li>you sould make that into NULL tho</li></ul>
</li></ul>
</li><li><code>delete</code> = frees array<ul>
<li>make sure $1 is the base address of what you want to free</li><li>CHECK IF IT’S NULL, and don’t try to delete if it is!<ul>
<li>you don’t neeeed to throw an error, just don’t do it</li></ul>
</li></ul>
</li></ul><h2 id="pointer-arithmetic"><a name="pointer-arithmetic" href="#pointer-arithmetic"></a>Pointer Arithmetic</h2><p><code>expr1 -&gt; expr2 PLUS term</code></p><p>if expr1 is an <code>int</code>, and expr2 is an <code>int</code>, do A9 stuff.</p><p>if exp1 is an <code>int*</code>, and expr2 is an <code>int</code> (or vice versa):</p><pre><code data-origin="<pre><code>code(expr1) =   code(expr1)
              + ... NEXT LECTURE
</code></pre>">code(expr1) =   code(expr1)
              + ... NEXT LECTURE
</code></pre><h1 id="lecture-20"><a name="lecture-20" href="#lecture-20"></a>Lecture 20</h1>

<footer style="position:fixed; font-size:.8em; text-align:right; bottom:0px; margin-left:-25px; height:20px; width:100%;">generated by <a href="http://pad.haroopress.com" target="_blank">haroopad</a></footer>
</body>
</html>
